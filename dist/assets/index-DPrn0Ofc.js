(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function ST(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var xh={exports:{}},Qa={},Nh={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg;function RT(){if(Fg)return je;Fg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function I(b){return b===null||typeof b!="object"?null:(b=T&&b[T]||b["@@iterator"],typeof b=="function"?b:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,$={};function U(b,Y,we){this.props=b,this.context=Y,this.refs=$,this.updater=we||C}U.prototype.isReactComponent={},U.prototype.setState=function(b,Y){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,Y,"setState")},U.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function H(){}H.prototype=U.prototype;function ie(b,Y,we){this.props=b,this.context=Y,this.refs=$,this.updater=we||C}var ne=ie.prototype=new H;ne.constructor=ie,V(ne,U.prototype),ne.isPureReactComponent=!0;var he=Array.isArray,j=Object.prototype.hasOwnProperty,ce={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(b,Y,we){var be,Oe={},ze=null,Ze=null;if(Y!=null)for(be in Y.ref!==void 0&&(Ze=Y.ref),Y.key!==void 0&&(ze=""+Y.key),Y)j.call(Y,be)&&!k.hasOwnProperty(be)&&(Oe[be]=Y[be]);var et=arguments.length-2;if(et===1)Oe.children=we;else if(1<et){for(var Fe=Array(et),ft=0;ft<et;ft++)Fe[ft]=arguments[ft+2];Oe.children=Fe}if(b&&b.defaultProps)for(be in et=b.defaultProps,et)Oe[be]===void 0&&(Oe[be]=et[be]);return{$$typeof:n,type:b,key:ze,ref:Ze,props:Oe,_owner:ce.current}}function R(b,Y){return{$$typeof:n,type:b.type,key:Y,ref:b.ref,props:b.props,_owner:b._owner}}function x(b){return typeof b=="object"&&b!==null&&b.$$typeof===n}function L(b){var Y={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(we){return Y[we]})}var F=/\/+/g;function P(b,Y){return typeof b=="object"&&b!==null&&b.key!=null?L(""+b.key):Y.toString(36)}function dt(b,Y,we,be,Oe){var ze=typeof b;(ze==="undefined"||ze==="boolean")&&(b=null);var Ze=!1;if(b===null)Ze=!0;else switch(ze){case"string":case"number":Ze=!0;break;case"object":switch(b.$$typeof){case n:case e:Ze=!0}}if(Ze)return Ze=b,Oe=Oe(Ze),b=be===""?"."+P(Ze,0):be,he(Oe)?(we="",b!=null&&(we=b.replace(F,"$&/")+"/"),dt(Oe,Y,we,"",function(ft){return ft})):Oe!=null&&(x(Oe)&&(Oe=R(Oe,we+(!Oe.key||Ze&&Ze.key===Oe.key?"":(""+Oe.key).replace(F,"$&/")+"/")+b)),Y.push(Oe)),1;if(Ze=0,be=be===""?".":be+":",he(b))for(var et=0;et<b.length;et++){ze=b[et];var Fe=be+P(ze,et);Ze+=dt(ze,Y,we,Fe,Oe)}else if(Fe=I(b),typeof Fe=="function")for(b=Fe.call(b),et=0;!(ze=b.next()).done;)ze=ze.value,Fe=be+P(ze,et++),Ze+=dt(ze,Y,we,Fe,Oe);else if(ze==="object")throw Y=String(b),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Ze}function Ge(b,Y,we){if(b==null)return b;var be=[],Oe=0;return dt(b,be,"","",function(ze){return Y.call(we,ze,Oe++)}),be}function Ct(b){if(b._status===-1){var Y=b._result;Y=Y(),Y.then(function(we){(b._status===0||b._status===-1)&&(b._status=1,b._result=we)},function(we){(b._status===0||b._status===-1)&&(b._status=2,b._result=we)}),b._status===-1&&(b._status=0,b._result=Y)}if(b._status===1)return b._result.default;throw b._result}var Qe={current:null},oe={transition:null},Ie={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:oe,ReactCurrentOwner:ce};function de(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:Ge,forEach:function(b,Y,we){Ge(b,function(){Y.apply(this,arguments)},we)},count:function(b){var Y=0;return Ge(b,function(){Y++}),Y},toArray:function(b){return Ge(b,function(Y){return Y})||[]},only:function(b){if(!x(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},je.Component=U,je.Fragment=t,je.Profiler=o,je.PureComponent=ie,je.StrictMode=i,je.Suspense=p,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ie,je.act=de,je.cloneElement=function(b,Y,we){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var be=V({},b.props),Oe=b.key,ze=b.ref,Ze=b._owner;if(Y!=null){if(Y.ref!==void 0&&(ze=Y.ref,Ze=ce.current),Y.key!==void 0&&(Oe=""+Y.key),b.type&&b.type.defaultProps)var et=b.type.defaultProps;for(Fe in Y)j.call(Y,Fe)&&!k.hasOwnProperty(Fe)&&(be[Fe]=Y[Fe]===void 0&&et!==void 0?et[Fe]:Y[Fe])}var Fe=arguments.length-2;if(Fe===1)be.children=we;else if(1<Fe){et=Array(Fe);for(var ft=0;ft<Fe;ft++)et[ft]=arguments[ft+2];be.children=et}return{$$typeof:n,type:b.type,key:Oe,ref:ze,props:be,_owner:Ze}},je.createContext=function(b){return b={$$typeof:c,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:l,_context:b},b.Consumer=b},je.createElement=S,je.createFactory=function(b){var Y=S.bind(null,b);return Y.type=b,Y},je.createRef=function(){return{current:null}},je.forwardRef=function(b){return{$$typeof:h,render:b}},je.isValidElement=x,je.lazy=function(b){return{$$typeof:v,_payload:{_status:-1,_result:b},_init:Ct}},je.memo=function(b,Y){return{$$typeof:y,type:b,compare:Y===void 0?null:Y}},je.startTransition=function(b){var Y=oe.transition;oe.transition={};try{b()}finally{oe.transition=Y}},je.unstable_act=de,je.useCallback=function(b,Y){return Qe.current.useCallback(b,Y)},je.useContext=function(b){return Qe.current.useContext(b)},je.useDebugValue=function(){},je.useDeferredValue=function(b){return Qe.current.useDeferredValue(b)},je.useEffect=function(b,Y){return Qe.current.useEffect(b,Y)},je.useId=function(){return Qe.current.useId()},je.useImperativeHandle=function(b,Y,we){return Qe.current.useImperativeHandle(b,Y,we)},je.useInsertionEffect=function(b,Y){return Qe.current.useInsertionEffect(b,Y)},je.useLayoutEffect=function(b,Y){return Qe.current.useLayoutEffect(b,Y)},je.useMemo=function(b,Y){return Qe.current.useMemo(b,Y)},je.useReducer=function(b,Y,we){return Qe.current.useReducer(b,Y,we)},je.useRef=function(b){return Qe.current.useRef(b)},je.useState=function(b){return Qe.current.useState(b)},je.useSyncExternalStore=function(b,Y,we){return Qe.current.useSyncExternalStore(b,Y,we)},je.useTransition=function(){return Qe.current.useTransition()},je.version="18.3.1",je}var Ug;function Rf(){return Ug||(Ug=1,Nh.exports=RT()),Nh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg;function AT(){if(jg)return Qa;jg=1;var n=Rf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,y){var v,T={},I=null,C=null;y!==void 0&&(I=""+y),p.key!==void 0&&(I=""+p.key),p.ref!==void 0&&(C=p.ref);for(v in p)i.call(p,v)&&!l.hasOwnProperty(v)&&(T[v]=p[v]);if(h&&h.defaultProps)for(v in p=h.defaultProps,p)T[v]===void 0&&(T[v]=p[v]);return{$$typeof:e,type:h,key:I,ref:C,props:T,_owner:o.current}}return Qa.Fragment=t,Qa.jsx=c,Qa.jsxs=c,Qa}var zg;function CT(){return zg||(zg=1,xh.exports=AT()),xh.exports}var le=CT(),q=Rf();const Gs=ST(q);var Hu={},Dh={exports:{}},Nn={},Lh={exports:{}},Oh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bg;function PT(){return Bg||(Bg=1,function(n){function e(oe,Ie){var de=oe.length;oe.push(Ie);e:for(;0<de;){var b=de-1>>>1,Y=oe[b];if(0<o(Y,Ie))oe[b]=Ie,oe[de]=Y,de=b;else break e}}function t(oe){return oe.length===0?null:oe[0]}function i(oe){if(oe.length===0)return null;var Ie=oe[0],de=oe.pop();if(de!==Ie){oe[0]=de;e:for(var b=0,Y=oe.length,we=Y>>>1;b<we;){var be=2*(b+1)-1,Oe=oe[be],ze=be+1,Ze=oe[ze];if(0>o(Oe,de))ze<Y&&0>o(Ze,Oe)?(oe[b]=Ze,oe[ze]=de,b=ze):(oe[b]=Oe,oe[be]=de,b=be);else if(ze<Y&&0>o(Ze,de))oe[b]=Ze,oe[ze]=de,b=ze;else break e}}return Ie}function o(oe,Ie){var de=oe.sortIndex-Ie.sortIndex;return de!==0?de:oe.id-Ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var p=[],y=[],v=1,T=null,I=3,C=!1,V=!1,$=!1,U=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ne(oe){for(var Ie=t(y);Ie!==null;){if(Ie.callback===null)i(y);else if(Ie.startTime<=oe)i(y),Ie.sortIndex=Ie.expirationTime,e(p,Ie);else break;Ie=t(y)}}function he(oe){if($=!1,ne(oe),!V)if(t(p)!==null)V=!0,Ct(j);else{var Ie=t(y);Ie!==null&&Qe(he,Ie.startTime-oe)}}function j(oe,Ie){V=!1,$&&($=!1,H(S),S=-1),C=!0;var de=I;try{for(ne(Ie),T=t(p);T!==null&&(!(T.expirationTime>Ie)||oe&&!L());){var b=T.callback;if(typeof b=="function"){T.callback=null,I=T.priorityLevel;var Y=b(T.expirationTime<=Ie);Ie=n.unstable_now(),typeof Y=="function"?T.callback=Y:T===t(p)&&i(p),ne(Ie)}else i(p);T=t(p)}if(T!==null)var we=!0;else{var be=t(y);be!==null&&Qe(he,be.startTime-Ie),we=!1}return we}finally{T=null,I=de,C=!1}}var ce=!1,k=null,S=-1,R=5,x=-1;function L(){return!(n.unstable_now()-x<R)}function F(){if(k!==null){var oe=n.unstable_now();x=oe;var Ie=!0;try{Ie=k(!0,oe)}finally{Ie?P():(ce=!1,k=null)}}else ce=!1}var P;if(typeof ie=="function")P=function(){ie(F)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,Ge=dt.port2;dt.port1.onmessage=F,P=function(){Ge.postMessage(null)}}else P=function(){U(F,0)};function Ct(oe){k=oe,ce||(ce=!0,P())}function Qe(oe,Ie){S=U(function(){oe(n.unstable_now())},Ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_continueExecution=function(){V||C||(V=!0,Ct(j))},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(oe){switch(I){case 1:case 2:case 3:var Ie=3;break;default:Ie=I}var de=I;I=Ie;try{return oe()}finally{I=de}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(oe,Ie){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var de=I;I=oe;try{return Ie()}finally{I=de}},n.unstable_scheduleCallback=function(oe,Ie,de){var b=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?b+de:b):de=b,oe){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=de+Y,oe={id:v++,callback:Ie,priorityLevel:oe,startTime:de,expirationTime:Y,sortIndex:-1},de>b?(oe.sortIndex=de,e(y,oe),t(p)===null&&oe===t(y)&&($?(H(S),S=-1):$=!0,Qe(he,de-b))):(oe.sortIndex=Y,e(p,oe),V||C||(V=!0,Ct(j))),oe},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(oe){var Ie=I;return function(){var de=I;I=Ie;try{return oe.apply(this,arguments)}finally{I=de}}}}(Oh)),Oh}var $g;function kT(){return $g||($g=1,Lh.exports=PT()),Lh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg;function xT(){if(Hg)return Nn;Hg=1;var n=Rf(),e=kT();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},T={};function I(r){return p.call(T,r)?!0:p.call(v,r)?!1:y.test(r)?T[r]=!0:(v[r]=!0,!1)}function C(r,s,a,d){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function V(r,s,a,d){if(s===null||typeof s>"u"||C(r,s,a,d))return!0;if(d)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function $(r,s,a,d,f,g,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=E}var U={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){U[r]=new $(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];U[s]=new $(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){U[r]=new $(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){U[r]=new $(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){U[r]=new $(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){U[r]=new $(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){U[r]=new $(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){U[r]=new $(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){U[r]=new $(r,5,!1,r.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function ie(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(H,ie);U[s]=new $(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(H,ie);U[s]=new $(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(H,ie);U[s]=new $(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){U[r]=new $(r,1,!1,r.toLowerCase(),null,!1,!1)}),U.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){U[r]=new $(r,1,!1,r.toLowerCase(),null,!0,!0)});function ne(r,s,a,d){var f=U.hasOwnProperty(s)?U[s]:null;(f!==null?f.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(V(s,a,f,d)&&(a=null),d||f===null?I(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,d=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,d?r.setAttributeNS(d,s,a):r.setAttribute(s,a))))}var he=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),ce=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),L=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),Ge=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),Qe=Symbol.for("react.offscreen"),oe=Symbol.iterator;function Ie(r){return r===null||typeof r!="object"?null:(r=oe&&r[oe]||r["@@iterator"],typeof r=="function"?r:null)}var de=Object.assign,b;function Y(r){if(b===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);b=s&&s[1]||""}return`
`+b+r}var we=!1;function be(r,s){if(!r||we)return"";we=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(K){var d=K}Reflect.construct(r,[],s)}else{try{s.call()}catch(K){d=K}r.call(s.prototype)}else{try{throw Error()}catch(K){d=K}r()}}catch(K){if(K&&d&&typeof K.stack=="string"){for(var f=K.stack.split(`
`),g=d.stack.split(`
`),E=f.length-1,A=g.length-1;1<=E&&0<=A&&f[E]!==g[A];)A--;for(;1<=E&&0<=A;E--,A--)if(f[E]!==g[A]){if(E!==1||A!==1)do if(E--,A--,0>A||f[E]!==g[A]){var N=`
`+f[E].replace(" at new "," at ");return r.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",r.displayName)),N}while(1<=E&&0<=A);break}}}finally{we=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?Y(r):""}function Oe(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=be(r.type,!1),r;case 11:return r=be(r.type.render,!1),r;case 1:return r=be(r.type,!0),r;default:return""}}function ze(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case ce:return"Portal";case R:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case dt:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case L:return(r.displayName||"Context")+".Consumer";case x:return(r._context.displayName||"Context")+".Provider";case F:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ge:return s=r.displayName||null,s!==null?s:ze(r.type)||"Memo";case Ct:s=r._payload,r=r._init;try{return ze(r(s))}catch{}}return null}function Ze(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ze(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function et(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Fe(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ft(r){var s=Fe(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){d=""+E,g.call(this,E)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Bn(r){r._valueTracker||(r._valueTracker=ft(r))}function Ti(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),d="";return r&&(d=Fe(r)?r.checked?"true":"false":r.value),r=d,r!==a?(s.setValue(r),!0):!1}function nn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Kr(r,s){var a=s.checked;return de({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Ii(r,s){var a=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;a=et(s.value!=null?s.value:a),r._wrapperState={initialChecked:d,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Si(r,s){s=s.checked,s!=null&&ne(r,"checked",s,!1)}function Ts(r,s){Si(r,s);var a=et(s.value),d=s.type;if(a!=null)d==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Ri(r,s.type,a):s.hasOwnProperty("defaultValue")&&Ri(r,s.type,et(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function lo(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Ri(r,s,a){(s!=="number"||nn(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var er=Array.isArray;function Wt(r,s,a,d){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&d&&(r[a].defaultSelected=!0)}else{for(a=""+et(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,d&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function tr(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return de({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Gr(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(er(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:et(a)}}function Ar(r,s){var a=et(s.value),d=et(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),d!=null&&(r.defaultValue=""+d)}function wn(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function lt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function St(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?lt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Ln,Is=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,d,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,d,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Ln=Ln||document.createElement("div"),Ln.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ln.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function qt(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Cr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pr=["Webkit","ms","Moz","O"];Object.keys(Cr).forEach(function(r){Pr.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Cr[s]=Cr[r]})});function Ai(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Cr.hasOwnProperty(r)&&Cr[r]?(""+s).trim():s+"px"}function Ss(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var d=a.indexOf("--")===0,f=Ai(a,s[a],d);a==="float"&&(a="cssFloat"),d?r.setProperty(a,f):r[a]=f}}var Ci=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kr(r,s){if(s){if(Ci[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Pi(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nr=null;function ki(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Qr=null,Tn=null,On=null;function rr(r){if(r=Oa(r)){if(typeof Qr!="function")throw Error(t(280));var s=r.stateNode;s&&(s=su(s),Qr(r.stateNode,r.type,s))}}function mn(r){Tn?On?On.push(r):On=[r]:Tn=r}function Rs(){if(Tn){var r=Tn,s=On;if(On=Tn=null,rr(r),s)for(r=0;r<s.length;r++)rr(s[r])}}function Yr(r,s){return r(s)}function D(){}var M=!1;function G(r,s,a){if(M)return r(s,a);M=!0;try{return Yr(r,s,a)}finally{M=!1,(Tn!==null||On!==null)&&(D(),Rs())}}function X(r,s){var a=r.stateNode;if(a===null)return null;var d=su(a);if(d===null)return null;a=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var fe=!1;if(h)try{var _e={};Object.defineProperty(_e,"passive",{get:function(){fe=!0}}),window.addEventListener("test",_e,_e),window.removeEventListener("test",_e,_e)}catch{fe=!1}function Ce(r,s,a,d,f,g,E,A,N){var K=Array.prototype.slice.call(arguments,3);try{s.apply(a,K)}catch(te){this.onError(te)}}var pe=!1,Ee=null,ae=!1,xe=null,Ue={onError:function(r){pe=!0,Ee=r}};function it(r,s,a,d,f,g,E,A,N){pe=!1,Ee=null,Ce.apply(Ue,arguments)}function Rt(r,s,a,d,f,g,E,A,N){if(it.apply(this,arguments),pe){if(pe){var K=Ee;pe=!1,Ee=null}else throw Error(t(198));ae||(ae=!0,xe=K)}}function We(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function tt(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function st(r){if(We(r)!==r)throw Error(t(188))}function ir(r){var s=r.alternate;if(!s){if(s=We(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,d=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(d=f.return,d!==null){a=d;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return st(f),r;if(g===d)return st(f),s;g=g.sibling}throw Error(t(188))}if(a.return!==d.return)a=f,d=g;else{for(var E=!1,A=f.child;A;){if(A===a){E=!0,a=f,d=g;break}if(A===d){E=!0,d=f,a=g;break}A=A.sibling}if(!E){for(A=g.child;A;){if(A===a){E=!0,a=g,d=f;break}if(A===d){E=!0,d=g,a=f;break}A=A.sibling}if(!E)throw Error(t(189))}}if(a.alternate!==d)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function sr(r){return r=ir(r),r!==null?rn(r):null}function rn(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=rn(r);if(s!==null)return s;r=r.sibling}return null}var Kt=e.unstable_scheduleCallback,Xr=e.unstable_cancelCallback,xr=e.unstable_shouldYield,or=e.unstable_requestPaint,ot=e.unstable_now,Jr=e.unstable_getCurrentPriorityLevel,Ye=e.unstable_ImmediatePriority,pt=e.unstable_UserBlockingPriority,Gt=e.unstable_NormalPriority,ar=e.unstable_LowPriority,mt=e.unstable_IdlePriority,In=null,sn=null;function uo(r){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(In,r,void 0,(r.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:Ml,_a=Math.log,bl=Math.LN2;function Ml(r){return r>>>=0,r===0?32:31-(_a(r)/bl|0)|0}var co=64,ho=4194304;function xi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function As(r,s){var a=r.pendingLanes;if(a===0)return 0;var d=0,f=r.suspendedLanes,g=r.pingedLanes,E=a&268435455;if(E!==0){var A=E&~f;A!==0?d=xi(A):(g&=E,g!==0&&(d=xi(g)))}else E=a&~f,E!==0?d=xi(E):g!==0&&(d=xi(g));if(d===0)return 0;if(s!==0&&s!==d&&!(s&f)&&(f=d&-d,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if(d&4&&(d|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)a=31-gn(s),f=1<<a,d|=r[a],s&=~f;return d}function od(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zr(r,s){for(var a=r.suspendedLanes,d=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var E=31-gn(g),A=1<<E,N=f[E];N===-1?(!(A&a)||A&d)&&(f[E]=od(A,s)):N<=s&&(r.expiredLanes|=A),g&=~A}}function Vn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Cs(){var r=co;return co<<=1,!(co&4194240)&&(co=64),r}function Ni(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Di(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-gn(s),r[s]=a}function ct(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-gn(a),g=1<<f;s[f]=0,d[f]=-1,r[f]=-1,a&=~g}}function Li(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var d=31-gn(a),f=1<<d;f&s|r[d]&s&&(r[d]|=s),a&=~f}}var qe=0;function Oi(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Fl,fo,Ul,jl,zl,va=!1,Nr=[],Qt=null,lr=null,ur=null,Vi=new Map,$n=new Map,Dr=[],ad="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bl(r,s){switch(r){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":Vi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":$n.delete(s.pointerId)}}function Sn(r,s,a,d,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:d,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Oa(s),s!==null&&fo(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function ld(r,s,a,d,f){switch(s){case"focusin":return Qt=Sn(Qt,r,s,a,d,f),!0;case"dragenter":return lr=Sn(lr,r,s,a,d,f),!0;case"mouseover":return ur=Sn(ur,r,s,a,d,f),!0;case"pointerover":var g=f.pointerId;return Vi.set(g,Sn(Vi.get(g)||null,r,s,a,d,f)),!0;case"gotpointercapture":return g=f.pointerId,$n.set(g,Sn($n.get(g)||null,r,s,a,d,f)),!0}return!1}function $l(r){var s=Ds(r.target);if(s!==null){var a=We(s);if(a!==null){if(s=a.tag,s===13){if(s=tt(a),s!==null){r.blockedOn=s,zl(r.priority,function(){Ul(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ei(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=po(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var d=new a.constructor(a.type,a);nr=d,a.target.dispatchEvent(d),nr=null}else return s=Oa(a),s!==null&&fo(s),r.blockedOn=a,!1;s.shift()}return!0}function Ps(r,s,a){ei(r)&&a.delete(s)}function Hl(){va=!1,Qt!==null&&ei(Qt)&&(Qt=null),lr!==null&&ei(lr)&&(lr=null),ur!==null&&ei(ur)&&(ur=null),Vi.forEach(Ps),$n.forEach(Ps)}function cr(r,s){r.blockedOn===s&&(r.blockedOn=null,va||(va=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Hl)))}function dr(r){function s(f){return cr(f,r)}if(0<Nr.length){cr(Nr[0],r);for(var a=1;a<Nr.length;a++){var d=Nr[a];d.blockedOn===r&&(d.blockedOn=null)}}for(Qt!==null&&cr(Qt,r),lr!==null&&cr(lr,r),ur!==null&&cr(ur,r),Vi.forEach(s),$n.forEach(s),a=0;a<Dr.length;a++)d=Dr[a],d.blockedOn===r&&(d.blockedOn=null);for(;0<Dr.length&&(a=Dr[0],a.blockedOn===null);)$l(a),a.blockedOn===null&&Dr.shift()}var ti=he.ReactCurrentBatchConfig,bi=!0;function vt(r,s,a,d){var f=qe,g=ti.transition;ti.transition=null;try{qe=1,Ea(r,s,a,d)}finally{qe=f,ti.transition=g}}function ud(r,s,a,d){var f=qe,g=ti.transition;ti.transition=null;try{qe=4,Ea(r,s,a,d)}finally{qe=f,ti.transition=g}}function Ea(r,s,a,d){if(bi){var f=po(r,s,a,d);if(f===null)Ed(r,s,d,ks,a),Bl(r,d);else if(ld(f,r,s,a,d))d.stopPropagation();else if(Bl(r,d),s&4&&-1<ad.indexOf(r)){for(;f!==null;){var g=Oa(f);if(g!==null&&Fl(g),g=po(r,s,a,d),g===null&&Ed(r,s,d,ks,a),g===f)break;f=g}f!==null&&d.stopPropagation()}else Ed(r,s,d,null,a)}}var ks=null;function po(r,s,a,d){if(ks=null,r=ki(d),r=Ds(r),r!==null)if(s=We(r),s===null)r=null;else if(a=s.tag,a===13){if(r=tt(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return ks=r,null}function wa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jr()){case Ye:return 1;case pt:return 4;case Gt:case ar:return 16;case mt:return 536870912;default:return 16}default:return 16}}var bn=null,mo=null,Rn=null;function Ta(){if(Rn)return Rn;var r,s=mo,a=s.length,d,f="value"in bn?bn.value:bn.textContent,g=f.length;for(r=0;r<a&&s[r]===f[r];r++);var E=a-r;for(d=1;d<=E&&s[a-d]===f[g-d];d++);return Rn=f.slice(r,1<d?1-d:void 0)}function go(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Lr(){return!0}function Ia(){return!1}function Yt(r){function s(a,d,f,g,E){this._reactName=a,this._targetInst=f,this.type=d,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(a=r[A],this[A]=a?a(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Lr:Ia,this.isPropagationStopped=Ia,this}return de(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Lr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Lr)},persist:function(){},isPersistent:Lr}),s}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yo=Yt(hr),Or=de({},hr,{view:0,detail:0}),cd=Yt(Or),_o,ni,Mi,xs=de({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Mi&&(Mi&&r.type==="mousemove"?(_o=r.screenX-Mi.screenX,ni=r.screenY-Mi.screenY):ni=_o=0,Mi=r),_o)},movementY:function(r){return"movementY"in r?r.movementY:ni}}),vo=Yt(xs),Sa=de({},xs,{dataTransfer:0}),Wl=Yt(Sa),Eo=de({},Or,{relatedTarget:0}),wo=Yt(Eo),ql=de({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),ri=Yt(ql),Kl=de({},hr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Gl=Yt(Kl),Ql=de({},hr,{data:0}),Ra=Yt(Ql),To={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Yl[r])?!!s[r]:!1}function Vr(){return Xl}var u=de({},Or,{key:function(r){if(r.key){var s=To[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=go(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?yn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vr,charCode:function(r){return r.type==="keypress"?go(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?go(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Yt(u),_=de({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=Yt(_),z=de({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vr}),Q=Yt(z),ue=de({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ut=Yt(ue),Ot=de({},xs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Xe=Yt(Ot),Ut=[9,13,27,32],xt=h&&"CompositionEvent"in window,Hn=null;h&&"documentMode"in document&&(Hn=document.documentMode);var Mn=h&&"TextEvent"in window&&!Hn,Ns=h&&(!xt||Hn&&8<Hn&&11>=Hn),Io=" ",Dp=!1;function Lp(r,s){switch(r){case"keyup":return Ut.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Op(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var So=!1;function Tw(r,s){switch(r){case"compositionend":return Op(s);case"keypress":return s.which!==32?null:(Dp=!0,Io);case"textInput":return r=s.data,r===Io&&Dp?null:r;default:return null}}function Iw(r,s){if(So)return r==="compositionend"||!xt&&Lp(r,s)?(r=Ta(),Rn=mo=bn=null,So=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ns&&s.locale!=="ko"?null:s.data;default:return null}}var Sw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Sw[r.type]:s==="textarea"}function bp(r,s,a,d){mn(d),s=nu(s,"onChange"),0<s.length&&(a=new yo("onChange","change",null,a,d),r.push({event:a,listeners:s}))}var Aa=null,Ca=null;function Rw(r){em(r,0)}function Jl(r){var s=ko(r);if(Ti(s))return r}function Aw(r,s){if(r==="change")return s}var Mp=!1;if(h){var dd;if(h){var hd="oninput"in document;if(!hd){var Fp=document.createElement("div");Fp.setAttribute("oninput","return;"),hd=typeof Fp.oninput=="function"}dd=hd}else dd=!1;Mp=dd&&(!document.documentMode||9<document.documentMode)}function Up(){Aa&&(Aa.detachEvent("onpropertychange",jp),Ca=Aa=null)}function jp(r){if(r.propertyName==="value"&&Jl(Ca)){var s=[];bp(s,Ca,r,ki(r)),G(Rw,s)}}function Cw(r,s,a){r==="focusin"?(Up(),Aa=s,Ca=a,Aa.attachEvent("onpropertychange",jp)):r==="focusout"&&Up()}function Pw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Jl(Ca)}function kw(r,s){if(r==="click")return Jl(s)}function xw(r,s){if(r==="input"||r==="change")return Jl(s)}function Nw(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var fr=typeof Object.is=="function"?Object.is:Nw;function Pa(r,s){if(fr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),d=Object.keys(s);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var f=a[d];if(!p.call(s,f)||!fr(r[f],s[f]))return!1}return!0}function zp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Bp(r,s){var a=zp(r);r=0;for(var d;a;){if(a.nodeType===3){if(d=r+a.textContent.length,r<=s&&d>=s)return{node:a,offset:s-r};r=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zp(a)}}function $p(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?$p(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Hp(){for(var r=window,s=nn();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=nn(r.document)}return s}function fd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function Dw(r){var s=Hp(),a=r.focusedElem,d=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&$p(a.ownerDocument.documentElement,a)){if(d!==null&&fd(a)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(d.start,f);d=d.end===void 0?g:Math.min(d.end,f),!r.extend&&g>d&&(f=d,d=g,g=f),f=Bp(a,g);var E=Bp(a,d);f&&E&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>d?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Lw=h&&"documentMode"in document&&11>=document.documentMode,Ro=null,pd=null,ka=null,md=!1;function Wp(r,s,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;md||Ro==null||Ro!==nn(d)||(d=Ro,"selectionStart"in d&&fd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ka&&Pa(ka,d)||(ka=d,d=nu(pd,"onSelect"),0<d.length&&(s=new yo("onSelect","select",null,s,a),r.push({event:s,listeners:d}),s.target=Ro)))}function Zl(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Ao={animationend:Zl("Animation","AnimationEnd"),animationiteration:Zl("Animation","AnimationIteration"),animationstart:Zl("Animation","AnimationStart"),transitionend:Zl("Transition","TransitionEnd")},gd={},qp={};h&&(qp=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function eu(r){if(gd[r])return gd[r];if(!Ao[r])return r;var s=Ao[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in qp)return gd[r]=s[a];return r}var Kp=eu("animationend"),Gp=eu("animationiteration"),Qp=eu("animationstart"),Yp=eu("transitionend"),Xp=new Map,Jp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fi(r,s){Xp.set(r,s),l(s,[r])}for(var yd=0;yd<Jp.length;yd++){var _d=Jp[yd],Ow=_d.toLowerCase(),Vw=_d[0].toUpperCase()+_d.slice(1);Fi(Ow,"on"+Vw)}Fi(Kp,"onAnimationEnd"),Fi(Gp,"onAnimationIteration"),Fi(Qp,"onAnimationStart"),Fi("dblclick","onDoubleClick"),Fi("focusin","onFocus"),Fi("focusout","onBlur"),Fi(Yp,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bw=new Set("cancel close invalid load scroll toggle".split(" ").concat(xa));function Zp(r,s,a){var d=r.type||"unknown-event";r.currentTarget=a,Rt(d,s,void 0,r),r.currentTarget=null}function em(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var d=r[a],f=d.event;d=d.listeners;e:{var g=void 0;if(s)for(var E=d.length-1;0<=E;E--){var A=d[E],N=A.instance,K=A.currentTarget;if(A=A.listener,N!==g&&f.isPropagationStopped())break e;Zp(f,A,K),g=N}else for(E=0;E<d.length;E++){if(A=d[E],N=A.instance,K=A.currentTarget,A=A.listener,N!==g&&f.isPropagationStopped())break e;Zp(f,A,K),g=N}}}if(ae)throw r=xe,ae=!1,xe=null,r}function gt(r,s){var a=s[Ad];a===void 0&&(a=s[Ad]=new Set);var d=r+"__bubble";a.has(d)||(tm(s,r,2,!1),a.add(d))}function vd(r,s,a){var d=0;s&&(d|=4),tm(a,r,d,s)}var tu="_reactListening"+Math.random().toString(36).slice(2);function Na(r){if(!r[tu]){r[tu]=!0,i.forEach(function(a){a!=="selectionchange"&&(bw.has(a)||vd(a,!1,r),vd(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[tu]||(s[tu]=!0,vd("selectionchange",!1,s))}}function tm(r,s,a,d){switch(wa(s)){case 1:var f=vt;break;case 4:f=ud;break;default:f=Ea}a=f.bind(null,s,a,r),f=void 0,!fe||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),d?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function Ed(r,s,a,d,f){var g=d;if(!(s&1)&&!(s&2)&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var A=d.stateNode.containerInfo;if(A===f||A.nodeType===8&&A.parentNode===f)break;if(E===4)for(E=d.return;E!==null;){var N=E.tag;if((N===3||N===4)&&(N=E.stateNode.containerInfo,N===f||N.nodeType===8&&N.parentNode===f))return;E=E.return}for(;A!==null;){if(E=Ds(A),E===null)return;if(N=E.tag,N===5||N===6){d=g=E;continue e}A=A.parentNode}}d=d.return}G(function(){var K=g,te=ki(a),re=[];e:{var ee=Xp.get(r);if(ee!==void 0){var me=yo,Te=r;switch(r){case"keypress":if(go(a)===0)break e;case"keydown":case"keyup":me=m;break;case"focusin":Te="focus",me=wo;break;case"focusout":Te="blur",me=wo;break;case"beforeblur":case"afterblur":me=wo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Wl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=Q;break;case Kp:case Gp:case Qp:me=ri;break;case Yp:me=ut;break;case"scroll":me=cd;break;case"wheel":me=Xe;break;case"copy":case"cut":case"paste":me=Gl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=w}var Se=(s&4)!==0,Pt=!Se&&r==="scroll",B=Se?ee!==null?ee+"Capture":null:ee;Se=[];for(var O=K,W;O!==null;){W=O;var se=W.stateNode;if(W.tag===5&&se!==null&&(W=se,B!==null&&(se=X(O,B),se!=null&&Se.push(Da(O,se,W)))),Pt)break;O=O.return}0<Se.length&&(ee=new me(ee,Te,null,a,te),re.push({event:ee,listeners:Se}))}}if(!(s&7)){e:{if(ee=r==="mouseover"||r==="pointerover",me=r==="mouseout"||r==="pointerout",ee&&a!==nr&&(Te=a.relatedTarget||a.fromElement)&&(Ds(Te)||Te[ii]))break e;if((me||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,me?(Te=a.relatedTarget||a.toElement,me=K,Te=Te?Ds(Te):null,Te!==null&&(Pt=We(Te),Te!==Pt||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(me=null,Te=K),me!==Te)){if(Se=vo,se="onMouseLeave",B="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(Se=w,se="onPointerLeave",B="onPointerEnter",O="pointer"),Pt=me==null?ee:ko(me),W=Te==null?ee:ko(Te),ee=new Se(se,O+"leave",me,a,te),ee.target=Pt,ee.relatedTarget=W,se=null,Ds(te)===K&&(Se=new Se(B,O+"enter",Te,a,te),Se.target=W,Se.relatedTarget=Pt,se=Se),Pt=se,me&&Te)t:{for(Se=me,B=Te,O=0,W=Se;W;W=Co(W))O++;for(W=0,se=B;se;se=Co(se))W++;for(;0<O-W;)Se=Co(Se),O--;for(;0<W-O;)B=Co(B),W--;for(;O--;){if(Se===B||B!==null&&Se===B.alternate)break t;Se=Co(Se),B=Co(B)}Se=null}else Se=null;me!==null&&nm(re,ee,me,Se,!1),Te!==null&&Pt!==null&&nm(re,Pt,Te,Se,!0)}}e:{if(ee=K?ko(K):window,me=ee.nodeName&&ee.nodeName.toLowerCase(),me==="select"||me==="input"&&ee.type==="file")var Re=Aw;else if(Vp(ee))if(Mp)Re=xw;else{Re=Pw;var Pe=Cw}else(me=ee.nodeName)&&me.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(Re=kw);if(Re&&(Re=Re(r,K))){bp(re,Re,a,te);break e}Pe&&Pe(r,ee,K),r==="focusout"&&(Pe=ee._wrapperState)&&Pe.controlled&&ee.type==="number"&&Ri(ee,"number",ee.value)}switch(Pe=K?ko(K):window,r){case"focusin":(Vp(Pe)||Pe.contentEditable==="true")&&(Ro=Pe,pd=K,ka=null);break;case"focusout":ka=pd=Ro=null;break;case"mousedown":md=!0;break;case"contextmenu":case"mouseup":case"dragend":md=!1,Wp(re,a,te);break;case"selectionchange":if(Lw)break;case"keydown":case"keyup":Wp(re,a,te)}var ke;if(xt)e:{switch(r){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else So?Lp(r,a)&&(De="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(De="onCompositionStart");De&&(Ns&&a.locale!=="ko"&&(So||De!=="onCompositionStart"?De==="onCompositionEnd"&&So&&(ke=Ta()):(bn=te,mo="value"in bn?bn.value:bn.textContent,So=!0)),Pe=nu(K,De),0<Pe.length&&(De=new Ra(De,r,null,a,te),re.push({event:De,listeners:Pe}),ke?De.data=ke:(ke=Op(a),ke!==null&&(De.data=ke)))),(ke=Mn?Tw(r,a):Iw(r,a))&&(K=nu(K,"onBeforeInput"),0<K.length&&(te=new Ra("onBeforeInput","beforeinput",null,a,te),re.push({event:te,listeners:K}),te.data=ke))}em(re,s)})}function Da(r,s,a){return{instance:r,listener:s,currentTarget:a}}function nu(r,s){for(var a=s+"Capture",d=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=X(r,a),g!=null&&d.unshift(Da(r,g,f)),g=X(r,s),g!=null&&d.push(Da(r,g,f))),r=r.return}return d}function Co(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function nm(r,s,a,d,f){for(var g=s._reactName,E=[];a!==null&&a!==d;){var A=a,N=A.alternate,K=A.stateNode;if(N!==null&&N===d)break;A.tag===5&&K!==null&&(A=K,f?(N=X(a,g),N!=null&&E.unshift(Da(a,N,A))):f||(N=X(a,g),N!=null&&E.push(Da(a,N,A)))),a=a.return}E.length!==0&&r.push({event:s,listeners:E})}var Mw=/\r\n?/g,Fw=/\u0000|\uFFFD/g;function rm(r){return(typeof r=="string"?r:""+r).replace(Mw,`
`).replace(Fw,"")}function ru(r,s,a){if(s=rm(s),rm(r)!==s&&a)throw Error(t(425))}function iu(){}var wd=null,Td=null;function Id(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Sd=typeof setTimeout=="function"?setTimeout:void 0,Uw=typeof clearTimeout=="function"?clearTimeout:void 0,im=typeof Promise=="function"?Promise:void 0,jw=typeof queueMicrotask=="function"?queueMicrotask:typeof im<"u"?function(r){return im.resolve(null).then(r).catch(zw)}:Sd;function zw(r){setTimeout(function(){throw r})}function Rd(r,s){var a=s,d=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(d===0){r.removeChild(f),dr(s);return}d--}else a!=="$"&&a!=="$?"&&a!=="$!"||d++;a=f}while(a);dr(s)}function Ui(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function sm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Po=Math.random().toString(36).slice(2),br="__reactFiber$"+Po,La="__reactProps$"+Po,ii="__reactContainer$"+Po,Ad="__reactEvents$"+Po,Bw="__reactListeners$"+Po,$w="__reactHandles$"+Po;function Ds(r){var s=r[br];if(s)return s;for(var a=r.parentNode;a;){if(s=a[ii]||a[br]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=sm(r);r!==null;){if(a=r[br])return a;r=sm(r)}return s}r=a,a=r.parentNode}return null}function Oa(r){return r=r[br]||r[ii],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ko(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function su(r){return r[La]||null}var Cd=[],xo=-1;function ji(r){return{current:r}}function yt(r){0>xo||(r.current=Cd[xo],Cd[xo]=null,xo--)}function ht(r,s){xo++,Cd[xo]=r.current,r.current=s}var zi={},on=ji(zi),An=ji(!1),Ls=zi;function No(r,s){var a=r.type.contextTypes;if(!a)return zi;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function Cn(r){return r=r.childContextTypes,r!=null}function ou(){yt(An),yt(on)}function om(r,s,a){if(on.current!==zi)throw Error(t(168));ht(on,s),ht(An,a)}function am(r,s,a){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return a;d=d.getChildContext();for(var f in d)if(!(f in s))throw Error(t(108,Ze(r)||"Unknown",f));return de({},a,d)}function au(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||zi,Ls=on.current,ht(on,r),ht(An,An.current),!0}function lm(r,s,a){var d=r.stateNode;if(!d)throw Error(t(169));a?(r=am(r,s,Ls),d.__reactInternalMemoizedMergedChildContext=r,yt(An),yt(on),ht(on,r)):yt(An),ht(An,a)}var si=null,lu=!1,Pd=!1;function um(r){si===null?si=[r]:si.push(r)}function Hw(r){lu=!0,um(r)}function Bi(){if(!Pd&&si!==null){Pd=!0;var r=0,s=qe;try{var a=si;for(qe=1;r<a.length;r++){var d=a[r];do d=d(!0);while(d!==null)}si=null,lu=!1}catch(f){throw si!==null&&(si=si.slice(r+1)),Kt(Ye,Bi),f}finally{qe=s,Pd=!1}}return null}var Do=[],Lo=0,uu=null,cu=0,Wn=[],qn=0,Os=null,oi=1,ai="";function Vs(r,s){Do[Lo++]=cu,Do[Lo++]=uu,uu=r,cu=s}function cm(r,s,a){Wn[qn++]=oi,Wn[qn++]=ai,Wn[qn++]=Os,Os=r;var d=oi;r=ai;var f=32-gn(d)-1;d&=~(1<<f),a+=1;var g=32-gn(s)+f;if(30<g){var E=f-f%5;g=(d&(1<<E)-1).toString(32),d>>=E,f-=E,oi=1<<32-gn(s)+f|a<<f|d,ai=g+r}else oi=1<<g|a<<f|d,ai=r}function kd(r){r.return!==null&&(Vs(r,1),cm(r,1,0))}function xd(r){for(;r===uu;)uu=Do[--Lo],Do[Lo]=null,cu=Do[--Lo],Do[Lo]=null;for(;r===Os;)Os=Wn[--qn],Wn[qn]=null,ai=Wn[--qn],Wn[qn]=null,oi=Wn[--qn],Wn[qn]=null}var Fn=null,Un=null,Et=!1,pr=null;function dm(r,s){var a=Yn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function hm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Fn=r,Un=Ui(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Fn=r,Un=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Os!==null?{id:oi,overflow:ai}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Yn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,Fn=r,Un=null,!0):!1;default:return!1}}function Nd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Dd(r){if(Et){var s=Un;if(s){var a=s;if(!hm(r,s)){if(Nd(r))throw Error(t(418));s=Ui(a.nextSibling);var d=Fn;s&&hm(r,s)?dm(d,a):(r.flags=r.flags&-4097|2,Et=!1,Fn=r)}}else{if(Nd(r))throw Error(t(418));r.flags=r.flags&-4097|2,Et=!1,Fn=r}}}function fm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Fn=r}function du(r){if(r!==Fn)return!1;if(!Et)return fm(r),Et=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Id(r.type,r.memoizedProps)),s&&(s=Un)){if(Nd(r))throw pm(),Error(t(418));for(;s;)dm(r,s),s=Ui(s.nextSibling)}if(fm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){Un=Ui(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}Un=null}}else Un=Fn?Ui(r.stateNode.nextSibling):null;return!0}function pm(){for(var r=Un;r;)r=Ui(r.nextSibling)}function Oo(){Un=Fn=null,Et=!1}function Ld(r){pr===null?pr=[r]:pr.push(r)}var Ww=he.ReactCurrentBatchConfig;function Va(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var d=a.stateNode}if(!d)throw Error(t(147,r));var f=d,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(E){var A=f.refs;E===null?delete A[g]:A[g]=E},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function hu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function mm(r){var s=r._init;return s(r._payload)}function gm(r){function s(B,O){if(r){var W=B.deletions;W===null?(B.deletions=[O],B.flags|=16):W.push(O)}}function a(B,O){if(!r)return null;for(;O!==null;)s(B,O),O=O.sibling;return null}function d(B,O){for(B=new Map;O!==null;)O.key!==null?B.set(O.key,O):B.set(O.index,O),O=O.sibling;return B}function f(B,O){return B=Yi(B,O),B.index=0,B.sibling=null,B}function g(B,O,W){return B.index=W,r?(W=B.alternate,W!==null?(W=W.index,W<O?(B.flags|=2,O):W):(B.flags|=2,O)):(B.flags|=1048576,O)}function E(B){return r&&B.alternate===null&&(B.flags|=2),B}function A(B,O,W,se){return O===null||O.tag!==6?(O=Sh(W,B.mode,se),O.return=B,O):(O=f(O,W),O.return=B,O)}function N(B,O,W,se){var Re=W.type;return Re===k?te(B,O,W.props.children,se,W.key):O!==null&&(O.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===Ct&&mm(Re)===O.type)?(se=f(O,W.props),se.ref=Va(B,O,W),se.return=B,se):(se=bu(W.type,W.key,W.props,null,B.mode,se),se.ref=Va(B,O,W),se.return=B,se)}function K(B,O,W,se){return O===null||O.tag!==4||O.stateNode.containerInfo!==W.containerInfo||O.stateNode.implementation!==W.implementation?(O=Rh(W,B.mode,se),O.return=B,O):(O=f(O,W.children||[]),O.return=B,O)}function te(B,O,W,se,Re){return O===null||O.tag!==7?(O=$s(W,B.mode,se,Re),O.return=B,O):(O=f(O,W),O.return=B,O)}function re(B,O,W){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Sh(""+O,B.mode,W),O.return=B,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case j:return W=bu(O.type,O.key,O.props,null,B.mode,W),W.ref=Va(B,null,O),W.return=B,W;case ce:return O=Rh(O,B.mode,W),O.return=B,O;case Ct:var se=O._init;return re(B,se(O._payload),W)}if(er(O)||Ie(O))return O=$s(O,B.mode,W,null),O.return=B,O;hu(B,O)}return null}function ee(B,O,W,se){var Re=O!==null?O.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return Re!==null?null:A(B,O,""+W,se);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case j:return W.key===Re?N(B,O,W,se):null;case ce:return W.key===Re?K(B,O,W,se):null;case Ct:return Re=W._init,ee(B,O,Re(W._payload),se)}if(er(W)||Ie(W))return Re!==null?null:te(B,O,W,se,null);hu(B,W)}return null}function me(B,O,W,se,Re){if(typeof se=="string"&&se!==""||typeof se=="number")return B=B.get(W)||null,A(O,B,""+se,Re);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case j:return B=B.get(se.key===null?W:se.key)||null,N(O,B,se,Re);case ce:return B=B.get(se.key===null?W:se.key)||null,K(O,B,se,Re);case Ct:var Pe=se._init;return me(B,O,W,Pe(se._payload),Re)}if(er(se)||Ie(se))return B=B.get(W)||null,te(O,B,se,Re,null);hu(O,se)}return null}function Te(B,O,W,se){for(var Re=null,Pe=null,ke=O,De=O=0,Bt=null;ke!==null&&De<W.length;De++){ke.index>De?(Bt=ke,ke=null):Bt=ke.sibling;var rt=ee(B,ke,W[De],se);if(rt===null){ke===null&&(ke=Bt);break}r&&ke&&rt.alternate===null&&s(B,ke),O=g(rt,O,De),Pe===null?Re=rt:Pe.sibling=rt,Pe=rt,ke=Bt}if(De===W.length)return a(B,ke),Et&&Vs(B,De),Re;if(ke===null){for(;De<W.length;De++)ke=re(B,W[De],se),ke!==null&&(O=g(ke,O,De),Pe===null?Re=ke:Pe.sibling=ke,Pe=ke);return Et&&Vs(B,De),Re}for(ke=d(B,ke);De<W.length;De++)Bt=me(ke,B,De,W[De],se),Bt!==null&&(r&&Bt.alternate!==null&&ke.delete(Bt.key===null?De:Bt.key),O=g(Bt,O,De),Pe===null?Re=Bt:Pe.sibling=Bt,Pe=Bt);return r&&ke.forEach(function(Xi){return s(B,Xi)}),Et&&Vs(B,De),Re}function Se(B,O,W,se){var Re=Ie(W);if(typeof Re!="function")throw Error(t(150));if(W=Re.call(W),W==null)throw Error(t(151));for(var Pe=Re=null,ke=O,De=O=0,Bt=null,rt=W.next();ke!==null&&!rt.done;De++,rt=W.next()){ke.index>De?(Bt=ke,ke=null):Bt=ke.sibling;var Xi=ee(B,ke,rt.value,se);if(Xi===null){ke===null&&(ke=Bt);break}r&&ke&&Xi.alternate===null&&s(B,ke),O=g(Xi,O,De),Pe===null?Re=Xi:Pe.sibling=Xi,Pe=Xi,ke=Bt}if(rt.done)return a(B,ke),Et&&Vs(B,De),Re;if(ke===null){for(;!rt.done;De++,rt=W.next())rt=re(B,rt.value,se),rt!==null&&(O=g(rt,O,De),Pe===null?Re=rt:Pe.sibling=rt,Pe=rt);return Et&&Vs(B,De),Re}for(ke=d(B,ke);!rt.done;De++,rt=W.next())rt=me(ke,B,De,rt.value,se),rt!==null&&(r&&rt.alternate!==null&&ke.delete(rt.key===null?De:rt.key),O=g(rt,O,De),Pe===null?Re=rt:Pe.sibling=rt,Pe=rt);return r&&ke.forEach(function(IT){return s(B,IT)}),Et&&Vs(B,De),Re}function Pt(B,O,W,se){if(typeof W=="object"&&W!==null&&W.type===k&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case j:e:{for(var Re=W.key,Pe=O;Pe!==null;){if(Pe.key===Re){if(Re=W.type,Re===k){if(Pe.tag===7){a(B,Pe.sibling),O=f(Pe,W.props.children),O.return=B,B=O;break e}}else if(Pe.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===Ct&&mm(Re)===Pe.type){a(B,Pe.sibling),O=f(Pe,W.props),O.ref=Va(B,Pe,W),O.return=B,B=O;break e}a(B,Pe);break}else s(B,Pe);Pe=Pe.sibling}W.type===k?(O=$s(W.props.children,B.mode,se,W.key),O.return=B,B=O):(se=bu(W.type,W.key,W.props,null,B.mode,se),se.ref=Va(B,O,W),se.return=B,B=se)}return E(B);case ce:e:{for(Pe=W.key;O!==null;){if(O.key===Pe)if(O.tag===4&&O.stateNode.containerInfo===W.containerInfo&&O.stateNode.implementation===W.implementation){a(B,O.sibling),O=f(O,W.children||[]),O.return=B,B=O;break e}else{a(B,O);break}else s(B,O);O=O.sibling}O=Rh(W,B.mode,se),O.return=B,B=O}return E(B);case Ct:return Pe=W._init,Pt(B,O,Pe(W._payload),se)}if(er(W))return Te(B,O,W,se);if(Ie(W))return Se(B,O,W,se);hu(B,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,O!==null&&O.tag===6?(a(B,O.sibling),O=f(O,W),O.return=B,B=O):(a(B,O),O=Sh(W,B.mode,se),O.return=B,B=O),E(B)):a(B,O)}return Pt}var Vo=gm(!0),ym=gm(!1),fu=ji(null),pu=null,bo=null,Od=null;function Vd(){Od=bo=pu=null}function bd(r){var s=fu.current;yt(fu),r._currentValue=s}function Md(r,s,a){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===a)break;r=r.return}}function Mo(r,s){pu=r,Od=bo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(Pn=!0),r.firstContext=null)}function Kn(r){var s=r._currentValue;if(Od!==r)if(r={context:r,memoizedValue:s,next:null},bo===null){if(pu===null)throw Error(t(308));bo=r,pu.dependencies={lanes:0,firstContext:r}}else bo=bo.next=r;return s}var bs=null;function Fd(r){bs===null?bs=[r]:bs.push(r)}function _m(r,s,a,d){var f=s.interleaved;return f===null?(a.next=a,Fd(s)):(a.next=f.next,f.next=a),s.interleaved=a,li(r,d)}function li(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var $i=!1;function Ud(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ui(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Hi(r,s,a){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,nt&2){var f=d.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),d.pending=s,li(r,a)}return f=d.interleaved,f===null?(s.next=s,Fd(d)):(s.next=f.next,f.next=s),d.interleaved=s,li(r,a)}function mu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,a|=d,s.lanes=a,Li(r,a)}}function Em(r,s){var a=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=E:g=g.next=E,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:d.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:d.shared,effects:d.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function gu(r,s,a,d){var f=r.updateQueue;$i=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var N=A,K=N.next;N.next=null,E===null?g=K:E.next=K,E=N;var te=r.alternate;te!==null&&(te=te.updateQueue,A=te.lastBaseUpdate,A!==E&&(A===null?te.firstBaseUpdate=K:A.next=K,te.lastBaseUpdate=N))}if(g!==null){var re=f.baseState;E=0,te=K=N=null,A=g;do{var ee=A.lane,me=A.eventTime;if((d&ee)===ee){te!==null&&(te=te.next={eventTime:me,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var Te=r,Se=A;switch(ee=s,me=a,Se.tag){case 1:if(Te=Se.payload,typeof Te=="function"){re=Te.call(me,re,ee);break e}re=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Se.payload,ee=typeof Te=="function"?Te.call(me,re,ee):Te,ee==null)break e;re=de({},re,ee);break e;case 2:$i=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,ee=f.effects,ee===null?f.effects=[A]:ee.push(A))}else me={eventTime:me,lane:ee,tag:A.tag,payload:A.payload,callback:A.callback,next:null},te===null?(K=te=me,N=re):te=te.next=me,E|=ee;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;ee=A,A=ee.next,ee.next=null,f.lastBaseUpdate=ee,f.shared.pending=null}}while(!0);if(te===null&&(N=re),f.baseState=N,f.firstBaseUpdate=K,f.lastBaseUpdate=te,s=f.shared.interleaved,s!==null){f=s;do E|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);Us|=E,r.lanes=E,r.memoizedState=re}}function wm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],f=d.callback;if(f!==null){if(d.callback=null,d=a,typeof f!="function")throw Error(t(191,f));f.call(d)}}}var ba={},Mr=ji(ba),Ma=ji(ba),Fa=ji(ba);function Ms(r){if(r===ba)throw Error(t(174));return r}function jd(r,s){switch(ht(Fa,s),ht(Ma,r),ht(Mr,ba),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:St(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=St(s,r)}yt(Mr),ht(Mr,s)}function Fo(){yt(Mr),yt(Ma),yt(Fa)}function Tm(r){Ms(Fa.current);var s=Ms(Mr.current),a=St(s,r.type);s!==a&&(ht(Ma,r),ht(Mr,a))}function zd(r){Ma.current===r&&(yt(Mr),yt(Ma))}var wt=ji(0);function yu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Bd=[];function $d(){for(var r=0;r<Bd.length;r++)Bd[r]._workInProgressVersionPrimary=null;Bd.length=0}var _u=he.ReactCurrentDispatcher,Hd=he.ReactCurrentBatchConfig,Fs=0,Tt=null,Vt=null,jt=null,vu=!1,Ua=!1,ja=0,qw=0;function an(){throw Error(t(321))}function Wd(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!fr(r[a],s[a]))return!1;return!0}function qd(r,s,a,d,f,g){if(Fs=g,Tt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,_u.current=r===null||r.memoizedState===null?Yw:Xw,r=a(d,f),Ua){g=0;do{if(Ua=!1,ja=0,25<=g)throw Error(t(301));g+=1,jt=Vt=null,s.updateQueue=null,_u.current=Jw,r=a(d,f)}while(Ua)}if(_u.current=Tu,s=Vt!==null&&Vt.next!==null,Fs=0,jt=Vt=Tt=null,vu=!1,s)throw Error(t(300));return r}function Kd(){var r=ja!==0;return ja=0,r}function Fr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Tt.memoizedState=jt=r:jt=jt.next=r,jt}function Gn(){if(Vt===null){var r=Tt.alternate;r=r!==null?r.memoizedState:null}else r=Vt.next;var s=jt===null?Tt.memoizedState:jt.next;if(s!==null)jt=s,Vt=r;else{if(r===null)throw Error(t(310));Vt=r,r={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},jt===null?Tt.memoizedState=jt=r:jt=jt.next=r}return jt}function za(r,s){return typeof s=="function"?s(r):s}function Gd(r){var s=Gn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var d=Vt,f=d.baseQueue,g=a.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}d.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,d=d.baseState;var A=E=null,N=null,K=g;do{var te=K.lane;if((Fs&te)===te)N!==null&&(N=N.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),d=K.hasEagerState?K.eagerState:r(d,K.action);else{var re={lane:te,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};N===null?(A=N=re,E=d):N=N.next=re,Tt.lanes|=te,Us|=te}K=K.next}while(K!==null&&K!==g);N===null?E=d:N.next=A,fr(d,s.memoizedState)||(Pn=!0),s.memoizedState=d,s.baseState=E,s.baseQueue=N,a.lastRenderedState=d}if(r=a.interleaved,r!==null){f=r;do g=f.lane,Tt.lanes|=g,Us|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Qd(r){var s=Gn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var d=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do g=r(g,E.action),E=E.next;while(E!==f);fr(g,s.memoizedState)||(Pn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,d]}function Im(){}function Sm(r,s){var a=Tt,d=Gn(),f=s(),g=!fr(d.memoizedState,f);if(g&&(d.memoizedState=f,Pn=!0),d=d.queue,Yd(Cm.bind(null,a,d,r),[r]),d.getSnapshot!==s||g||jt!==null&&jt.memoizedState.tag&1){if(a.flags|=2048,Ba(9,Am.bind(null,a,d,f,s),void 0,null),zt===null)throw Error(t(349));Fs&30||Rm(a,s,f)}return f}function Rm(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=Tt.updateQueue,s===null?(s={lastEffect:null,stores:null},Tt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Am(r,s,a,d){s.value=a,s.getSnapshot=d,Pm(s)&&km(r)}function Cm(r,s,a){return a(function(){Pm(s)&&km(r)})}function Pm(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!fr(r,a)}catch{return!0}}function km(r){var s=li(r,1);s!==null&&_r(s,r,1,-1)}function xm(r){var s=Fr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:r},s.queue=r,r=r.dispatch=Qw.bind(null,Tt,r),[s.memoizedState,r]}function Ba(r,s,a,d){return r={tag:r,create:s,destroy:a,deps:d,next:null},s=Tt.updateQueue,s===null?(s={lastEffect:null,stores:null},Tt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(d=a.next,a.next=r,r.next=d,s.lastEffect=r)),r}function Nm(){return Gn().memoizedState}function Eu(r,s,a,d){var f=Fr();Tt.flags|=r,f.memoizedState=Ba(1|s,a,void 0,d===void 0?null:d)}function wu(r,s,a,d){var f=Gn();d=d===void 0?null:d;var g=void 0;if(Vt!==null){var E=Vt.memoizedState;if(g=E.destroy,d!==null&&Wd(d,E.deps)){f.memoizedState=Ba(s,a,g,d);return}}Tt.flags|=r,f.memoizedState=Ba(1|s,a,g,d)}function Dm(r,s){return Eu(8390656,8,r,s)}function Yd(r,s){return wu(2048,8,r,s)}function Lm(r,s){return wu(4,2,r,s)}function Om(r,s){return wu(4,4,r,s)}function Vm(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function bm(r,s,a){return a=a!=null?a.concat([r]):null,wu(4,4,Vm.bind(null,s,r),a)}function Xd(){}function Mm(r,s){var a=Gn();s=s===void 0?null:s;var d=a.memoizedState;return d!==null&&s!==null&&Wd(s,d[1])?d[0]:(a.memoizedState=[r,s],r)}function Fm(r,s){var a=Gn();s=s===void 0?null:s;var d=a.memoizedState;return d!==null&&s!==null&&Wd(s,d[1])?d[0]:(r=r(),a.memoizedState=[r,s],r)}function Um(r,s,a){return Fs&21?(fr(a,s)||(a=Cs(),Tt.lanes|=a,Us|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,Pn=!0),r.memoizedState=a)}function Kw(r,s){var a=qe;qe=a!==0&&4>a?a:4,r(!0);var d=Hd.transition;Hd.transition={};try{r(!1),s()}finally{qe=a,Hd.transition=d}}function jm(){return Gn().memoizedState}function Gw(r,s,a){var d=Gi(r);if(a={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null},zm(r))Bm(s,a);else if(a=_m(r,s,a,d),a!==null){var f=vn();_r(a,r,d,f),$m(a,s,d)}}function Qw(r,s,a){var d=Gi(r),f={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null};if(zm(r))Bm(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,A=g(E,a);if(f.hasEagerState=!0,f.eagerState=A,fr(A,E)){var N=s.interleaved;N===null?(f.next=f,Fd(s)):(f.next=N.next,N.next=f),s.interleaved=f;return}}catch{}finally{}a=_m(r,s,f,d),a!==null&&(f=vn(),_r(a,r,d,f),$m(a,s,d))}}function zm(r){var s=r.alternate;return r===Tt||s!==null&&s===Tt}function Bm(r,s){Ua=vu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function $m(r,s,a){if(a&4194240){var d=s.lanes;d&=r.pendingLanes,a|=d,s.lanes=a,Li(r,a)}}var Tu={readContext:Kn,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},Yw={readContext:Kn,useCallback:function(r,s){return Fr().memoizedState=[r,s===void 0?null:s],r},useContext:Kn,useEffect:Dm,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Eu(4194308,4,Vm.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Eu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Eu(4,2,r,s)},useMemo:function(r,s){var a=Fr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var d=Fr();return s=a!==void 0?a(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=Gw.bind(null,Tt,r),[d.memoizedState,r]},useRef:function(r){var s=Fr();return r={current:r},s.memoizedState=r},useState:xm,useDebugValue:Xd,useDeferredValue:function(r){return Fr().memoizedState=r},useTransition:function(){var r=xm(!1),s=r[0];return r=Kw.bind(null,r[1]),Fr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var d=Tt,f=Fr();if(Et){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),zt===null)throw Error(t(349));Fs&30||Rm(d,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,Dm(Cm.bind(null,d,g,r),[r]),d.flags|=2048,Ba(9,Am.bind(null,d,g,a,s),void 0,null),a},useId:function(){var r=Fr(),s=zt.identifierPrefix;if(Et){var a=ai,d=oi;a=(d&~(1<<32-gn(d)-1)).toString(32)+a,s=":"+s+"R"+a,a=ja++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=qw++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},Xw={readContext:Kn,useCallback:Mm,useContext:Kn,useEffect:Yd,useImperativeHandle:bm,useInsertionEffect:Lm,useLayoutEffect:Om,useMemo:Fm,useReducer:Gd,useRef:Nm,useState:function(){return Gd(za)},useDebugValue:Xd,useDeferredValue:function(r){var s=Gn();return Um(s,Vt.memoizedState,r)},useTransition:function(){var r=Gd(za)[0],s=Gn().memoizedState;return[r,s]},useMutableSource:Im,useSyncExternalStore:Sm,useId:jm,unstable_isNewReconciler:!1},Jw={readContext:Kn,useCallback:Mm,useContext:Kn,useEffect:Yd,useImperativeHandle:bm,useInsertionEffect:Lm,useLayoutEffect:Om,useMemo:Fm,useReducer:Qd,useRef:Nm,useState:function(){return Qd(za)},useDebugValue:Xd,useDeferredValue:function(r){var s=Gn();return Vt===null?s.memoizedState=r:Um(s,Vt.memoizedState,r)},useTransition:function(){var r=Qd(za)[0],s=Gn().memoizedState;return[r,s]},useMutableSource:Im,useSyncExternalStore:Sm,useId:jm,unstable_isNewReconciler:!1};function mr(r,s){if(r&&r.defaultProps){s=de({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Jd(r,s,a,d){s=r.memoizedState,a=a(d,s),a=a==null?s:de({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Iu={isMounted:function(r){return(r=r._reactInternals)?We(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var d=vn(),f=Gi(r),g=ui(d,f);g.payload=s,a!=null&&(g.callback=a),s=Hi(r,g,f),s!==null&&(_r(s,r,f,d),mu(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var d=vn(),f=Gi(r),g=ui(d,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=Hi(r,g,f),s!==null&&(_r(s,r,f,d),mu(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=vn(),d=Gi(r),f=ui(a,d);f.tag=2,s!=null&&(f.callback=s),s=Hi(r,f,d),s!==null&&(_r(s,r,d,a),mu(s,r,d))}};function Hm(r,s,a,d,f,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,g,E):s.prototype&&s.prototype.isPureReactComponent?!Pa(a,d)||!Pa(f,g):!0}function Wm(r,s,a){var d=!1,f=zi,g=s.contextType;return typeof g=="object"&&g!==null?g=Kn(g):(f=Cn(s)?Ls:on.current,d=s.contextTypes,g=(d=d!=null)?No(r,f):zi),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Iu,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function qm(r,s,a,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,d),s.state!==r&&Iu.enqueueReplaceState(s,s.state,null)}function Zd(r,s,a,d){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},Ud(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=Kn(g):(g=Cn(s)?Ls:on.current,f.context=No(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Jd(r,s,g,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Iu.enqueueReplaceState(f,f.state,null),gu(r,a,f,d),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Uo(r,s){try{var a="",d=s;do a+=Oe(d),d=d.return;while(d);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function eh(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function th(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var Zw=typeof WeakMap=="function"?WeakMap:Map;function Km(r,s,a){a=ui(-1,a),a.tag=3,a.payload={element:null};var d=s.value;return a.callback=function(){xu||(xu=!0,gh=d),th(r,s)},a}function Gm(r,s,a){a=ui(-1,a),a.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var f=s.value;a.payload=function(){return d(f)},a.callback=function(){th(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){th(r,s),typeof d!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),a}function Qm(r,s,a){var d=r.pingCache;if(d===null){d=r.pingCache=new Zw;var f=new Set;d.set(s,f)}else f=d.get(s),f===void 0&&(f=new Set,d.set(s,f));f.has(a)||(f.add(a),r=fT.bind(null,r,s,a),s.then(r,r))}function Ym(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Xm(r,s,a,d,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=ui(-1,1),s.tag=2,Hi(a,s,1))),a.lanes|=1),r)}var eT=he.ReactCurrentOwner,Pn=!1;function _n(r,s,a,d){s.child=r===null?ym(s,null,a,d):Vo(s,r.child,a,d)}function Jm(r,s,a,d,f){a=a.render;var g=s.ref;return Mo(s,f),d=qd(r,s,a,d,g,f),a=Kd(),r!==null&&!Pn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,ci(r,s,f)):(Et&&a&&kd(s),s.flags|=1,_n(r,s,d,f),s.child)}function Zm(r,s,a,d,f){if(r===null){var g=a.type;return typeof g=="function"&&!Ih(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,eg(r,s,g,d,f)):(r=bu(a.type,null,d,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&f)){var E=g.memoizedProps;if(a=a.compare,a=a!==null?a:Pa,a(E,d)&&r.ref===s.ref)return ci(r,s,f)}return s.flags|=1,r=Yi(g,d),r.ref=s.ref,r.return=s,s.child=r}function eg(r,s,a,d,f){if(r!==null){var g=r.memoizedProps;if(Pa(g,d)&&r.ref===s.ref)if(Pn=!1,s.pendingProps=d=g,(r.lanes&f)!==0)r.flags&131072&&(Pn=!0);else return s.lanes=r.lanes,ci(r,s,f)}return nh(r,s,a,d,f)}function tg(r,s,a){var d=s.pendingProps,f=d.children,g=r!==null?r.memoizedState:null;if(d.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(zo,jn),jn|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,ht(zo,jn),jn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:a,ht(zo,jn),jn|=d}else g!==null?(d=g.baseLanes|a,s.memoizedState=null):d=a,ht(zo,jn),jn|=d;return _n(r,s,f,a),s.child}function ng(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function nh(r,s,a,d,f){var g=Cn(a)?Ls:on.current;return g=No(s,g),Mo(s,f),a=qd(r,s,a,d,g,f),d=Kd(),r!==null&&!Pn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,ci(r,s,f)):(Et&&d&&kd(s),s.flags|=1,_n(r,s,a,f),s.child)}function rg(r,s,a,d,f){if(Cn(a)){var g=!0;au(s)}else g=!1;if(Mo(s,f),s.stateNode===null)Ru(r,s),Wm(s,a,d),Zd(s,a,d,f),d=!0;else if(r===null){var E=s.stateNode,A=s.memoizedProps;E.props=A;var N=E.context,K=a.contextType;typeof K=="object"&&K!==null?K=Kn(K):(K=Cn(a)?Ls:on.current,K=No(s,K));var te=a.getDerivedStateFromProps,re=typeof te=="function"||typeof E.getSnapshotBeforeUpdate=="function";re||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==d||N!==K)&&qm(s,E,d,K),$i=!1;var ee=s.memoizedState;E.state=ee,gu(s,d,E,f),N=s.memoizedState,A!==d||ee!==N||An.current||$i?(typeof te=="function"&&(Jd(s,a,te,d),N=s.memoizedState),(A=$i||Hm(s,a,A,d,ee,N,K))?(re||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=N),E.props=d,E.state=N,E.context=K,d=A):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{E=s.stateNode,vm(r,s),A=s.memoizedProps,K=s.type===s.elementType?A:mr(s.type,A),E.props=K,re=s.pendingProps,ee=E.context,N=a.contextType,typeof N=="object"&&N!==null?N=Kn(N):(N=Cn(a)?Ls:on.current,N=No(s,N));var me=a.getDerivedStateFromProps;(te=typeof me=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==re||ee!==N)&&qm(s,E,d,N),$i=!1,ee=s.memoizedState,E.state=ee,gu(s,d,E,f);var Te=s.memoizedState;A!==re||ee!==Te||An.current||$i?(typeof me=="function"&&(Jd(s,a,me,d),Te=s.memoizedState),(K=$i||Hm(s,a,K,d,ee,Te,N)||!1)?(te||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,Te,N),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,Te,N)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||A===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=Te),E.props=d,E.state=Te,E.context=N,d=K):(typeof E.componentDidUpdate!="function"||A===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),d=!1)}return rh(r,s,a,d,g,f)}function rh(r,s,a,d,f,g){ng(r,s);var E=(s.flags&128)!==0;if(!d&&!E)return f&&lm(s,a,!1),ci(r,s,g);d=s.stateNode,eT.current=s;var A=E&&typeof a.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&E?(s.child=Vo(s,r.child,null,g),s.child=Vo(s,null,A,g)):_n(r,s,A,g),s.memoizedState=d.state,f&&lm(s,a,!0),s.child}function ig(r){var s=r.stateNode;s.pendingContext?om(r,s.pendingContext,s.pendingContext!==s.context):s.context&&om(r,s.context,!1),jd(r,s.containerInfo)}function sg(r,s,a,d,f){return Oo(),Ld(f),s.flags|=256,_n(r,s,a,d),s.child}var ih={dehydrated:null,treeContext:null,retryLane:0};function sh(r){return{baseLanes:r,cachePool:null,transitions:null}}function og(r,s,a){var d=s.pendingProps,f=wt.current,g=!1,E=(s.flags&128)!==0,A;if((A=E)||(A=r!==null&&r.memoizedState===null?!1:(f&2)!==0),A?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),ht(wt,f&1),r===null)return Dd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(E=d.children,r=d.fallback,g?(d=s.mode,g=s.child,E={mode:"hidden",children:E},!(d&1)&&g!==null?(g.childLanes=0,g.pendingProps=E):g=Mu(E,d,0,null),r=$s(r,d,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=sh(a),s.memoizedState=ih,r):oh(s,E));if(f=r.memoizedState,f!==null&&(A=f.dehydrated,A!==null))return tT(r,s,E,d,A,f,a);if(g){g=d.fallback,E=s.mode,f=r.child,A=f.sibling;var N={mode:"hidden",children:d.children};return!(E&1)&&s.child!==f?(d=s.child,d.childLanes=0,d.pendingProps=N,s.deletions=null):(d=Yi(f,N),d.subtreeFlags=f.subtreeFlags&14680064),A!==null?g=Yi(A,g):(g=$s(g,E,a,null),g.flags|=2),g.return=s,d.return=s,d.sibling=g,s.child=d,d=g,g=s.child,E=r.child.memoizedState,E=E===null?sh(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=r.childLanes&~a,s.memoizedState=ih,d}return g=r.child,r=g.sibling,d=Yi(g,{mode:"visible",children:d.children}),!(s.mode&1)&&(d.lanes=a),d.return=s,d.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=d,s.memoizedState=null,d}function oh(r,s){return s=Mu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Su(r,s,a,d){return d!==null&&Ld(d),Vo(s,r.child,null,a),r=oh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function tT(r,s,a,d,f,g,E){if(a)return s.flags&256?(s.flags&=-257,d=eh(Error(t(422))),Su(r,s,E,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=d.fallback,f=s.mode,d=Mu({mode:"visible",children:d.children},f,0,null),g=$s(g,f,E,null),g.flags|=2,d.return=s,g.return=s,d.sibling=g,s.child=d,s.mode&1&&Vo(s,r.child,null,E),s.child.memoizedState=sh(E),s.memoizedState=ih,g);if(!(s.mode&1))return Su(r,s,E,null);if(f.data==="$!"){if(d=f.nextSibling&&f.nextSibling.dataset,d)var A=d.dgst;return d=A,g=Error(t(419)),d=eh(g,d,void 0),Su(r,s,E,d)}if(A=(E&r.childLanes)!==0,Pn||A){if(d=zt,d!==null){switch(E&-E){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(d.suspendedLanes|E)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,li(r,f),_r(d,r,f,-1))}return Th(),d=eh(Error(t(421))),Su(r,s,E,d)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=pT.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,Un=Ui(f.nextSibling),Fn=s,Et=!0,pr=null,r!==null&&(Wn[qn++]=oi,Wn[qn++]=ai,Wn[qn++]=Os,oi=r.id,ai=r.overflow,Os=s),s=oh(s,d.children),s.flags|=4096,s)}function ag(r,s,a){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),Md(r.return,s,a)}function ah(r,s,a,d,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=a,g.tailMode=f)}function lg(r,s,a){var d=s.pendingProps,f=d.revealOrder,g=d.tail;if(_n(r,s,d.children,a),d=wt.current,d&2)d=d&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ag(r,a,s);else if(r.tag===19)ag(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(ht(wt,d),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&yu(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),ah(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&yu(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}ah(s,!0,a,null,g);break;case"together":ah(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ru(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function ci(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Us|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=Yi(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Yi(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function nT(r,s,a){switch(s.tag){case 3:ig(s),Oo();break;case 5:Tm(s);break;case 1:Cn(s.type)&&au(s);break;case 4:jd(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,f=s.memoizedProps.value;ht(fu,d._currentValue),d._currentValue=f;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(ht(wt,wt.current&1),s.flags|=128,null):a&s.child.childLanes?og(r,s,a):(ht(wt,wt.current&1),r=ci(r,s,a),r!==null?r.sibling:null);ht(wt,wt.current&1);break;case 19:if(d=(a&s.childLanes)!==0,r.flags&128){if(d)return lg(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ht(wt,wt.current),d)break;return null;case 22:case 23:return s.lanes=0,tg(r,s,a)}return ci(r,s,a)}var ug,lh,cg,dg;ug=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},lh=function(){},cg=function(r,s,a,d){var f=r.memoizedProps;if(f!==d){r=s.stateNode,Ms(Mr.current);var g=null;switch(a){case"input":f=Kr(r,f),d=Kr(r,d),g=[];break;case"select":f=de({},f,{value:void 0}),d=de({},d,{value:void 0}),g=[];break;case"textarea":f=tr(r,f),d=tr(r,d),g=[];break;default:typeof f.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=iu)}kr(a,d);var E;a=null;for(K in f)if(!d.hasOwnProperty(K)&&f.hasOwnProperty(K)&&f[K]!=null)if(K==="style"){var A=f[K];for(E in A)A.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(o.hasOwnProperty(K)?g||(g=[]):(g=g||[]).push(K,null));for(K in d){var N=d[K];if(A=f!=null?f[K]:void 0,d.hasOwnProperty(K)&&N!==A&&(N!=null||A!=null))if(K==="style")if(A){for(E in A)!A.hasOwnProperty(E)||N&&N.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in N)N.hasOwnProperty(E)&&A[E]!==N[E]&&(a||(a={}),a[E]=N[E])}else a||(g||(g=[]),g.push(K,a)),a=N;else K==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,A=A?A.__html:void 0,N!=null&&A!==N&&(g=g||[]).push(K,N)):K==="children"?typeof N!="string"&&typeof N!="number"||(g=g||[]).push(K,""+N):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(o.hasOwnProperty(K)?(N!=null&&K==="onScroll"&&gt("scroll",r),g||A===N||(g=[])):(g=g||[]).push(K,N))}a&&(g=g||[]).push("style",a);var K=g;(s.updateQueue=K)&&(s.flags|=4)}},dg=function(r,s,a,d){a!==d&&(s.flags|=4)};function $a(r,s){if(!Et)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function ln(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,d=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,d|=f.subtreeFlags&14680064,d|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,d|=f.subtreeFlags,d|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=d,r.childLanes=a,s}function rT(r,s,a){var d=s.pendingProps;switch(xd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(s),null;case 1:return Cn(s.type)&&ou(),ln(s),null;case 3:return d=s.stateNode,Fo(),yt(An),yt(on),$d(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(du(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,pr!==null&&(vh(pr),pr=null))),lh(r,s),ln(s),null;case 5:zd(s);var f=Ms(Fa.current);if(a=s.type,r!==null&&s.stateNode!=null)cg(r,s,a,d,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return ln(s),null}if(r=Ms(Mr.current),du(s)){d=s.stateNode,a=s.type;var g=s.memoizedProps;switch(d[br]=s,d[La]=g,r=(s.mode&1)!==0,a){case"dialog":gt("cancel",d),gt("close",d);break;case"iframe":case"object":case"embed":gt("load",d);break;case"video":case"audio":for(f=0;f<xa.length;f++)gt(xa[f],d);break;case"source":gt("error",d);break;case"img":case"image":case"link":gt("error",d),gt("load",d);break;case"details":gt("toggle",d);break;case"input":Ii(d,g),gt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},gt("invalid",d);break;case"textarea":Gr(d,g),gt("invalid",d)}kr(a,g),f=null;for(var E in g)if(g.hasOwnProperty(E)){var A=g[E];E==="children"?typeof A=="string"?d.textContent!==A&&(g.suppressHydrationWarning!==!0&&ru(d.textContent,A,r),f=["children",A]):typeof A=="number"&&d.textContent!==""+A&&(g.suppressHydrationWarning!==!0&&ru(d.textContent,A,r),f=["children",""+A]):o.hasOwnProperty(E)&&A!=null&&E==="onScroll"&&gt("scroll",d)}switch(a){case"input":Bn(d),lo(d,g,!0);break;case"textarea":Bn(d),wn(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=iu)}d=f,s.updateQueue=d,d!==null&&(s.flags|=4)}else{E=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=lt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=E.createElement(a,{is:d.is}):(r=E.createElement(a),a==="select"&&(E=r,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):r=E.createElementNS(r,a),r[br]=s,r[La]=d,ug(r,s,!1,!1),s.stateNode=r;e:{switch(E=Pi(a,d),a){case"dialog":gt("cancel",r),gt("close",r),f=d;break;case"iframe":case"object":case"embed":gt("load",r),f=d;break;case"video":case"audio":for(f=0;f<xa.length;f++)gt(xa[f],r);f=d;break;case"source":gt("error",r),f=d;break;case"img":case"image":case"link":gt("error",r),gt("load",r),f=d;break;case"details":gt("toggle",r),f=d;break;case"input":Ii(r,d),f=Kr(r,d),gt("invalid",r);break;case"option":f=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},f=de({},d,{value:void 0}),gt("invalid",r);break;case"textarea":Gr(r,d),f=tr(r,d),gt("invalid",r);break;default:f=d}kr(a,f),A=f;for(g in A)if(A.hasOwnProperty(g)){var N=A[g];g==="style"?Ss(r,N):g==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&Is(r,N)):g==="children"?typeof N=="string"?(a!=="textarea"||N!=="")&&qt(r,N):typeof N=="number"&&qt(r,""+N):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?N!=null&&g==="onScroll"&&gt("scroll",r):N!=null&&ne(r,g,N,E))}switch(a){case"input":Bn(r),lo(r,d,!1);break;case"textarea":Bn(r),wn(r);break;case"option":d.value!=null&&r.setAttribute("value",""+et(d.value));break;case"select":r.multiple=!!d.multiple,g=d.value,g!=null?Wt(r,!!d.multiple,g,!1):d.defaultValue!=null&&Wt(r,!!d.multiple,d.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=iu)}switch(a){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return ln(s),null;case 6:if(r&&s.stateNode!=null)dg(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(a=Ms(Fa.current),Ms(Mr.current),du(s)){if(d=s.stateNode,a=s.memoizedProps,d[br]=s,(g=d.nodeValue!==a)&&(r=Fn,r!==null))switch(r.tag){case 3:ru(d.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ru(d.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else d=(a.nodeType===9?a:a.ownerDocument).createTextNode(d),d[br]=s,s.stateNode=d}return ln(s),null;case 13:if(yt(wt),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Et&&Un!==null&&s.mode&1&&!(s.flags&128))pm(),Oo(),s.flags|=98560,g=!1;else if(g=du(s),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[br]=s}else Oo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;ln(s),g=!1}else pr!==null&&(vh(pr),pr=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,s.mode&1&&(r===null||wt.current&1?bt===0&&(bt=3):Th())),s.updateQueue!==null&&(s.flags|=4),ln(s),null);case 4:return Fo(),lh(r,s),r===null&&Na(s.stateNode.containerInfo),ln(s),null;case 10:return bd(s.type._context),ln(s),null;case 17:return Cn(s.type)&&ou(),ln(s),null;case 19:if(yt(wt),g=s.memoizedState,g===null)return ln(s),null;if(d=(s.flags&128)!==0,E=g.rendering,E===null)if(d)$a(g,!1);else{if(bt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(E=yu(r),E!==null){for(s.flags|=128,$a(g,!1),d=E.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=a,a=s.child;a!==null;)g=a,r=d,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,r=E.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return ht(wt,wt.current&1|2),s.child}r=r.sibling}g.tail!==null&&ot()>Bo&&(s.flags|=128,d=!0,$a(g,!1),s.lanes=4194304)}else{if(!d)if(r=yu(E),r!==null){if(s.flags|=128,d=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),$a(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!Et)return ln(s),null}else 2*ot()-g.renderingStartTime>Bo&&a!==1073741824&&(s.flags|=128,d=!0,$a(g,!1),s.lanes=4194304);g.isBackwards?(E.sibling=s.child,s.child=E):(a=g.last,a!==null?a.sibling=E:s.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=ot(),s.sibling=null,a=wt.current,ht(wt,d?a&1|2:a&1),s):(ln(s),null);case 22:case 23:return wh(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&s.mode&1?jn&1073741824&&(ln(s),s.subtreeFlags&6&&(s.flags|=8192)):ln(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function iT(r,s){switch(xd(s),s.tag){case 1:return Cn(s.type)&&ou(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Fo(),yt(An),yt(on),$d(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return zd(s),null;case 13:if(yt(wt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Oo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return yt(wt),null;case 4:return Fo(),null;case 10:return bd(s.type._context),null;case 22:case 23:return wh(),null;case 24:return null;default:return null}}var Au=!1,un=!1,sT=typeof WeakSet=="function"?WeakSet:Set,ve=null;function jo(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(d){At(r,s,d)}else a.current=null}function uh(r,s,a){try{a()}catch(d){At(r,s,d)}}var hg=!1;function oT(r,s){if(wd=bi,r=Hp(),fd(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var f=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var E=0,A=-1,N=-1,K=0,te=0,re=r,ee=null;t:for(;;){for(var me;re!==a||f!==0&&re.nodeType!==3||(A=E+f),re!==g||d!==0&&re.nodeType!==3||(N=E+d),re.nodeType===3&&(E+=re.nodeValue.length),(me=re.firstChild)!==null;)ee=re,re=me;for(;;){if(re===r)break t;if(ee===a&&++K===f&&(A=E),ee===g&&++te===d&&(N=E),(me=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=me}a=A===-1||N===-1?null:{start:A,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Td={focusedElem:r,selectionRange:a},bi=!1,ve=s;ve!==null;)if(s=ve,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ve=r;else for(;ve!==null;){s=ve;try{var Te=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var Se=Te.memoizedProps,Pt=Te.memoizedState,B=s.stateNode,O=B.getSnapshotBeforeUpdate(s.elementType===s.type?Se:mr(s.type,Se),Pt);B.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var W=s.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){At(s,s.return,se)}if(r=s.sibling,r!==null){r.return=s.return,ve=r;break}ve=s.return}return Te=hg,hg=!1,Te}function Ha(r,s,a){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var f=d=d.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&uh(s,a,g)}f=f.next}while(f!==d)}}function Cu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var d=a.create;a.destroy=d()}a=a.next}while(a!==s)}}function ch(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function fg(r){var s=r.alternate;s!==null&&(r.alternate=null,fg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[br],delete s[La],delete s[Ad],delete s[Bw],delete s[$w])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function pg(r){return r.tag===5||r.tag===3||r.tag===4}function mg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||pg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function dh(r,s,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=iu));else if(d!==4&&(r=r.child,r!==null))for(dh(r,s,a),r=r.sibling;r!==null;)dh(r,s,a),r=r.sibling}function hh(r,s,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(hh(r,s,a),r=r.sibling;r!==null;)hh(r,s,a),r=r.sibling}var Xt=null,gr=!1;function Wi(r,s,a){for(a=a.child;a!==null;)gg(r,s,a),a=a.sibling}function gg(r,s,a){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(In,a)}catch{}switch(a.tag){case 5:un||jo(a,s);case 6:var d=Xt,f=gr;Xt=null,Wi(r,s,a),Xt=d,gr=f,Xt!==null&&(gr?(r=Xt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Xt.removeChild(a.stateNode));break;case 18:Xt!==null&&(gr?(r=Xt,a=a.stateNode,r.nodeType===8?Rd(r.parentNode,a):r.nodeType===1&&Rd(r,a),dr(r)):Rd(Xt,a.stateNode));break;case 4:d=Xt,f=gr,Xt=a.stateNode.containerInfo,gr=!0,Wi(r,s,a),Xt=d,gr=f;break;case 0:case 11:case 14:case 15:if(!un&&(d=a.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){f=d=d.next;do{var g=f,E=g.destroy;g=g.tag,E!==void 0&&(g&2||g&4)&&uh(a,s,E),f=f.next}while(f!==d)}Wi(r,s,a);break;case 1:if(!un&&(jo(a,s),d=a.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=a.memoizedProps,d.state=a.memoizedState,d.componentWillUnmount()}catch(A){At(a,s,A)}Wi(r,s,a);break;case 21:Wi(r,s,a);break;case 22:a.mode&1?(un=(d=un)||a.memoizedState!==null,Wi(r,s,a),un=d):Wi(r,s,a);break;default:Wi(r,s,a)}}function yg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new sT),s.forEach(function(d){var f=mT.bind(null,r,d);a.has(d)||(a.add(d),d.then(f,f))})}}function yr(r,s){var a=s.deletions;if(a!==null)for(var d=0;d<a.length;d++){var f=a[d];try{var g=r,E=s,A=E;e:for(;A!==null;){switch(A.tag){case 5:Xt=A.stateNode,gr=!1;break e;case 3:Xt=A.stateNode.containerInfo,gr=!0;break e;case 4:Xt=A.stateNode.containerInfo,gr=!0;break e}A=A.return}if(Xt===null)throw Error(t(160));gg(g,E,f),Xt=null,gr=!1;var N=f.alternate;N!==null&&(N.return=null),f.return=null}catch(K){At(f,s,K)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)_g(s,r),s=s.sibling}function _g(r,s){var a=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(yr(s,r),Ur(r),d&4){try{Ha(3,r,r.return),Cu(3,r)}catch(Se){At(r,r.return,Se)}try{Ha(5,r,r.return)}catch(Se){At(r,r.return,Se)}}break;case 1:yr(s,r),Ur(r),d&512&&a!==null&&jo(a,a.return);break;case 5:if(yr(s,r),Ur(r),d&512&&a!==null&&jo(a,a.return),r.flags&32){var f=r.stateNode;try{qt(f,"")}catch(Se){At(r,r.return,Se)}}if(d&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,E=a!==null?a.memoizedProps:g,A=r.type,N=r.updateQueue;if(r.updateQueue=null,N!==null)try{A==="input"&&g.type==="radio"&&g.name!=null&&Si(f,g),Pi(A,E);var K=Pi(A,g);for(E=0;E<N.length;E+=2){var te=N[E],re=N[E+1];te==="style"?Ss(f,re):te==="dangerouslySetInnerHTML"?Is(f,re):te==="children"?qt(f,re):ne(f,te,re,K)}switch(A){case"input":Ts(f,g);break;case"textarea":Ar(f,g);break;case"select":var ee=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var me=g.value;me!=null?Wt(f,!!g.multiple,me,!1):ee!==!!g.multiple&&(g.defaultValue!=null?Wt(f,!!g.multiple,g.defaultValue,!0):Wt(f,!!g.multiple,g.multiple?[]:"",!1))}f[La]=g}catch(Se){At(r,r.return,Se)}}break;case 6:if(yr(s,r),Ur(r),d&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(Se){At(r,r.return,Se)}}break;case 3:if(yr(s,r),Ur(r),d&4&&a!==null&&a.memoizedState.isDehydrated)try{dr(s.containerInfo)}catch(Se){At(r,r.return,Se)}break;case 4:yr(s,r),Ur(r);break;case 13:yr(s,r),Ur(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(mh=ot())),d&4&&yg(r);break;case 22:if(te=a!==null&&a.memoizedState!==null,r.mode&1?(un=(K=un)||te,yr(s,r),un=K):yr(s,r),Ur(r),d&8192){if(K=r.memoizedState!==null,(r.stateNode.isHidden=K)&&!te&&r.mode&1)for(ve=r,te=r.child;te!==null;){for(re=ve=te;ve!==null;){switch(ee=ve,me=ee.child,ee.tag){case 0:case 11:case 14:case 15:Ha(4,ee,ee.return);break;case 1:jo(ee,ee.return);var Te=ee.stateNode;if(typeof Te.componentWillUnmount=="function"){d=ee,a=ee.return;try{s=d,Te.props=s.memoizedProps,Te.state=s.memoizedState,Te.componentWillUnmount()}catch(Se){At(d,a,Se)}}break;case 5:jo(ee,ee.return);break;case 22:if(ee.memoizedState!==null){wg(re);continue}}me!==null?(me.return=ee,ve=me):wg(re)}te=te.sibling}e:for(te=null,re=r;;){if(re.tag===5){if(te===null){te=re;try{f=re.stateNode,K?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(A=re.stateNode,N=re.memoizedProps.style,E=N!=null&&N.hasOwnProperty("display")?N.display:null,A.style.display=Ai("display",E))}catch(Se){At(r,r.return,Se)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=K?"":re.memoizedProps}catch(Se){At(r,r.return,Se)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===r)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===r)break e;for(;re.sibling===null;){if(re.return===null||re.return===r)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:yr(s,r),Ur(r),d&4&&yg(r);break;case 21:break;default:yr(s,r),Ur(r)}}function Ur(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(pg(a)){var d=a;break e}a=a.return}throw Error(t(160))}switch(d.tag){case 5:var f=d.stateNode;d.flags&32&&(qt(f,""),d.flags&=-33);var g=mg(r);hh(r,g,f);break;case 3:case 4:var E=d.stateNode.containerInfo,A=mg(r);dh(r,A,E);break;default:throw Error(t(161))}}catch(N){At(r,r.return,N)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function aT(r,s,a){ve=r,vg(r)}function vg(r,s,a){for(var d=(r.mode&1)!==0;ve!==null;){var f=ve,g=f.child;if(f.tag===22&&d){var E=f.memoizedState!==null||Au;if(!E){var A=f.alternate,N=A!==null&&A.memoizedState!==null||un;A=Au;var K=un;if(Au=E,(un=N)&&!K)for(ve=f;ve!==null;)E=ve,N=E.child,E.tag===22&&E.memoizedState!==null?Tg(f):N!==null?(N.return=E,ve=N):Tg(f);for(;g!==null;)ve=g,vg(g),g=g.sibling;ve=f,Au=A,un=K}Eg(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,ve=g):Eg(r)}}function Eg(r){for(;ve!==null;){var s=ve;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:un||Cu(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!un)if(a===null)d.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:mr(s.type,a.memoizedProps);d.componentDidUpdate(f,a.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&wm(s,g,d);break;case 3:var E=s.updateQueue;if(E!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}wm(s,E,a)}break;case 5:var A=s.stateNode;if(a===null&&s.flags&4){a=A;var N=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&a.focus();break;case"img":N.src&&(a.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var K=s.alternate;if(K!==null){var te=K.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&dr(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}un||s.flags&512&&ch(s)}catch(ee){At(s,s.return,ee)}}if(s===r){ve=null;break}if(a=s.sibling,a!==null){a.return=s.return,ve=a;break}ve=s.return}}function wg(r){for(;ve!==null;){var s=ve;if(s===r){ve=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ve=a;break}ve=s.return}}function Tg(r){for(;ve!==null;){var s=ve;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Cu(4,s)}catch(N){At(s,a,N)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var f=s.return;try{d.componentDidMount()}catch(N){At(s,f,N)}}var g=s.return;try{ch(s)}catch(N){At(s,g,N)}break;case 5:var E=s.return;try{ch(s)}catch(N){At(s,E,N)}}}catch(N){At(s,s.return,N)}if(s===r){ve=null;break}var A=s.sibling;if(A!==null){A.return=s.return,ve=A;break}ve=s.return}}var lT=Math.ceil,Pu=he.ReactCurrentDispatcher,fh=he.ReactCurrentOwner,Qn=he.ReactCurrentBatchConfig,nt=0,zt=null,Nt=null,Jt=0,jn=0,zo=ji(0),bt=0,Wa=null,Us=0,ku=0,ph=0,qa=null,kn=null,mh=0,Bo=1/0,di=null,xu=!1,gh=null,qi=null,Nu=!1,Ki=null,Du=0,Ka=0,yh=null,Lu=-1,Ou=0;function vn(){return nt&6?ot():Lu!==-1?Lu:Lu=ot()}function Gi(r){return r.mode&1?nt&2&&Jt!==0?Jt&-Jt:Ww.transition!==null?(Ou===0&&(Ou=Cs()),Ou):(r=qe,r!==0||(r=window.event,r=r===void 0?16:wa(r.type)),r):1}function _r(r,s,a,d){if(50<Ka)throw Ka=0,yh=null,Error(t(185));Di(r,a,d),(!(nt&2)||r!==zt)&&(r===zt&&(!(nt&2)&&(ku|=a),bt===4&&Qi(r,Jt)),xn(r,d),a===1&&nt===0&&!(s.mode&1)&&(Bo=ot()+500,lu&&Bi()))}function xn(r,s){var a=r.callbackNode;Zr(r,s);var d=As(r,r===zt?Jt:0);if(d===0)a!==null&&Xr(a),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(a!=null&&Xr(a),s===1)r.tag===0?Hw(Sg.bind(null,r)):um(Sg.bind(null,r)),jw(function(){!(nt&6)&&Bi()}),a=null;else{switch(Oi(d)){case 1:a=Ye;break;case 4:a=pt;break;case 16:a=Gt;break;case 536870912:a=mt;break;default:a=Gt}a=Dg(a,Ig.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Ig(r,s){if(Lu=-1,Ou=0,nt&6)throw Error(t(327));var a=r.callbackNode;if($o()&&r.callbackNode!==a)return null;var d=As(r,r===zt?Jt:0);if(d===0)return null;if(d&30||d&r.expiredLanes||s)s=Vu(r,d);else{s=d;var f=nt;nt|=2;var g=Ag();(zt!==r||Jt!==s)&&(di=null,Bo=ot()+500,zs(r,s));do try{dT();break}catch(A){Rg(r,A)}while(!0);Vd(),Pu.current=g,nt=f,Nt!==null?s=0:(zt=null,Jt=0,s=bt)}if(s!==0){if(s===2&&(f=Vn(r),f!==0&&(d=f,s=_h(r,f))),s===1)throw a=Wa,zs(r,0),Qi(r,d),xn(r,ot()),a;if(s===6)Qi(r,d);else{if(f=r.current.alternate,!(d&30)&&!uT(f)&&(s=Vu(r,d),s===2&&(g=Vn(r),g!==0&&(d=g,s=_h(r,g))),s===1))throw a=Wa,zs(r,0),Qi(r,d),xn(r,ot()),a;switch(r.finishedWork=f,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:Bs(r,kn,di);break;case 3:if(Qi(r,d),(d&130023424)===d&&(s=mh+500-ot(),10<s)){if(As(r,0)!==0)break;if(f=r.suspendedLanes,(f&d)!==d){vn(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Sd(Bs.bind(null,r,kn,di),s);break}Bs(r,kn,di);break;case 4:if(Qi(r,d),(d&4194240)===d)break;for(s=r.eventTimes,f=-1;0<d;){var E=31-gn(d);g=1<<E,E=s[E],E>f&&(f=E),d&=~g}if(d=f,d=ot()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*lT(d/1960))-d,10<d){r.timeoutHandle=Sd(Bs.bind(null,r,kn,di),d);break}Bs(r,kn,di);break;case 5:Bs(r,kn,di);break;default:throw Error(t(329))}}}return xn(r,ot()),r.callbackNode===a?Ig.bind(null,r):null}function _h(r,s){var a=qa;return r.current.memoizedState.isDehydrated&&(zs(r,s).flags|=256),r=Vu(r,s),r!==2&&(s=kn,kn=a,s!==null&&vh(s)),r}function vh(r){kn===null?kn=r:kn.push.apply(kn,r)}function uT(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var d=0;d<a.length;d++){var f=a[d],g=f.getSnapshot;f=f.value;try{if(!fr(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Qi(r,s){for(s&=~ph,s&=~ku,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-gn(s),d=1<<a;r[a]=-1,s&=~d}}function Sg(r){if(nt&6)throw Error(t(327));$o();var s=As(r,0);if(!(s&1))return xn(r,ot()),null;var a=Vu(r,s);if(r.tag!==0&&a===2){var d=Vn(r);d!==0&&(s=d,a=_h(r,d))}if(a===1)throw a=Wa,zs(r,0),Qi(r,s),xn(r,ot()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Bs(r,kn,di),xn(r,ot()),null}function Eh(r,s){var a=nt;nt|=1;try{return r(s)}finally{nt=a,nt===0&&(Bo=ot()+500,lu&&Bi())}}function js(r){Ki!==null&&Ki.tag===0&&!(nt&6)&&$o();var s=nt;nt|=1;var a=Qn.transition,d=qe;try{if(Qn.transition=null,qe=1,r)return r()}finally{qe=d,Qn.transition=a,nt=s,!(nt&6)&&Bi()}}function wh(){jn=zo.current,yt(zo)}function zs(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,Uw(a)),Nt!==null)for(a=Nt.return;a!==null;){var d=a;switch(xd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&ou();break;case 3:Fo(),yt(An),yt(on),$d();break;case 5:zd(d);break;case 4:Fo();break;case 13:yt(wt);break;case 19:yt(wt);break;case 10:bd(d.type._context);break;case 22:case 23:wh()}a=a.return}if(zt=r,Nt=r=Yi(r.current,null),Jt=jn=s,bt=0,Wa=null,ph=ku=Us=0,kn=qa=null,bs!==null){for(s=0;s<bs.length;s++)if(a=bs[s],d=a.interleaved,d!==null){a.interleaved=null;var f=d.next,g=a.pending;if(g!==null){var E=g.next;g.next=f,d.next=E}a.pending=d}bs=null}return r}function Rg(r,s){do{var a=Nt;try{if(Vd(),_u.current=Tu,vu){for(var d=Tt.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}vu=!1}if(Fs=0,jt=Vt=Tt=null,Ua=!1,ja=0,fh.current=null,a===null||a.return===null){bt=1,Wa=s,Nt=null;break}e:{var g=r,E=a.return,A=a,N=s;if(s=Jt,A.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var K=N,te=A,re=te.tag;if(!(te.mode&1)&&(re===0||re===11||re===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var me=Ym(E);if(me!==null){me.flags&=-257,Xm(me,E,A,g,s),me.mode&1&&Qm(g,K,s),s=me,N=K;var Te=s.updateQueue;if(Te===null){var Se=new Set;Se.add(N),s.updateQueue=Se}else Te.add(N);break e}else{if(!(s&1)){Qm(g,K,s),Th();break e}N=Error(t(426))}}else if(Et&&A.mode&1){var Pt=Ym(E);if(Pt!==null){!(Pt.flags&65536)&&(Pt.flags|=256),Xm(Pt,E,A,g,s),Ld(Uo(N,A));break e}}g=N=Uo(N,A),bt!==4&&(bt=2),qa===null?qa=[g]:qa.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var B=Km(g,N,s);Em(g,B);break e;case 1:A=N;var O=g.type,W=g.stateNode;if(!(g.flags&128)&&(typeof O.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(qi===null||!qi.has(W)))){g.flags|=65536,s&=-s,g.lanes|=s;var se=Gm(g,A,s);Em(g,se);break e}}g=g.return}while(g!==null)}Pg(a)}catch(Re){s=Re,Nt===a&&a!==null&&(Nt=a=a.return);continue}break}while(!0)}function Ag(){var r=Pu.current;return Pu.current=Tu,r===null?Tu:r}function Th(){(bt===0||bt===3||bt===2)&&(bt=4),zt===null||!(Us&268435455)&&!(ku&268435455)||Qi(zt,Jt)}function Vu(r,s){var a=nt;nt|=2;var d=Ag();(zt!==r||Jt!==s)&&(di=null,zs(r,s));do try{cT();break}catch(f){Rg(r,f)}while(!0);if(Vd(),nt=a,Pu.current=d,Nt!==null)throw Error(t(261));return zt=null,Jt=0,bt}function cT(){for(;Nt!==null;)Cg(Nt)}function dT(){for(;Nt!==null&&!xr();)Cg(Nt)}function Cg(r){var s=Ng(r.alternate,r,jn);r.memoizedProps=r.pendingProps,s===null?Pg(r):Nt=s,fh.current=null}function Pg(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=iT(a,s),a!==null){a.flags&=32767,Nt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{bt=6,Nt=null;return}}else if(a=rT(a,s,jn),a!==null){Nt=a;return}if(s=s.sibling,s!==null){Nt=s;return}Nt=s=r}while(s!==null);bt===0&&(bt=5)}function Bs(r,s,a){var d=qe,f=Qn.transition;try{Qn.transition=null,qe=1,hT(r,s,a,d)}finally{Qn.transition=f,qe=d}return null}function hT(r,s,a,d){do $o();while(Ki!==null);if(nt&6)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(ct(r,g),r===zt&&(Nt=zt=null,Jt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Nu||(Nu=!0,Dg(Gt,function(){return $o(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=Qn.transition,Qn.transition=null;var E=qe;qe=1;var A=nt;nt|=4,fh.current=null,oT(r,a),_g(a,r),Dw(Td),bi=!!wd,Td=wd=null,r.current=a,aT(a),or(),nt=A,qe=E,Qn.transition=g}else r.current=a;if(Nu&&(Nu=!1,Ki=r,Du=f),g=r.pendingLanes,g===0&&(qi=null),uo(a.stateNode),xn(r,ot()),s!==null)for(d=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],d(f.value,{componentStack:f.stack,digest:f.digest});if(xu)throw xu=!1,r=gh,gh=null,r;return Du&1&&r.tag!==0&&$o(),g=r.pendingLanes,g&1?r===yh?Ka++:(Ka=0,yh=r):Ka=0,Bi(),null}function $o(){if(Ki!==null){var r=Oi(Du),s=Qn.transition,a=qe;try{if(Qn.transition=null,qe=16>r?16:r,Ki===null)var d=!1;else{if(r=Ki,Ki=null,Du=0,nt&6)throw Error(t(331));var f=nt;for(nt|=4,ve=r.current;ve!==null;){var g=ve,E=g.child;if(ve.flags&16){var A=g.deletions;if(A!==null){for(var N=0;N<A.length;N++){var K=A[N];for(ve=K;ve!==null;){var te=ve;switch(te.tag){case 0:case 11:case 15:Ha(8,te,g)}var re=te.child;if(re!==null)re.return=te,ve=re;else for(;ve!==null;){te=ve;var ee=te.sibling,me=te.return;if(fg(te),te===K){ve=null;break}if(ee!==null){ee.return=me,ve=ee;break}ve=me}}}var Te=g.alternate;if(Te!==null){var Se=Te.child;if(Se!==null){Te.child=null;do{var Pt=Se.sibling;Se.sibling=null,Se=Pt}while(Se!==null)}}ve=g}}if(g.subtreeFlags&2064&&E!==null)E.return=g,ve=E;else e:for(;ve!==null;){if(g=ve,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Ha(9,g,g.return)}var B=g.sibling;if(B!==null){B.return=g.return,ve=B;break e}ve=g.return}}var O=r.current;for(ve=O;ve!==null;){E=ve;var W=E.child;if(E.subtreeFlags&2064&&W!==null)W.return=E,ve=W;else e:for(E=O;ve!==null;){if(A=ve,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:Cu(9,A)}}catch(Re){At(A,A.return,Re)}if(A===E){ve=null;break e}var se=A.sibling;if(se!==null){se.return=A.return,ve=se;break e}ve=A.return}}if(nt=f,Bi(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(In,r)}catch{}d=!0}return d}finally{qe=a,Qn.transition=s}}return!1}function kg(r,s,a){s=Uo(a,s),s=Km(r,s,1),r=Hi(r,s,1),s=vn(),r!==null&&(Di(r,1,s),xn(r,s))}function At(r,s,a){if(r.tag===3)kg(r,r,a);else for(;s!==null;){if(s.tag===3){kg(s,r,a);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(qi===null||!qi.has(d))){r=Uo(a,r),r=Gm(s,r,1),s=Hi(s,r,1),r=vn(),s!==null&&(Di(s,1,r),xn(s,r));break}}s=s.return}}function fT(r,s,a){var d=r.pingCache;d!==null&&d.delete(s),s=vn(),r.pingedLanes|=r.suspendedLanes&a,zt===r&&(Jt&a)===a&&(bt===4||bt===3&&(Jt&130023424)===Jt&&500>ot()-mh?zs(r,0):ph|=a),xn(r,s)}function xg(r,s){s===0&&(r.mode&1?(s=ho,ho<<=1,!(ho&130023424)&&(ho=4194304)):s=1);var a=vn();r=li(r,s),r!==null&&(Di(r,s,a),xn(r,a))}function pT(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),xg(r,a)}function mT(r,s){var a=0;switch(r.tag){case 13:var d=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),xg(r,a)}var Ng;Ng=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||An.current)Pn=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return Pn=!1,nT(r,s,a);Pn=!!(r.flags&131072)}else Pn=!1,Et&&s.flags&1048576&&cm(s,cu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Ru(r,s),r=s.pendingProps;var f=No(s,on.current);Mo(s,a),f=qd(null,s,d,r,f,a);var g=Kd();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Cn(d)?(g=!0,au(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Ud(s),f.updater=Iu,s.stateNode=f,f._reactInternals=s,Zd(s,d,r,a),s=rh(null,s,d,!0,g,a)):(s.tag=0,Et&&g&&kd(s),_n(null,s,f,a),s=s.child),s;case 16:d=s.elementType;e:{switch(Ru(r,s),r=s.pendingProps,f=d._init,d=f(d._payload),s.type=d,f=s.tag=yT(d),r=mr(d,r),f){case 0:s=nh(null,s,d,r,a);break e;case 1:s=rg(null,s,d,r,a);break e;case 11:s=Jm(null,s,d,r,a);break e;case 14:s=Zm(null,s,d,mr(d.type,r),a);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:mr(d,f),nh(r,s,d,f,a);case 1:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:mr(d,f),rg(r,s,d,f,a);case 3:e:{if(ig(s),r===null)throw Error(t(387));d=s.pendingProps,g=s.memoizedState,f=g.element,vm(r,s),gu(s,d,null,a);var E=s.memoizedState;if(d=E.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=Uo(Error(t(423)),s),s=sg(r,s,d,a,f);break e}else if(d!==f){f=Uo(Error(t(424)),s),s=sg(r,s,d,a,f);break e}else for(Un=Ui(s.stateNode.containerInfo.firstChild),Fn=s,Et=!0,pr=null,a=ym(s,null,d,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Oo(),d===f){s=ci(r,s,a);break e}_n(r,s,d,a)}s=s.child}return s;case 5:return Tm(s),r===null&&Dd(s),d=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,E=f.children,Id(d,f)?E=null:g!==null&&Id(d,g)&&(s.flags|=32),ng(r,s),_n(r,s,E,a),s.child;case 6:return r===null&&Dd(s),null;case 13:return og(r,s,a);case 4:return jd(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=Vo(s,null,d,a):_n(r,s,d,a),s.child;case 11:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:mr(d,f),Jm(r,s,d,f,a);case 7:return _n(r,s,s.pendingProps,a),s.child;case 8:return _n(r,s,s.pendingProps.children,a),s.child;case 12:return _n(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(d=s.type._context,f=s.pendingProps,g=s.memoizedProps,E=f.value,ht(fu,d._currentValue),d._currentValue=E,g!==null)if(fr(g.value,E)){if(g.children===f.children&&!An.current){s=ci(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var A=g.dependencies;if(A!==null){E=g.child;for(var N=A.firstContext;N!==null;){if(N.context===d){if(g.tag===1){N=ui(-1,a&-a),N.tag=2;var K=g.updateQueue;if(K!==null){K=K.shared;var te=K.pending;te===null?N.next=N:(N.next=te.next,te.next=N),K.pending=N}}g.lanes|=a,N=g.alternate,N!==null&&(N.lanes|=a),Md(g.return,a,s),A.lanes|=a;break}N=N.next}}else if(g.tag===10)E=g.type===s.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=a,A=E.alternate,A!==null&&(A.lanes|=a),Md(E,a,s),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}_n(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,d=s.pendingProps.children,Mo(s,a),f=Kn(f),d=d(f),s.flags|=1,_n(r,s,d,a),s.child;case 14:return d=s.type,f=mr(d,s.pendingProps),f=mr(d.type,f),Zm(r,s,d,f,a);case 15:return eg(r,s,s.type,s.pendingProps,a);case 17:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:mr(d,f),Ru(r,s),s.tag=1,Cn(d)?(r=!0,au(s)):r=!1,Mo(s,a),Wm(s,d,f),Zd(s,d,f,a),rh(null,s,d,!0,r,a);case 19:return lg(r,s,a);case 22:return tg(r,s,a)}throw Error(t(156,s.tag))};function Dg(r,s){return Kt(r,s)}function gT(r,s,a,d){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(r,s,a,d){return new gT(r,s,a,d)}function Ih(r){return r=r.prototype,!(!r||!r.isReactComponent)}function yT(r){if(typeof r=="function")return Ih(r)?1:0;if(r!=null){if(r=r.$$typeof,r===F)return 11;if(r===Ge)return 14}return 2}function Yi(r,s){var a=r.alternate;return a===null?(a=Yn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function bu(r,s,a,d,f,g){var E=2;if(d=r,typeof r=="function")Ih(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case k:return $s(a.children,f,g,s);case S:E=8,f|=8;break;case R:return r=Yn(12,a,s,f|2),r.elementType=R,r.lanes=g,r;case P:return r=Yn(13,a,s,f),r.elementType=P,r.lanes=g,r;case dt:return r=Yn(19,a,s,f),r.elementType=dt,r.lanes=g,r;case Qe:return Mu(a,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case x:E=10;break e;case L:E=9;break e;case F:E=11;break e;case Ge:E=14;break e;case Ct:E=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Yn(E,a,s,f),s.elementType=r,s.type=d,s.lanes=g,s}function $s(r,s,a,d){return r=Yn(7,r,d,s),r.lanes=a,r}function Mu(r,s,a,d){return r=Yn(22,r,d,s),r.elementType=Qe,r.lanes=a,r.stateNode={isHidden:!1},r}function Sh(r,s,a){return r=Yn(6,r,null,s),r.lanes=a,r}function Rh(r,s,a){return s=Yn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function _T(r,s,a,d,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ni(0),this.expirationTimes=Ni(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.identifierPrefix=d,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Ah(r,s,a,d,f,g,E,A,N){return r=new _T(r,s,a,A,N),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Yn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:d,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ud(g),r}function vT(r,s,a){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:d==null?null:""+d,children:r,containerInfo:s,implementation:a}}function Lg(r){if(!r)return zi;r=r._reactInternals;e:{if(We(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Cn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Cn(a))return am(r,a,s)}return s}function Og(r,s,a,d,f,g,E,A,N){return r=Ah(a,d,!0,r,f,g,E,A,N),r.context=Lg(null),a=r.current,d=vn(),f=Gi(a),g=ui(d,f),g.callback=s??null,Hi(a,g,f),r.current.lanes=f,Di(r,f,d),xn(r,d),r}function Fu(r,s,a,d){var f=s.current,g=vn(),E=Gi(f);return a=Lg(a),s.context===null?s.context=a:s.pendingContext=a,s=ui(g,E),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=Hi(f,s,E),r!==null&&(_r(r,f,E,g),mu(r,f,E)),E}function Uu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Vg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Ch(r,s){Vg(r,s),(r=r.alternate)&&Vg(r,s)}var bg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Ph(r){this._internalRoot=r}ju.prototype.render=Ph.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Fu(r,s,null,null)},ju.prototype.unmount=Ph.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;js(function(){Fu(null,r,null,null)}),s[ii]=null}};function ju(r){this._internalRoot=r}ju.prototype.unstable_scheduleHydration=function(r){if(r){var s=jl();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Dr.length&&s!==0&&s<Dr[a].priority;a++);Dr.splice(a,0,r),a===0&&$l(r)}};function kh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function zu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Mg(){}function ET(r,s,a,d,f){if(f){if(typeof d=="function"){var g=d;d=function(){var K=Uu(E);g.call(K)}}var E=Og(s,d,r,0,null,!1,!1,"",Mg);return r._reactRootContainer=E,r[ii]=E.current,Na(r.nodeType===8?r.parentNode:r),js(),E}for(;f=r.lastChild;)r.removeChild(f);if(typeof d=="function"){var A=d;d=function(){var K=Uu(N);A.call(K)}}var N=Ah(r,0,!1,null,null,!1,!1,"",Mg);return r._reactRootContainer=N,r[ii]=N.current,Na(r.nodeType===8?r.parentNode:r),js(function(){Fu(s,N,a,d)}),N}function Bu(r,s,a,d,f){var g=a._reactRootContainer;if(g){var E=g;if(typeof f=="function"){var A=f;f=function(){var N=Uu(E);A.call(N)}}Fu(s,E,r,f)}else E=ET(a,s,r,f,d);return Uu(E)}Fl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=xi(s.pendingLanes);a!==0&&(Li(s,a|1),xn(s,ot()),!(nt&6)&&(Bo=ot()+500,Bi()))}break;case 13:js(function(){var d=li(r,1);if(d!==null){var f=vn();_r(d,r,1,f)}}),Ch(r,1)}},fo=function(r){if(r.tag===13){var s=li(r,134217728);if(s!==null){var a=vn();_r(s,r,134217728,a)}Ch(r,134217728)}},Ul=function(r){if(r.tag===13){var s=Gi(r),a=li(r,s);if(a!==null){var d=vn();_r(a,r,s,d)}Ch(r,s)}},jl=function(){return qe},zl=function(r,s){var a=qe;try{return qe=r,s()}finally{qe=a}},Qr=function(r,s,a){switch(s){case"input":if(Ts(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var d=a[s];if(d!==r&&d.form===r.form){var f=su(d);if(!f)throw Error(t(90));Ti(d),Ts(d,f)}}}break;case"textarea":Ar(r,a);break;case"select":s=a.value,s!=null&&Wt(r,!!a.multiple,s,!1)}},Yr=Eh,D=js;var wT={usingClientEntryPoint:!1,Events:[Oa,ko,su,mn,Rs,Eh]},Ga={findFiberByHostInstance:Ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TT={bundleType:Ga.bundleType,version:Ga.version,rendererPackageName:Ga.rendererPackageName,rendererConfig:Ga.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:he.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=sr(r),r===null?null:r.stateNode},findFiberByHostInstance:Ga.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$u.isDisabled&&$u.supportsFiber)try{In=$u.inject(TT),sn=$u}catch{}}return Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wT,Nn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kh(s))throw Error(t(200));return vT(r,s,null,a)},Nn.createRoot=function(r,s){if(!kh(r))throw Error(t(299));var a=!1,d="",f=bg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=Ah(r,1,!1,null,null,a,!1,d,f),r[ii]=s.current,Na(r.nodeType===8?r.parentNode:r),new Ph(s)},Nn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=sr(s),r=r===null?null:r.stateNode,r},Nn.flushSync=function(r){return js(r)},Nn.hydrate=function(r,s,a){if(!zu(s))throw Error(t(200));return Bu(null,r,s,!0,a)},Nn.hydrateRoot=function(r,s,a){if(!kh(r))throw Error(t(405));var d=a!=null&&a.hydratedSources||null,f=!1,g="",E=bg;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),s=Og(s,null,r,1,a??null,f,!1,g,E),r[ii]=s.current,Na(r),d)for(r=0;r<d.length;r++)a=d[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new ju(s)},Nn.render=function(r,s,a){if(!zu(s))throw Error(t(200));return Bu(null,r,s,!1,a)},Nn.unmountComponentAtNode=function(r){if(!zu(r))throw Error(t(40));return r._reactRootContainer?(js(function(){Bu(null,null,r,!1,function(){r._reactRootContainer=null,r[ii]=null})}),!0):!1},Nn.unstable_batchedUpdates=Eh,Nn.unstable_renderSubtreeIntoContainer=function(r,s,a,d){if(!zu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Bu(r,s,a,!1,d)},Nn.version="18.3.1-next-f1338f8080-20240426",Nn}var Wg;function b_(){if(Wg)return Dh.exports;Wg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Dh.exports=xT(),Dh.exports}var qg;function NT(){if(qg)return Hu;qg=1;var n=b_();return Hu.createRoot=n.createRoot,Hu.hydrateRoot=n.hydrateRoot,Hu}var DT=NT(),Ya={},Kg;function LT(){if(Kg)return Ya;Kg=1,Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.parse=c,Ya.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function c(I,C){const V=new l,$=I.length;if($<2)return V;const U=(C==null?void 0:C.decode)||v;let H=0;do{const ie=I.indexOf("=",H);if(ie===-1)break;const ne=I.indexOf(";",H),he=ne===-1?$:ne;if(ie>he){H=I.lastIndexOf(";",ie-1)+1;continue}const j=h(I,H,ie),ce=p(I,ie,j),k=I.slice(j,ce);if(V[k]===void 0){let S=h(I,ie+1,he),R=p(I,he,S);const x=U(I.slice(S,R));V[k]=x}H=he+1}while(H<$);return V}function h(I,C,V){do{const $=I.charCodeAt(C);if($!==32&&$!==9)return C}while(++C<V);return V}function p(I,C,V){for(;C>V;){const $=I.charCodeAt(--C);if($!==32&&$!==9)return C+1}return V}function y(I,C,V){const $=(V==null?void 0:V.encode)||encodeURIComponent;if(!n.test(I))throw new TypeError(`argument name is invalid: ${I}`);const U=$(C);if(!e.test(U))throw new TypeError(`argument val is invalid: ${C}`);let H=I+"="+U;if(!V)return H;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);H+="; Max-Age="+V.maxAge}if(V.domain){if(!t.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);H+="; Domain="+V.domain}if(V.path){if(!i.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);H+="; Path="+V.path}if(V.expires){if(!T(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);H+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&(H+="; HttpOnly"),V.secure&&(H+="; Secure"),V.partitioned&&(H+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return H}function v(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function T(I){return o.call(I)==="[object Date]"}return Ya}LT();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Gg="popstate";function OT(n={}){function e(i,o){let{pathname:l,search:c,hash:h}=i.location;return hl("",{pathname:l,search:c,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:ds(o)}return bT(e,t,null,n)}function $e(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ht(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VT(){return Math.random().toString(36).substring(2,10)}function Qg(n,e){return{usr:n.state,key:n.key,idx:e}}function hl(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?_s(e):e,state:t,key:e&&e.key||i||VT()}}function ds({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function _s(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function bT(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,h="POP",p=null,y=v();y==null&&(y=0,c.replaceState({...c.state,idx:y},""));function v(){return(c.state||{idx:null}).idx}function T(){h="POP";let U=v(),H=U==null?null:U-y;y=U,p&&p({action:h,location:$.location,delta:H})}function I(U,H){h="PUSH";let ie=hl($.location,U,H);y=v()+1;let ne=Qg(ie,y),he=$.createHref(ie);try{c.pushState(ne,"",he)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;o.location.assign(he)}l&&p&&p({action:h,location:$.location,delta:1})}function C(U,H){h="REPLACE";let ie=hl($.location,U,H);y=v();let ne=Qg(ie,y),he=$.createHref(ie);c.replaceState(ne,"",he),l&&p&&p({action:h,location:$.location,delta:0})}function V(U){let H=o.location.origin!=="null"?o.location.origin:o.location.href,ie=typeof U=="string"?U:ds(U);return ie=ie.replace(/ $/,"%20"),$e(H,`No window.location.(origin|href) available to create URL for href: ${ie}`),new URL(ie,H)}let $={get action(){return h},get location(){return n(o,c)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Gg,T),p=U,()=>{o.removeEventListener(Gg,T),p=null}},createHref(U){return e(o,U)},createURL:V,encodeLocation(U){let H=V(U);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:I,replace:C,go(U){return c.go(U)}};return $}var MT=new Set(["lazy","caseSensitive","path","id","index","children"]);function FT(n){return n.index===!0}function hc(n,e,t=[],i={}){return n.map((o,l)=>{let c=[...t,String(l)],h=typeof o.id=="string"?o.id:c.join("-");if($e(o.index!==!0||!o.children,"Cannot specify children on an index route"),$e(!i[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),FT(o)){let p={...o,...e(o),id:h};return i[h]=p,p}else{let p={...o,...e(o),id:h,children:void 0};return i[h]=p,o.children&&(p.children=hc(o.children,e,c,i)),p}})}function es(n,e,t="/"){return Zu(n,e,t,!1)}function Zu(n,e,t,i){let o=typeof e=="string"?_s(e):e,l=Tr(o.pathname||"/",t);if(l==null)return null;let c=M_(n);jT(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let y=XT(l);h=QT(c[p],y,i)}return h}function UT(n,e){let{route:t,pathname:i,params:o}=n;return{id:t.id,pathname:i,params:o,data:e[t.id],handle:t.handle}}function M_(n,e=[],t=[],i=""){let o=(l,c,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&($e(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=jr([i,p.relativePath]),v=t.concat(p);l.children&&l.children.length>0&&($e(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),M_(l.children,e,v,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:KT(y,l.index),routesMeta:v})};return n.forEach((l,c)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))o(l,c);else for(let p of F_(l.path))o(l,c,p)}),e}function F_(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=F_(i.join("/")),h=[];return h.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&h.push(...c),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function jT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:GT(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var zT=/^:[\w-]+$/,BT=3,$T=2,HT=1,WT=10,qT=-2,Yg=n=>n==="*";function KT(n,e){let t=n.split("/"),i=t.length;return t.some(Yg)&&(i+=qT),e&&(i+=$T),t.filter(o=>!Yg(o)).reduce((o,l)=>o+(zT.test(l)?BT:l===""?HT:WT),i)}function GT(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function QT(n,e,t=!1){let{routesMeta:i}=n,o={},l="/",c=[];for(let h=0;h<i.length;++h){let p=i[h],y=h===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",T=fc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},v),I=p.route;if(!T&&y&&t&&!i[i.length-1].route.index&&(T=fc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:jr([l,T.pathname]),pathnameBase:eI(jr([l,T.pathnameBase])),route:I}),T.pathnameBase!=="/"&&(l=jr([l,T.pathnameBase]))}return c}function fc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=YT(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((y,{paramName:v,isOptional:T},I)=>{if(v==="*"){let V=h[I]||"";c=l.slice(0,l.length-V.length).replace(/(.)\/+$/,"$1")}const C=h[I];return T&&!C?y[v]=void 0:y[v]=(C||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:c,pattern:n}}function YT(n,e=!1,t=!0){Ht(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(i.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function XT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ht(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Tr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function JT(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?_s(n):n;return{pathname:t?t.startsWith("/")?t:ZT(t,e):e,search:tI(i),hash:nI(o)}}function ZT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Vh(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function U_(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Vc(n){let e=U_(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function bc(n,e,t,i=!1){let o;typeof n=="string"?o=_s(n):(o={...n},$e(!o.pathname||!o.pathname.includes("?"),Vh("?","pathname","search",o)),$e(!o.pathname||!o.pathname.includes("#"),Vh("#","pathname","hash",o)),$e(!o.search||!o.search.includes("#"),Vh("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,h;if(c==null)h=t;else{let T=e.length-1;if(!i&&c.startsWith("..")){let I=c.split("/");for(;I[0]==="..";)I.shift(),T-=1;o.pathname=I.join("/")}h=T>=0?e[T]:"/"}let p=JT(o,h),y=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||v)&&(p.pathname+="/"),p}var jr=n=>n.join("/").replace(/\/\/+/g,"/"),eI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),tI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,nI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,pc=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Mc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var j_=["POST","PUT","PATCH","DELETE"],rI=new Set(j_),iI=["GET",...j_],sI=new Set(iI),oI=new Set([301,302,303,307,308]),aI=new Set([307,308]),bh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Xa={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Af=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uI=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),z_="remix-router-transitions",B_=Symbol("ResetLoaderData");function cI(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";$e(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.mapRouteProperties||uI,o={},l=hc(n.routes,i,void 0,o),c,h=n.basename||"/",p=n.dataStrategy||mI,y=n.patchRoutesOnNavigation,v={...n.future},T=null,I=new Set,C=null,V=null,$=null,U=n.hydrationData!=null,H=es(l,n.history.location,h),ie=null;if(H==null&&!y){let D=Xn(404,{pathname:n.history.location.pathname}),{matches:M,route:G}=ay(l);H=M,ie={[G.id]:D}}H&&!n.hydrationData&&rr(H,l,n.history.location.pathname).active&&(H=null);let ne;if(H)if(H.some(D=>D.route.lazy))ne=!1;else if(!H.some(D=>D.route.loader))ne=!0;else{let D=n.hydrationData?n.hydrationData.loaderData:null,M=n.hydrationData?n.hydrationData.errors:null;if(M){let G=H.findIndex(X=>M[X.route.id]!==void 0);ne=H.slice(0,G+1).every(X=>!Jh(X.route,D,M))}else ne=H.every(G=>!Jh(G.route,D,M))}else{ne=!1,H=[];let D=rr(null,l,n.history.location.pathname);D.active&&D.matches&&(H=D.matches)}let he,j={historyAction:n.history.action,location:n.history.location,matches:H,initialized:ne,navigation:bh,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||ie,fetchers:new Map,blockers:new Map},ce="POP",k=!1,S,R=!1,x=new Map,L=null,F=!1,P=!1,dt=new Set,Ge=new Map,Ct=0,Qe=-1,oe=new Map,Ie=new Set,de=new Map,b=new Map,Y=new Set,we=new Map,be,Oe=null;function ze(){if(T=n.history.listen(({action:D,location:M,delta:G})=>{if(be){be(),be=void 0;return}Ht(we.size===0||G!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let X=Pi({currentLocation:j.location,nextLocation:M,historyAction:D});if(X&&G!=null){let fe=new Promise(_e=>{be=_e});n.history.go(G*-1),kr(X,{state:"blocked",location:M,proceed(){kr(X,{state:"proceeding",proceed:void 0,reset:void 0,location:M}),fe.then(()=>n.history.go(G))},reset(){let _e=new Map(j.blockers);_e.set(X,Xa),Fe({blockers:_e})}});return}return nn(D,M)}),t){AI(e,x);let D=()=>CI(e,x);e.addEventListener("pagehide",D),L=()=>e.removeEventListener("pagehide",D)}return j.initialized||nn("POP",j.location,{initialHydration:!0}),he}function Ze(){T&&T(),L&&L(),I.clear(),S&&S.abort(),j.fetchers.forEach((D,M)=>Ln(M)),j.blockers.forEach((D,M)=>Ci(M))}function et(D){return I.add(D),()=>I.delete(D)}function Fe(D,M={}){j={...j,...D};let G=[],X=[];j.fetchers.forEach((fe,_e)=>{fe.state==="idle"&&(Y.has(_e)?G.push(_e):X.push(_e))}),[...I].forEach(fe=>fe(j,{deletedFetchers:G,viewTransitionOpts:M.viewTransitionOpts,flushSync:M.flushSync===!0})),G.forEach(fe=>Ln(fe)),X.forEach(fe=>j.fetchers.delete(fe))}function ft(D,M,{flushSync:G}={}){var ae,xe;let X=j.actionData!=null&&j.navigation.formMethod!=null&&vr(j.navigation.formMethod)&&j.navigation.state==="loading"&&((ae=D.state)==null?void 0:ae._isRedirect)!==!0,fe;M.actionData?Object.keys(M.actionData).length>0?fe=M.actionData:fe=null:X?fe=j.actionData:fe=null;let _e=M.loaderData?sy(j.loaderData,M.loaderData,M.matches||[],M.errors):j.loaderData,Ce=j.blockers;Ce.size>0&&(Ce=new Map(Ce),Ce.forEach((Ue,it)=>Ce.set(it,Xa)));let pe=k===!0||j.navigation.formMethod!=null&&vr(j.navigation.formMethod)&&((xe=D.state)==null?void 0:xe._isRedirect)!==!0;c&&(l=c,c=void 0),F||ce==="POP"||(ce==="PUSH"?n.history.push(D,D.state):ce==="REPLACE"&&n.history.replace(D,D.state));let Ee;if(ce==="POP"){let Ue=x.get(j.location.pathname);Ue&&Ue.has(D.pathname)?Ee={currentLocation:j.location,nextLocation:D}:x.has(D.pathname)&&(Ee={currentLocation:D,nextLocation:j.location})}else if(R){let Ue=x.get(j.location.pathname);Ue?Ue.add(D.pathname):(Ue=new Set([D.pathname]),x.set(j.location.pathname,Ue)),Ee={currentLocation:j.location,nextLocation:D}}Fe({...M,actionData:fe,loaderData:_e,historyAction:ce,location:D,initialized:!0,navigation:bh,revalidation:"idle",restoreScrollPosition:On(D,M.matches||j.matches),preventScrollReset:pe,blockers:Ce},{viewTransitionOpts:Ee,flushSync:G===!0}),ce="POP",k=!1,R=!1,F=!1,P=!1,Oe==null||Oe.resolve(),Oe=null}async function Bn(D,M){if(typeof D=="number"){n.history.go(D);return}let G=Xh(j.location,j.matches,h,D,M==null?void 0:M.fromRouteId,M==null?void 0:M.relative),{path:X,submission:fe,error:_e}=Xg(!1,G,M),Ce=j.location,pe=hl(j.location,X,M&&M.state);pe={...pe,...n.history.encodeLocation(pe)};let Ee=M&&M.replace!=null?M.replace:void 0,ae="PUSH";Ee===!0?ae="REPLACE":Ee===!1||fe!=null&&vr(fe.formMethod)&&fe.formAction===j.location.pathname+j.location.search&&(ae="REPLACE");let xe=M&&"preventScrollReset"in M?M.preventScrollReset===!0:void 0,Ue=(M&&M.flushSync)===!0,it=Pi({currentLocation:Ce,nextLocation:pe,historyAction:ae});if(it){kr(it,{state:"blocked",location:pe,proceed(){kr(it,{state:"proceeding",proceed:void 0,reset:void 0,location:pe}),Bn(D,M)},reset(){let Rt=new Map(j.blockers);Rt.set(it,Xa),Fe({blockers:Rt})}});return}await nn(ae,pe,{submission:fe,pendingError:_e,preventScrollReset:xe,replace:M&&M.replace,enableViewTransition:M&&M.viewTransition,flushSync:Ue})}function Ti(){Oe||(Oe=PI()),Ar(),Fe({revalidation:"loading"});let D=Oe.promise;return j.navigation.state==="submitting"?D:j.navigation.state==="idle"?(nn(j.historyAction,j.location,{startUninterruptedRevalidation:!0}),D):(nn(ce||j.historyAction,j.navigation.location,{overrideNavigation:j.navigation,enableViewTransition:R===!0}),D)}async function nn(D,M,G){S&&S.abort(),S=null,ce=D,F=(G&&G.startUninterruptedRevalidation)===!0,Tn(j.location,j.matches),k=(G&&G.preventScrollReset)===!0,R=(G&&G.enableViewTransition)===!0;let X=c||l,fe=G&&G.overrideNavigation,_e=es(X,M,h),Ce=(G&&G.flushSync)===!0,pe=rr(_e,X,M.pathname);if(pe.active&&pe.matches&&(_e=pe.matches),!_e){let{error:We,notFoundMatches:tt,route:st}=nr(M.pathname);ft(M,{matches:tt,loaderData:{},errors:{[st.id]:We}},{flushSync:Ce});return}if(j.initialized&&!P&&wI(j.location,M)&&!(G&&G.submission&&vr(G.submission.formMethod))){ft(M,{matches:_e},{flushSync:Ce});return}S=new AbortController;let Ee=Ho(n.history,M,S.signal,G&&G.submission),ae;if(G&&G.pendingError)ae=[Ws(_e).route.id,{type:"error",error:G.pendingError}];else if(G&&G.submission&&vr(G.submission.formMethod)){let We=await Kr(Ee,M,G.submission,_e,pe.active,{replace:G.replace,flushSync:Ce});if(We.shortCircuited)return;if(We.pendingActionResult){let[tt,st]=We.pendingActionResult;if(zn(st)&&Mc(st.error)&&st.error.status===404){S=null,ft(M,{matches:We.matches,loaderData:{},errors:{[tt]:st.error}});return}}_e=We.matches||_e,ae=We.pendingActionResult,fe=Mh(M,G.submission),Ce=!1,pe.active=!1,Ee=Ho(n.history,Ee.url,Ee.signal)}let{shortCircuited:xe,matches:Ue,loaderData:it,errors:Rt}=await Ii(Ee,M,_e,pe.active,fe,G&&G.submission,G&&G.fetcherSubmission,G&&G.replace,G&&G.initialHydration===!0,Ce,ae);xe||(S=null,ft(M,{matches:Ue||_e,...oy(ae),loaderData:it,errors:Rt}))}async function Kr(D,M,G,X,fe,_e={}){Ar();let Ce=SI(M,G);if(Fe({navigation:Ce},{flushSync:_e.flushSync===!0}),fe){let ae=await mn(X,M.pathname,D.signal);if(ae.type==="aborted")return{shortCircuited:!0};if(ae.type==="error"){let xe=Ws(ae.partialMatches).route.id;return{matches:ae.partialMatches,pendingActionResult:[xe,{type:"error",error:ae.error}]}}else if(ae.matches)X=ae.matches;else{let{notFoundMatches:xe,error:Ue,route:it}=nr(M.pathname);return{matches:xe,pendingActionResult:[it.id,{type:"error",error:Ue}]}}}let pe,Ee=el(X,M);if(!Ee.route.action&&!Ee.route.lazy)pe={type:"error",error:Xn(405,{method:D.method,pathname:M.pathname,routeId:Ee.route.id})};else if(pe=(await tr("action",j,D,[Ee],X,null))[Ee.route.id],D.signal.aborted)return{shortCircuited:!0};if(qs(pe)){let ae;return _e&&_e.replace!=null?ae=_e.replace:ae=ny(pe.response.headers.get("Location"),new URL(D.url),h)===j.location.pathname+j.location.search,await Wt(D,pe,!0,{submission:G,replace:ae}),{shortCircuited:!0}}if(zn(pe)){let ae=Ws(X,Ee.route.id);return(_e&&_e.replace)!==!0&&(ce="PUSH"),{matches:X,pendingActionResult:[ae.route.id,pe]}}return{matches:X,pendingActionResult:[Ee.route.id,pe]}}async function Ii(D,M,G,X,fe,_e,Ce,pe,Ee,ae,xe){let Ue=fe||Mh(M,_e),it=_e||Ce||uy(Ue),Rt=!F&&!Ee;if(X){if(Rt){let pt=Si(xe);Fe({navigation:Ue,...pt!==void 0?{actionData:pt}:{}},{flushSync:ae})}let Ye=await mn(G,M.pathname,D.signal);if(Ye.type==="aborted")return{shortCircuited:!0};if(Ye.type==="error"){let pt=Ws(Ye.partialMatches).route.id;return{matches:Ye.partialMatches,loaderData:{},errors:{[pt]:Ye.error}}}else if(Ye.matches)G=Ye.matches;else{let{error:pt,notFoundMatches:Gt,route:ar}=nr(M.pathname);return{matches:Gt,loaderData:{},errors:{[ar.id]:pt}}}}let We=c||l,[tt,st]=Zg(n.history,j,G,it,M,Ee===!0,P,dt,Y,de,Ie,We,h,xe);if(Qe=++Ct,tt.length===0&&st.length===0){let Ye=Pr();return ft(M,{matches:G,loaderData:{},errors:xe&&zn(xe[1])?{[xe[0]]:xe[1].error}:null,...oy(xe),...Ye?{fetchers:new Map(j.fetchers)}:{}},{flushSync:ae}),{shortCircuited:!0}}if(Rt){let Ye={};if(!X){Ye.navigation=Ue;let pt=Si(xe);pt!==void 0&&(Ye.actionData=pt)}st.length>0&&(Ye.fetchers=Ts(st)),Fe(Ye,{flushSync:ae})}st.forEach(Ye=>{qt(Ye.key),Ye.controller&&Ge.set(Ye.key,Ye.controller)});let ir=()=>st.forEach(Ye=>qt(Ye.key));S&&S.signal.addEventListener("abort",ir);let{loaderResults:sr,fetcherResults:rn}=await Gr(j,G,tt,st,D);if(D.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",ir),st.forEach(Ye=>Ge.delete(Ye.key));let Kt=Wu(sr);if(Kt)return await Wt(D,Kt.result,!0,{replace:pe}),{shortCircuited:!0};if(Kt=Wu(rn),Kt)return Ie.add(Kt.key),await Wt(D,Kt.result,!0,{replace:pe}),{shortCircuited:!0};let{loaderData:Xr,errors:xr}=iy(j,G,sr,xe,st,rn);Ee&&j.errors&&(xr={...j.errors,...xr});let or=Pr(),ot=Ai(Qe),Jr=or||ot||st.length>0;return{matches:G,loaderData:Xr,errors:xr,...Jr?{fetchers:new Map(j.fetchers)}:{}}}function Si(D){if(D&&!zn(D[1]))return{[D[0]]:D[1].data};if(j.actionData)return Object.keys(j.actionData).length===0?null:j.actionData}function Ts(D){return D.forEach(M=>{let G=j.fetchers.get(M.key),X=Ja(void 0,G?G.data:void 0);j.fetchers.set(M.key,X)}),new Map(j.fetchers)}async function lo(D,M,G,X){qt(D);let fe=(X&&X.flushSync)===!0,_e=c||l,Ce=Xh(j.location,j.matches,h,G,M,X==null?void 0:X.relative),pe=es(_e,Ce,h),Ee=rr(pe,_e,Ce);if(Ee.active&&Ee.matches&&(pe=Ee.matches),!pe){lt(D,M,Xn(404,{pathname:Ce}),{flushSync:fe});return}let{path:ae,submission:xe,error:Ue}=Xg(!0,Ce,X);if(Ue){lt(D,M,Ue,{flushSync:fe});return}let it=el(pe,ae),Rt=(X&&X.preventScrollReset)===!0;if(xe&&vr(xe.formMethod)){await Ri(D,M,ae,it,pe,Ee.active,fe,Rt,xe);return}de.set(D,{routeId:M,path:ae}),await er(D,M,ae,it,pe,Ee.active,fe,Rt,xe)}async function Ri(D,M,G,X,fe,_e,Ce,pe,Ee){Ar(),de.delete(D);function ae(mt){if(!mt.route.action&&!mt.route.lazy){let In=Xn(405,{method:Ee.formMethod,pathname:G,routeId:M});return lt(D,M,In,{flushSync:Ce}),!0}return!1}if(!_e&&ae(X))return;let xe=j.fetchers.get(D);wn(D,RI(Ee,xe),{flushSync:Ce});let Ue=new AbortController,it=Ho(n.history,G,Ue.signal,Ee);if(_e){let mt=await mn(fe,G,it.signal);if(mt.type==="aborted")return;if(mt.type==="error"){lt(D,M,mt.error,{flushSync:Ce});return}else if(mt.matches){if(fe=mt.matches,X=el(fe,G),ae(X))return}else{lt(D,M,Xn(404,{pathname:G}),{flushSync:Ce});return}}Ge.set(D,Ue);let Rt=Ct,tt=(await tr("action",j,it,[X],fe,D))[X.route.id];if(it.signal.aborted){Ge.get(D)===Ue&&Ge.delete(D);return}if(Y.has(D)){if(qs(tt)||zn(tt)){wn(D,Zi(void 0));return}}else{if(qs(tt))if(Ge.delete(D),Qe>Rt){wn(D,Zi(void 0));return}else return Ie.add(D),wn(D,Ja(Ee)),Wt(it,tt,!1,{fetcherSubmission:Ee,preventScrollReset:pe});if(zn(tt)){lt(D,M,tt.error);return}}let st=j.navigation.location||j.location,ir=Ho(n.history,st,Ue.signal),sr=c||l,rn=j.navigation.state!=="idle"?es(sr,j.navigation.location,h):j.matches;$e(rn,"Didn't find any matches after fetcher action");let Kt=++Ct;oe.set(D,Kt);let Xr=Ja(Ee,tt.data);j.fetchers.set(D,Xr);let[xr,or]=Zg(n.history,j,rn,Ee,st,!1,P,dt,Y,de,Ie,sr,h,[X.route.id,tt]);or.filter(mt=>mt.key!==D).forEach(mt=>{let In=mt.key,sn=j.fetchers.get(In),uo=Ja(void 0,sn?sn.data:void 0);j.fetchers.set(In,uo),qt(In),mt.controller&&Ge.set(In,mt.controller)}),Fe({fetchers:new Map(j.fetchers)});let ot=()=>or.forEach(mt=>qt(mt.key));Ue.signal.addEventListener("abort",ot);let{loaderResults:Jr,fetcherResults:Ye}=await Gr(j,rn,xr,or,ir);if(Ue.signal.aborted)return;Ue.signal.removeEventListener("abort",ot),oe.delete(D),Ge.delete(D),or.forEach(mt=>Ge.delete(mt.key));let pt=Wu(Jr);if(pt)return Wt(ir,pt.result,!1,{preventScrollReset:pe});if(pt=Wu(Ye),pt)return Ie.add(pt.key),Wt(ir,pt.result,!1,{preventScrollReset:pe});let{loaderData:Gt,errors:ar}=iy(j,rn,Jr,void 0,or,Ye);if(j.fetchers.has(D)){let mt=Zi(tt.data);j.fetchers.set(D,mt)}Ai(Kt),j.navigation.state==="loading"&&Kt>Qe?($e(ce,"Expected pending action"),S&&S.abort(),ft(j.navigation.location,{matches:rn,loaderData:Gt,errors:ar,fetchers:new Map(j.fetchers)})):(Fe({errors:ar,loaderData:sy(j.loaderData,Gt,rn,ar),fetchers:new Map(j.fetchers)}),P=!1)}async function er(D,M,G,X,fe,_e,Ce,pe,Ee){let ae=j.fetchers.get(D);wn(D,Ja(Ee,ae?ae.data:void 0),{flushSync:Ce});let xe=new AbortController,Ue=Ho(n.history,G,xe.signal);if(_e){let tt=await mn(fe,G,Ue.signal);if(tt.type==="aborted")return;if(tt.type==="error"){lt(D,M,tt.error,{flushSync:Ce});return}else if(tt.matches)fe=tt.matches,X=el(fe,G);else{lt(D,M,Xn(404,{pathname:G}),{flushSync:Ce});return}}Ge.set(D,xe);let it=Ct,We=(await tr("loader",j,Ue,[X],fe,D))[X.route.id];if(Ge.get(D)===xe&&Ge.delete(D),!Ue.signal.aborted){if(Y.has(D)){wn(D,Zi(void 0));return}if(qs(We))if(Qe>it){wn(D,Zi(void 0));return}else{Ie.add(D),await Wt(Ue,We,!1,{preventScrollReset:pe});return}if(zn(We)){lt(D,M,We.error);return}wn(D,Zi(We.data))}}async function Wt(D,M,G,{submission:X,fetcherSubmission:fe,preventScrollReset:_e,replace:Ce}={}){M.response.headers.has("X-Remix-Revalidate")&&(P=!0);let pe=M.response.headers.get("Location");$e(pe,"Expected a Location header on the redirect Response"),pe=ny(pe,new URL(D.url),h);let Ee=hl(j.location,pe,{_isRedirect:!0});if(t){let We=!1;if(M.response.headers.has("X-Remix-Reload-Document"))We=!0;else if(Af.test(pe)){const tt=n.history.createURL(pe);We=tt.origin!==e.location.origin||Tr(tt.pathname,h)==null}if(We){Ce?e.location.replace(pe):e.location.assign(pe);return}}S=null;let ae=Ce===!0||M.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:xe,formAction:Ue,formEncType:it}=j.navigation;!X&&!fe&&xe&&Ue&&it&&(X=uy(j.navigation));let Rt=X||fe;if(aI.has(M.response.status)&&Rt&&vr(Rt.formMethod))await nn(ae,Ee,{submission:{...Rt,formAction:pe},preventScrollReset:_e||k,enableViewTransition:G?R:void 0});else{let We=Mh(Ee,X);await nn(ae,Ee,{overrideNavigation:We,fetcherSubmission:fe,preventScrollReset:_e||k,enableViewTransition:G?R:void 0})}}async function tr(D,M,G,X,fe,_e){let Ce,pe={};try{Ce=await gI(p,D,M,G,X,fe,_e,o,i)}catch(Ee){return X.forEach(ae=>{pe[ae.route.id]={type:"error",error:Ee}}),pe}for(let[Ee,ae]of Object.entries(Ce))if(TI(ae)){let xe=ae.result;pe[Ee]={type:"redirect",response:vI(xe,G,Ee,fe,h)}}else pe[Ee]=await _I(ae);return pe}async function Gr(D,M,G,X,fe){let _e=tr("loader",D,fe,G,M,null),Ce=Promise.all(X.map(async ae=>{if(ae.matches&&ae.match&&ae.controller){let Ue=(await tr("loader",D,Ho(n.history,ae.path,ae.controller.signal),[ae.match],ae.matches,ae.key))[ae.match.route.id];return{[ae.key]:Ue}}else return Promise.resolve({[ae.key]:{type:"error",error:Xn(404,{pathname:ae.path})}})})),pe=await _e,Ee=(await Ce).reduce((ae,xe)=>Object.assign(ae,xe),{});return{loaderResults:pe,fetcherResults:Ee}}function Ar(){P=!0,de.forEach((D,M)=>{Ge.has(M)&&dt.add(M),qt(M)})}function wn(D,M,G={}){j.fetchers.set(D,M),Fe({fetchers:new Map(j.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function lt(D,M,G,X={}){let fe=Ws(j.matches,M);Ln(D),Fe({errors:{[fe.route.id]:G},fetchers:new Map(j.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function St(D){return b.set(D,(b.get(D)||0)+1),Y.has(D)&&Y.delete(D),j.fetchers.get(D)||lI}function Ln(D){let M=j.fetchers.get(D);Ge.has(D)&&!(M&&M.state==="loading"&&oe.has(D))&&qt(D),de.delete(D),oe.delete(D),Ie.delete(D),Y.delete(D),dt.delete(D),j.fetchers.delete(D)}function Is(D){let M=(b.get(D)||0)-1;M<=0?(b.delete(D),Y.add(D)):b.set(D,M),Fe({fetchers:new Map(j.fetchers)})}function qt(D){let M=Ge.get(D);M&&(M.abort(),Ge.delete(D))}function Cr(D){for(let M of D){let G=St(M),X=Zi(G.data);j.fetchers.set(M,X)}}function Pr(){let D=[],M=!1;for(let G of Ie){let X=j.fetchers.get(G);$e(X,`Expected fetcher: ${G}`),X.state==="loading"&&(Ie.delete(G),D.push(G),M=!0)}return Cr(D),M}function Ai(D){let M=[];for(let[G,X]of oe)if(X<D){let fe=j.fetchers.get(G);$e(fe,`Expected fetcher: ${G}`),fe.state==="loading"&&(qt(G),oe.delete(G),M.push(G))}return Cr(M),M.length>0}function Ss(D,M){let G=j.blockers.get(D)||Xa;return we.get(D)!==M&&we.set(D,M),G}function Ci(D){j.blockers.delete(D),we.delete(D)}function kr(D,M){let G=j.blockers.get(D)||Xa;$e(G.state==="unblocked"&&M.state==="blocked"||G.state==="blocked"&&M.state==="blocked"||G.state==="blocked"&&M.state==="proceeding"||G.state==="blocked"&&M.state==="unblocked"||G.state==="proceeding"&&M.state==="unblocked",`Invalid blocker state transition: ${G.state} -> ${M.state}`);let X=new Map(j.blockers);X.set(D,M),Fe({blockers:X})}function Pi({currentLocation:D,nextLocation:M,historyAction:G}){if(we.size===0)return;we.size>1&&Ht(!1,"A router only supports one blocker at a time");let X=Array.from(we.entries()),[fe,_e]=X[X.length-1],Ce=j.blockers.get(fe);if(!(Ce&&Ce.state==="proceeding")&&_e({currentLocation:D,nextLocation:M,historyAction:G}))return fe}function nr(D){let M=Xn(404,{pathname:D}),G=c||l,{matches:X,route:fe}=ay(G);return{notFoundMatches:X,route:fe,error:M}}function ki(D,M,G){if(C=D,$=M,V=G||null,!U&&j.navigation===bh){U=!0;let X=On(j.location,j.matches);X!=null&&Fe({restoreScrollPosition:X})}return()=>{C=null,$=null,V=null}}function Qr(D,M){return V&&V(D,M.map(X=>UT(X,j.loaderData)))||D.key}function Tn(D,M){if(C&&$){let G=Qr(D,M);C[G]=$()}}function On(D,M){if(C){let G=Qr(D,M),X=C[G];if(typeof X=="number")return X}return null}function rr(D,M,G){if(y)if(D){if(Object.keys(D[0].params).length>0)return{active:!0,matches:Zu(M,G,h,!0)}}else return{active:!0,matches:Zu(M,G,h,!0)||[]};return{active:!1,matches:null}}async function mn(D,M,G){if(!y)return{type:"success",matches:D};let X=D;for(;;){let fe=c==null,_e=c||l,Ce=o;try{await y({path:M,matches:X,patch:(ae,xe)=>{G.aborted||ty(ae,xe,_e,Ce,i)}})}catch(ae){return{type:"error",error:ae,partialMatches:X}}finally{fe&&!G.aborted&&(l=[...l])}if(G.aborted)return{type:"aborted"};let pe=es(_e,M,h);if(pe)return{type:"success",matches:pe};let Ee=Zu(_e,M,h,!0);if(!Ee||X.length===Ee.length&&X.every((ae,xe)=>ae.route.id===Ee[xe].route.id))return{type:"success",matches:null};X=Ee}}function Rs(D){o={},c=hc(D,i,void 0,o)}function Yr(D,M){let G=c==null;ty(D,M,c||l,o,i),G&&(l=[...l],Fe({}))}return he={get basename(){return h},get future(){return v},get state(){return j},get routes(){return l},get window(){return e},initialize:ze,subscribe:et,enableScrollRestoration:ki,navigate:Bn,fetch:lo,revalidate:Ti,createHref:D=>n.history.createHref(D),encodeLocation:D=>n.history.encodeLocation(D),getFetcher:St,deleteFetcher:Is,dispose:Ze,getBlocker:Ss,deleteBlocker:Ci,patchRoutes:Yr,_internalFetchControllers:Ge,_internalSetRoutes:Rs},he}function dI(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Xh(n,e,t,i,o,l){let c,h;if(o){c=[];for(let y of e)if(c.push(y),y.route.id===o){h=y;break}}else c=e,h=e[e.length-1];let p=bc(i||".",Vc(c),Tr(n.pathname,t)||n.pathname,l==="path");if(i==null&&(p.search=n.search,p.hash=n.hash),(i==null||i===""||i===".")&&h){let y=Cf(p.search);if(h.route.index&&!y)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&y){let v=new URLSearchParams(p.search),T=v.getAll("index");v.delete("index"),T.filter(C=>C).forEach(C=>v.append("index",C));let I=v.toString();p.search=I?`?${I}`:""}}return t!=="/"&&(p.pathname=p.pathname==="/"?t:jr([t,p.pathname])),ds(p)}function Xg(n,e,t){if(!t||!dI(t))return{path:e};if(t.formMethod&&!II(t.formMethod))return{path:e,error:Xn(405,{method:t.formMethod})};let i=()=>({path:e,error:Xn(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),c=H_(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!vr(l))return i();let T=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((I,[C,V])=>`${I}${C}=${V}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:T}}}else if(t.formEncType==="application/json"){if(!vr(l))return i();try{let T=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:T,text:void 0}}}catch{return i()}}}$e(typeof FormData=="function","FormData is not available in this environment");let h,p;if(t.formData)h=Zh(t.formData),p=t.formData;else if(t.body instanceof FormData)h=Zh(t.body),p=t.body;else if(t.body instanceof URLSearchParams)h=t.body,p=ry(h);else if(t.body==null)h=new URLSearchParams,p=new FormData;else try{h=new URLSearchParams(t.body),p=ry(h)}catch{return i()}let y={formMethod:l,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(vr(y.formMethod))return{path:e,submission:y};let v=_s(e);return n&&v.search&&Cf(v.search)&&h.append("index",""),v.search=`?${h}`,{path:ds(v),submission:y}}function Jg(n,e,t=!1){let i=n.findIndex(o=>o.route.id===e);return i>=0?n.slice(0,t?i+1:i):n}function Zg(n,e,t,i,o,l,c,h,p,y,v,T,I,C){let V=C?zn(C[1])?C[1].error:C[1].data:void 0,$=n.createURL(e.location),U=n.createURL(o),H=t;l&&e.errors?H=Jg(t,Object.keys(e.errors)[0],!0):C&&zn(C[1])&&(H=Jg(t,C[0]));let ie=C?C[1].statusCode:void 0,ne=ie&&ie>=400,he=H.filter((ce,k)=>{let{route:S}=ce;if(S.lazy)return!0;if(S.loader==null)return!1;if(l)return Jh(S,e.loaderData,e.errors);if(hI(e.loaderData,e.matches[k],ce))return!0;let R=e.matches[k],x=ce;return ey(ce,{currentUrl:$,currentParams:R.params,nextUrl:U,nextParams:x.params,...i,actionResult:V,actionStatus:ie,defaultShouldRevalidate:ne?!1:c||$.pathname+$.search===U.pathname+U.search||$.search!==U.search||fI(R,x)})}),j=[];return y.forEach((ce,k)=>{if(l||!t.some(F=>F.route.id===ce.routeId)||p.has(k))return;let S=es(T,ce.path,I);if(!S){j.push({key:k,routeId:ce.routeId,path:ce.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(k),x=el(S,ce.path),L=!1;v.has(k)?L=!1:h.has(k)?(h.delete(k),L=!0):R&&R.state!=="idle"&&R.data===void 0?L=c:L=ey(x,{currentUrl:$,currentParams:e.matches[e.matches.length-1].params,nextUrl:U,nextParams:t[t.length-1].params,...i,actionResult:V,actionStatus:ie,defaultShouldRevalidate:ne?!1:c}),L&&j.push({key:k,routeId:ce.routeId,path:ce.path,matches:S,match:x,controller:new AbortController})}),[he,j]}function Jh(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&e[n.id]!==void 0,o=t!=null&&t[n.id]!==void 0;return!i&&o?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!o}function hI(n,e,t){let i=!e||t.route.id!==e.route.id,o=!n.hasOwnProperty(t.route.id);return i||o}function fI(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function ey(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function ty(n,e,t,i,o){let l;if(n){let p=i[n];$e(p,`No route found to patch children into: routeId = ${n}`),p.children||(p.children=[]),l=p.children}else l=t;let c=e.filter(p=>!l.some(y=>$_(p,y))),h=hc(c,o,[n||"_","patch",String((l==null?void 0:l.length)||"0")],i);l.push(...h)}function $_(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var o;return(o=e.children)==null?void 0:o.some(l=>$_(t,l))}):!1}async function pI(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let o=t[n.id];$e(o,"No route found in manifest");let l={};for(let c in i){let p=o[c]!==void 0&&c!=="hasErrorBoundary";Ht(!p,`Route "${o.id}" has a static property "${c}" defined but its lazy function is also returning a value for this property. The lazy route property "${c}" will be ignored.`),!p&&!MT.has(c)&&(l[c]=i[c])}Object.assign(o,l),Object.assign(o,{...e(o),lazy:void 0})}async function mI({matches:n}){let e=n.filter(i=>i.shouldLoad);return(await Promise.all(e.map(i=>i.resolve()))).reduce((i,o,l)=>Object.assign(i,{[e[l].route.id]:o}),{})}async function gI(n,e,t,i,o,l,c,h,p,y){let v=l.map(C=>C.route.lazy?pI(C.route,p,h):void 0),T=l.map((C,V)=>{let $=v[V],U=o.some(ie=>ie.route.id===C.route.id);return{...C,shouldLoad:U,resolve:async ie=>(ie&&i.method==="GET"&&(C.route.lazy||C.route.loader)&&(U=!0),U?yI(e,i,C,$,ie,y):Promise.resolve({type:"data",result:void 0}))}}),I=await n({matches:T,request:i,params:l[0].params,fetcherKey:c,context:y});try{await Promise.all(v)}catch{}return I}async function yI(n,e,t,i,o,l){let c,h,p=y=>{let v,T=new Promise((V,$)=>v=$);h=()=>v(),e.signal.addEventListener("abort",h);let I=V=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):y({request:e,params:t.params,context:l},...V!==void 0?[V]:[]),C=(async()=>{try{return{type:"data",result:await(o?o($=>I($)):I())}}catch(V){return{type:"error",result:V}}})();return Promise.race([C,T])};try{let y=t.route[n];if(i)if(y){let v,[T]=await Promise.all([p(y).catch(I=>{v=I}),i]);if(v!==void 0)throw v;c=T}else if(await i,y=t.route[n],y)c=await p(y);else if(n==="action"){let v=new URL(e.url),T=v.pathname+v.search;throw Xn(405,{method:e.method,pathname:T,routeId:t.route.id})}else return{type:"data",result:void 0};else if(y)c=await p(y);else{let v=new URL(e.url),T=v.pathname+v.search;throw Xn(404,{pathname:T})}}catch(y){return{type:"error",result:y}}finally{h&&e.signal.removeEventListener("abort",h)}return c}async function _I(n){var i,o,l,c;let{result:e,type:t}=n;if(W_(e)){let h;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(p){return{type:"error",error:p}}return t==="error"?{type:"error",error:new pc(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:"data",data:h,statusCode:e.status,headers:e.headers}}if(t==="error"){if(ly(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status};e=new pc(((o=e.init)==null?void 0:o.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:Mc(e)?e.status:void 0}}return ly(e)?{type:"data",data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function vI(n,e,t,i,o){let l=n.headers.get("Location");if($e(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Af.test(l)){let c=i.slice(0,i.findIndex(h=>h.route.id===t)+1);l=Xh(new URL(e.url),c,o,l),n.headers.set("Location",l)}return n}function ny(n,e,t){if(Af.test(n)){let i=n,o=i.startsWith("//")?new URL(e.protocol+i):new URL(i),l=Tr(o.pathname,t)!=null;if(o.origin===e.origin&&l)return o.pathname+o.search+o.hash}return n}function Ho(n,e,t,i){let o=n.createURL(H_(e)).toString(),l={signal:t};if(i&&vr(i.formMethod)){let{formMethod:c,formEncType:h}=i;l.method=c.toUpperCase(),h==="application/json"?(l.headers=new Headers({"Content-Type":h}),l.body=JSON.stringify(i.json)):h==="text/plain"?l.body=i.text:h==="application/x-www-form-urlencoded"&&i.formData?l.body=Zh(i.formData):l.body=i.formData}return new Request(o,l)}function Zh(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function ry(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function EI(n,e,t,i=!1,o=!1){let l={},c=null,h,p=!1,y={},v=t&&zn(t[1])?t[1].error:void 0;return n.forEach(T=>{if(!(T.route.id in e))return;let I=T.route.id,C=e[I];if($e(!qs(C),"Cannot handle redirect results in processLoaderData"),zn(C)){let V=C.error;if(v!==void 0&&(V=v,v=void 0),c=c||{},o)c[I]=V;else{let $=Ws(n,I);c[$.route.id]==null&&(c[$.route.id]=V)}i||(l[I]=B_),p||(p=!0,h=Mc(C.error)?C.error.status:500),C.headers&&(y[I]=C.headers)}else l[I]=C.data,C.statusCode&&C.statusCode!==200&&!p&&(h=C.statusCode),C.headers&&(y[I]=C.headers)}),v!==void 0&&t&&(c={[t[0]]:v},l[t[0]]=void 0),{loaderData:l,errors:c,statusCode:h||200,loaderHeaders:y}}function iy(n,e,t,i,o,l){let{loaderData:c,errors:h}=EI(e,t,i);return o.forEach(p=>{let{key:y,match:v,controller:T}=p,I=l[y];if($e(I,"Did not find corresponding fetcher result"),!(T&&T.signal.aborted))if(zn(I)){let C=Ws(n.matches,v==null?void 0:v.route.id);h&&h[C.route.id]||(h={...h,[C.route.id]:I.error}),n.fetchers.delete(y)}else if(qs(I))$e(!1,"Unhandled fetcher revalidation redirect");else{let C=Zi(I.data);n.fetchers.set(y,C)}}),{loaderData:c,errors:h}}function sy(n,e,t,i){let o=Object.entries(e).filter(([,l])=>l!==B_).reduce((l,[c,h])=>(l[c]=h,l),{});for(let l of t){let c=l.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&l.route.loader&&(o[c]=n[c]),i&&i.hasOwnProperty(c))break}return o}function oy(n){return n?zn(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Ws(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function ay(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Xn(n,{pathname:e,routeId:t,method:i,type:o,message:l}={}){let c="Unknown Server Error",h="Unknown @remix-run/router error";return n===400?(c="Bad Request",i&&e&&t?h=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(h="Unable to encode submission body")):n===403?(c="Forbidden",h=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",h=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",i&&e&&t?h=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(h=`Invalid request method "${i.toUpperCase()}"`)),new pc(n||500,c,new Error(h),!0)}function Wu(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,o]=e[t];if(qs(o))return{key:i,result:o}}}function H_(n){let e=typeof n=="string"?_s(n):n;return ds({...e,hash:""})}function wI(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function TI(n){return W_(n.result)&&oI.has(n.result.status)}function zn(n){return n.type==="error"}function qs(n){return(n&&n.type)==="redirect"}function ly(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function W_(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function II(n){return sI.has(n.toUpperCase())}function vr(n){return rI.has(n.toUpperCase())}function Cf(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function el(n,e){let t=typeof e=="string"?_s(e).search:e.search;if(n[n.length-1].route.index&&Cf(t||""))return n[n.length-1];let i=U_(n);return i[i.length-1]}function uy(n){let{formMethod:e,formAction:t,formEncType:i,text:o,formData:l,json:c}=n;if(!(!e||!t||!i)){if(o!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:e,formAction:t,formEncType:i,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:c,text:void 0}}}function Mh(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function SI(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ja(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function RI(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Zi(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function AI(n,e){try{let t=n.sessionStorage.getItem(z_);if(t){let i=JSON.parse(t);for(let[o,l]of Object.entries(i||{}))l&&Array.isArray(l)&&e.set(o,new Set(l||[]))}}catch{}}function CI(n,e){if(e.size>0){let t={};for(let[i,o]of e)t[i]=[...o];try{n.sessionStorage.setItem(z_,JSON.stringify(t))}catch(i){Ht(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function PI(){let n,e,t=new Promise((i,o)=>{n=async l=>{i(l);try{await t}catch{}},e=async l=>{o(l);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var no=q.createContext(null);no.displayName="DataRouter";var Sl=q.createContext(null);Sl.displayName="DataRouterState";var Pf=q.createContext({isTransitioning:!1});Pf.displayName="ViewTransition";var q_=q.createContext(new Map);q_.displayName="Fetchers";var kI=q.createContext(null);kI.displayName="Await";var Rr=q.createContext(null);Rr.displayName="Navigation";var Fc=q.createContext(null);Fc.displayName="Location";var qr=q.createContext({outlet:null,matches:[],isDataRoute:!1});qr.displayName="Route";var kf=q.createContext(null);kf.displayName="RouteError";function xI(n,{relative:e}={}){$e(ua(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=q.useContext(Rr),{hash:o,pathname:l,search:c}=Rl(n,{relative:e}),h=l;return t!=="/"&&(h=l==="/"?t:jr([t,l])),i.createHref({pathname:h,search:c,hash:o})}function ua(){return q.useContext(Fc)!=null}function vs(){return $e(ua(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Fc).location}var K_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function G_(n){q.useContext(Rr).static||q.useLayoutEffect(n)}function xf(){let{isDataRoute:n}=q.useContext(qr);return n?$I():NI()}function NI(){$e(ua(),"useNavigate() may be used only in the context of a <Router> component.");let n=q.useContext(no),{basename:e,navigator:t}=q.useContext(Rr),{matches:i}=q.useContext(qr),{pathname:o}=vs(),l=JSON.stringify(Vc(i)),c=q.useRef(!1);return G_(()=>{c.current=!0}),q.useCallback((p,y={})=>{if(Ht(c.current,K_),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=bc(p,JSON.parse(l),o,y.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:jr([e,v.pathname])),(y.replace?t.replace:t.push)(v,y.state,y)},[e,t,l,o,n])}q.createContext(null);function Rl(n,{relative:e}={}){let{matches:t}=q.useContext(qr),{pathname:i}=vs(),o=JSON.stringify(Vc(t));return q.useMemo(()=>bc(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function DI(n,e,t,i){$e(ua(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=q.useContext(Rr),{matches:l}=q.useContext(qr),c=l[l.length-1],h=c?c.params:{},p=c?c.pathname:"/",y=c?c.pathnameBase:"/",v=c&&c.route;{let H=v&&v.path||"";Q_(p,!v||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let T=vs(),I;I=T;let C=I.pathname||"/",V=C;if(y!=="/"){let H=y.replace(/^\//,"").split("/");V="/"+C.replace(/^\//,"").split("/").slice(H.length).join("/")}let $=es(n,{pathname:V});return Ht(v||$!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Ht($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),MI($&&$.map(H=>Object.assign({},H,{params:Object.assign({},h,H.params),pathname:jr([y,o.encodeLocation?o.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:jr([y,o.encodeLocation?o.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),l,t,i)}function LI(){let n=BI(),e=Mc(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:l},"ErrorBoundary")," or"," ",q.createElement("code",{style:l},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),t?q.createElement("pre",{style:o},t):null,c)}var OI=q.createElement(LI,null),VI=class extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?q.createElement(qr.Provider,{value:this.props.routeContext},q.createElement(kf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bI({routeContext:n,match:e,children:t}){let i=q.useContext(no);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(qr.Provider,{value:n},t)}function MI(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);$e(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,h=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=p),y.route.id){let{loaderData:v,errors:T}=t,I=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||I){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,y,v)=>{let T,I=!1,C=null,V=null;t&&(T=l&&y.route.id?l[y.route.id]:void 0,C=y.route.errorElement||OI,c&&(h<0&&v===0?(Q_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,V=null):h===v&&(I=!0,V=y.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,v+1)),U=()=>{let H;return T?H=C:I?H=V:y.route.Component?H=q.createElement(y.route.Component,null):y.route.element?H=y.route.element:H=p,q.createElement(bI,{match:y,routeContext:{outlet:p,matches:$,isDataRoute:t!=null},children:H})};return t&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?q.createElement(VI,{location:t.location,revalidation:t.revalidation,component:C,error:T,children:U(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):U()},null)}function Nf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FI(n){let e=q.useContext(no);return $e(e,Nf(n)),e}function UI(n){let e=q.useContext(Sl);return $e(e,Nf(n)),e}function jI(n){let e=q.useContext(qr);return $e(e,Nf(n)),e}function Df(n){let e=jI(n),t=e.matches[e.matches.length-1];return $e(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function zI(){return Df("useRouteId")}function BI(){var i;let n=q.useContext(kf),e=UI("useRouteError"),t=Df("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function $I(){let{router:n}=FI("useNavigate"),e=Df("useNavigate"),t=q.useRef(!1);return G_(()=>{t.current=!0}),q.useCallback(async(o,l={})=>{Ht(t.current,K_),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var cy={};function Q_(n,e,t){!e&&!cy[n]&&(cy[n]=!0,Ht(!1,t))}var dy={};function hy(n,e){!n&&!dy[e]&&(dy[e]=!0,console.warn(e))}function HI(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Ht(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:q.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Ht(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:q.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Ht(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:q.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var WI=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function qI({router:n,flushSync:e}){let[t,i]=q.useState(n.state),[o,l]=q.useState(),[c,h]=q.useState({isTransitioning:!1}),[p,y]=q.useState(),[v,T]=q.useState(),[I,C]=q.useState(),V=q.useRef(new Map),$=q.useCallback((ne,{deletedFetchers:he,flushSync:j,viewTransitionOpts:ce})=>{he.forEach(S=>V.current.delete(S)),ne.fetchers.forEach((S,R)=>{S.data!==void 0&&V.current.set(R,S.data)}),hy(j===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let k=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(hy(ce==null||k,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ce||!k){e&&j?e(()=>i(ne)):q.startTransition(()=>i(ne));return}if(e&&j){e(()=>{v&&(p&&p.resolve(),v.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})});let S=n.window.document.startViewTransition(()=>{e(()=>i(ne))});S.finished.finally(()=>{e(()=>{y(void 0),T(void 0),l(void 0),h({isTransitioning:!1})})}),e(()=>T(S));return}v?(p&&p.resolve(),v.skipTransition(),C({state:ne,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})):(l(ne),h({isTransitioning:!0,flushSync:!1,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation}))},[n.window,e,v,p]);q.useLayoutEffect(()=>n.subscribe($),[n,$]),q.useEffect(()=>{c.isTransitioning&&!c.flushSync&&y(new WI)},[c]),q.useEffect(()=>{if(p&&o&&n.window){let ne=o,he=p.promise,j=n.window.document.startViewTransition(async()=>{q.startTransition(()=>i(ne)),await he});j.finished.finally(()=>{y(void 0),T(void 0),l(void 0),h({isTransitioning:!1})}),T(j)}},[o,p,n.window]),q.useEffect(()=>{p&&o&&t.location.key===o.location.key&&p.resolve()},[p,v,t.location,o]),q.useEffect(()=>{!c.isTransitioning&&I&&(l(I.state),h({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}),C(void 0))},[c.isTransitioning,I]);let U=q.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:ne=>n.navigate(ne),push:(ne,he,j)=>n.navigate(ne,{state:he,preventScrollReset:j==null?void 0:j.preventScrollReset}),replace:(ne,he,j)=>n.navigate(ne,{replace:!0,state:he,preventScrollReset:j==null?void 0:j.preventScrollReset})}),[n]),H=n.basename||"/",ie=q.useMemo(()=>({router:n,navigator:U,static:!1,basename:H}),[n,U,H]);return q.createElement(q.Fragment,null,q.createElement(no.Provider,{value:ie},q.createElement(Sl.Provider,{value:t},q.createElement(q_.Provider,{value:V.current},q.createElement(Pf.Provider,{value:c},q.createElement(YI,{basename:H,location:t.location,navigationType:t.historyAction,navigator:U},q.createElement(KI,{routes:n.routes,future:n.future,state:t})))))),null)}var KI=q.memo(GI);function GI({routes:n,future:e,state:t}){return DI(n,void 0,t,e)}function QI({to:n,replace:e,state:t,relative:i}){$e(ua(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=q.useContext(Rr);Ht(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=q.useContext(qr),{pathname:c}=vs(),h=xf(),p=bc(n,Vc(l),c,i==="path"),y=JSON.stringify(p);return q.useEffect(()=>{h(JSON.parse(y),{replace:e,state:t,relative:i})},[h,y,i,e,t]),null}function YI({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){$e(!ua(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=q.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof t=="string"&&(t=_s(t));let{pathname:p="/",search:y="",hash:v="",state:T=null,key:I="default"}=t,C=q.useMemo(()=>{let V=Tr(p,c);return V==null?null:{location:{pathname:V,search:y,hash:v,state:T,key:I},navigationType:i}},[c,p,y,v,T,I,i]);return Ht(C!=null,`<Router basename="${c}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:q.createElement(Rr.Provider,{value:h},q.createElement(Fc.Provider,{children:e,value:C}))}var ec="get",tc="application/x-www-form-urlencoded";function Uc(n){return n!=null&&typeof n.tagName=="string"}function XI(n){return Uc(n)&&n.tagName.toLowerCase()==="button"}function JI(n){return Uc(n)&&n.tagName.toLowerCase()==="form"}function ZI(n){return Uc(n)&&n.tagName.toLowerCase()==="input"}function eS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function tS(n,e){return n.button===0&&(!e||e==="_self")&&!eS(n)}var qu=null;function nS(){if(qu===null)try{new FormData(document.createElement("form"),0),qu=!1}catch{qu=!0}return qu}var rS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fh(n){return n!=null&&!rS.has(n)?(Ht(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tc}"`),null):n}function iS(n,e){let t,i,o,l,c;if(JI(n)){let h=n.getAttribute("action");i=h?Tr(h,e):null,t=n.getAttribute("method")||ec,o=Fh(n.getAttribute("enctype"))||tc,l=new FormData(n)}else if(XI(n)||ZI(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||h.getAttribute("action");if(i=p?Tr(p,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||ec,o=Fh(n.getAttribute("formenctype"))||Fh(h.getAttribute("enctype"))||tc,l=new FormData(h,n),!nS()){let{name:y,type:v,value:T}=n;if(v==="image"){let I=y?`${y}.`:"";l.append(`${I}x`,"0"),l.append(`${I}y`,"0")}else y&&l.append(y,T)}}else{if(Uc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ec,i=null,o=tc,c=n}return l&&o==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:c}}function Lf(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function sS(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oS(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function aS(n,e,t){let i=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await sS(l,t);return c.links?c.links():[]}return[]}));return dS(i.flat(1).filter(oS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function fy(n,e,t,i,o,l){let c=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,h=(p,y)=>{var v;return t[y].pathname!==p.pathname||((v=t[y].route.path)==null?void 0:v.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,y)=>c(p,y)||h(p,y)):l==="data"?e.filter((p,y)=>{var T;let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,y)||h(p,y))return!0;if(p.route.shouldRevalidate){let I=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function lS(n,e){return uS(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function uS(n){return[...new Set(n)]}function cS(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function dS(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let l=JSON.stringify(cS(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function hS(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function fS(){let n=q.useContext(no);return Lf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function pS(){let n=q.useContext(Sl);return Lf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Of=q.createContext(void 0);Of.displayName="FrameworkContext";function Y_(){let n=q.useContext(Of);return Lf(n,"You must render this element inside a <HydratedRouter> element"),n}function mS(n,e){let t=q.useContext(Of),[i,o]=q.useState(!1),[l,c]=q.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:y,onMouseLeave:v,onTouchStart:T}=e,I=q.useRef(null);q.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let $=H=>{H.forEach(ie=>{c(ie.isIntersecting)})},U=new IntersectionObserver($,{threshold:.5});return I.current&&U.observe(I.current),()=>{U.disconnect()}}},[n]),q.useEffect(()=>{if(i){let $=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout($)}}},[i]);let C=()=>{o(!0)},V=()=>{o(!1),c(!1)};return t?n!=="intent"?[l,I,{}]:[l,I,{onFocus:Za(h,C),onBlur:Za(p,V),onMouseEnter:Za(y,C),onMouseLeave:Za(v,V),onTouchStart:Za(T,C)}]:[!1,I,{}]}function Za(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function gS({page:n,...e}){let{router:t}=fS(),i=q.useMemo(()=>es(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?q.createElement(_S,{page:n,matches:i,...e}):null}function yS(n){let{manifest:e,routeModules:t}=Y_(),[i,o]=q.useState([]);return q.useEffect(()=>{let l=!1;return aS(n,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[n,e,t]),i}function _S({page:n,matches:e,...t}){let i=vs(),{manifest:o,routeModules:l}=Y_(),{loaderData:c,matches:h}=pS(),p=q.useMemo(()=>fy(n,e,h,o,i,"data"),[n,e,h,o,i]),y=q.useMemo(()=>fy(n,e,h,o,i,"assets"),[n,e,h,o,i]),v=q.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let C=new Set,V=!1;if(e.forEach(U=>{var ie;let H=o.routes[U.route.id];!H||!H.hasLoader||(!p.some(ne=>ne.route.id===U.route.id)&&U.route.id in c&&((ie=l[U.route.id])!=null&&ie.shouldRevalidate)||H.hasClientLoader?V=!0:C.add(U.route.id))}),C.size===0)return[];let $=hS(n);return V&&C.size>0&&$.searchParams.set("_routes",e.filter(U=>C.has(U.route.id)).map(U=>U.route.id).join(",")),[$.pathname+$.search]},[c,i,o,p,e,n,l]),T=q.useMemo(()=>lS(y,o),[y,o]),I=yS(y);return q.createElement(q.Fragment,null,v.map(C=>q.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),T.map(C=>q.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),I.map(({key:C,link:V})=>q.createElement("link",{key:C,...V})))}function vS(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var X_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{X_&&(window.__reactRouterVersion="7.1.1")}catch{}function ES(n,e){return cI({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:OT({window:e==null?void 0:e.window}),hydrationData:wS(),routes:n,mapRouteProperties:HI,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function wS(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:TS(n.errors)}),n}function TS(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")t[i]=new pc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let c=new l(o.message);c.stack="",t[i]=c}catch{}}if(t[i]==null){let l=new Error(o.message);l.stack="",t[i]=l}}else t[i]=o;return t}var J_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qs=q.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:c,state:h,target:p,to:y,preventScrollReset:v,viewTransition:T,...I},C){let{basename:V}=q.useContext(Rr),$=typeof y=="string"&&J_.test(y),U,H=!1;if(typeof y=="string"&&$&&(U=y,X_))try{let R=new URL(window.location.href),x=y.startsWith("//")?new URL(R.protocol+y):new URL(y),L=Tr(x.pathname,V);x.origin===R.origin&&L!=null?y=L+x.search+x.hash:H=!0}catch{Ht(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=xI(y,{relative:o}),[ne,he,j]=mS(i,I),ce=AS(y,{replace:c,state:h,target:p,preventScrollReset:v,relative:o,viewTransition:T});function k(R){e&&e(R),R.defaultPrevented||ce(R)}let S=q.createElement("a",{...I,...j,href:U||ie,onClick:H||l?e:k,ref:vS(C,he),target:p,"data-discover":!$&&t==="render"?"true":void 0});return ne&&!$?q.createElement(q.Fragment,null,S,q.createElement(gS,{page:ie})):S});Qs.displayName="Link";var IS=q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:h,children:p,...y},v){let T=Rl(c,{relative:y.relative}),I=vs(),C=q.useContext(Sl),{navigator:V,basename:$}=q.useContext(Rr),U=C!=null&&NS(T)&&h===!0,H=V.encodeLocation?V.encodeLocation(T).pathname:T.pathname,ie=I.pathname,ne=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(ie=ie.toLowerCase(),ne=ne?ne.toLowerCase():null,H=H.toLowerCase()),ne&&$&&(ne=Tr(ne,$)||ne);const he=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let j=ie===H||!o&&ie.startsWith(H)&&ie.charAt(he)==="/",ce=ne!=null&&(ne===H||!o&&ne.startsWith(H)&&ne.charAt(H.length)==="/"),k={isActive:j,isPending:ce,isTransitioning:U},S=j?e:void 0,R;typeof i=="function"?R=i(k):R=[i,j?"active":null,ce?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let x=typeof l=="function"?l(k):l;return q.createElement(Qs,{...y,"aria-current":S,className:R,ref:v,style:x,to:c,viewTransition:h},typeof p=="function"?p(k):p)});IS.displayName="NavLink";var SS=q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:c=ec,action:h,onSubmit:p,relative:y,preventScrollReset:v,viewTransition:T,...I},C)=>{let V=kS(),$=xS(h,{relative:y}),U=c.toLowerCase()==="get"?"get":"post",H=typeof h=="string"&&J_.test(h),ie=ne=>{if(p&&p(ne),ne.defaultPrevented)return;ne.preventDefault();let he=ne.nativeEvent.submitter,j=(he==null?void 0:he.getAttribute("formmethod"))||c;V(he||ne.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:o,state:l,relative:y,preventScrollReset:v,viewTransition:T})};return q.createElement("form",{ref:C,method:U,action:$,onSubmit:i?p:ie,...I,"data-discover":!H&&n==="render"?"true":void 0})});SS.displayName="Form";function RS(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z_(n){let e=q.useContext(no);return $e(e,RS(n)),e}function AS(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:c}={}){let h=xf(),p=vs(),y=Rl(n,{relative:l});return q.useCallback(v=>{if(tS(v,e)){v.preventDefault();let T=t!==void 0?t:ds(p)===ds(y);h(n,{replace:T,state:i,preventScrollReset:o,relative:l,viewTransition:c})}},[p,h,y,t,i,e,n,o,l,c])}var CS=0,PS=()=>`__${String(++CS)}__`;function kS(){let{router:n}=Z_("useSubmit"),{basename:e}=q.useContext(Rr),t=zI();return q.useCallback(async(i,o={})=>{let{action:l,method:c,encType:h,formData:p,body:y}=iS(i,e);if(o.navigate===!1){let v=o.fetcherKey||PS();await n.fetch(v,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function xS(n,{relative:e}={}){let{basename:t}=q.useContext(Rr),i=q.useContext(qr);$e(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...Rl(n||".",{relative:e})},c=vs();if(n==null){l.search=c.search;let h=new URLSearchParams(l.search),p=h.getAll("index");if(p.some(v=>v==="")){h.delete("index"),p.filter(T=>T).forEach(T=>h.append("index",T));let v=h.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:jr([t,l.pathname])),ds(l)}function NS(n,e={}){let t=q.useContext(Pf);$e(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Z_("useViewTransitionState"),o=Rl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Tr(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Tr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return fc(o.pathname,c)!=null||fc(o.pathname,l)!=null}new TextEncoder;function Uh({url:n,children:e}){return le.jsx("a",{href:n,rel:"noopener noreferrer",target:"_blank",children:e})}var ev={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},py=Gs.createContext&&Gs.createContext(ev),DS=["attr","size","title"];function LS(n,e){if(n==null)return{};var t=OS(n,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function OS(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function mc(){return mc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},mc.apply(this,arguments)}function my(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function gc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?my(Object(t),!0).forEach(function(i){VS(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):my(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function VS(n,e,t){return e=bS(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bS(n){var e=MS(n,"string");return typeof e=="symbol"?e:e+""}function MS(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function tv(n){return n&&n.map((e,t)=>Gs.createElement(e.tag,gc({key:t},e.attr),tv(e.child)))}function Al(n){return e=>Gs.createElement(FS,mc({attr:gc({},n.attr)},e),tv(n.child))}function FS(n){var e=t=>{var{attr:i,size:o,title:l}=n,c=LS(n,DS),h=o||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),Gs.createElement("svg",mc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:p,style:gc(gc({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),l&&Gs.createElement("title",null,l),n.children)};return py!==void 0?Gs.createElement(py.Consumer,null,t=>e(t)):e(ev)}function US(n){return Al({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(n)}function jS(n){return Al({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function zS(n){return Al({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(n)}var gy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},BS=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],h=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},rv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,h=c?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,v=l>>2,T=(l&3)<<4|h>>4;let I=(h&15)<<2|y>>6,C=y&63;p||(C=64,c||(I=64)),i.push(t[v],t[T],t[I],t[C])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(nv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):BS(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||h==null||y==null||T==null)throw new $S;const I=l<<2|h>>4;if(i.push(I),y!==64){const C=h<<4&240|y>>2;if(i.push(C),T!==64){const V=y<<6&192|T;i.push(V)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class $S extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HS=function(n){const e=nv(n);return rv.encodeByteArray(e,!0)},yc=function(n){return HS(n).replace(/\./g,"")},iv=function(n){try{return rv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=()=>WS().__FIREBASE_DEFAULTS__,KS=()=>{if(typeof process>"u"||typeof gy>"u")return;const n=gy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},GS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&iv(n[1]);return e&&JSON.parse(e)},jc=()=>{try{return qS()||KS()||GS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},sv=n=>{var e,t;return(t=(e=jc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},QS=n=>{const e=sv(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},ov=()=>{var n;return(n=jc())===null||n===void 0?void 0:n.config},av=n=>{var e;return(e=jc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[yc(JSON.stringify(t)),yc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function ZS(){var n;const e=(n=jc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function t0(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function n0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r0(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function i0(){return!ZS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function s0(){try{return typeof indexedDB=="object"}catch{return!1}}function o0(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="FirebaseError";class wi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=a0,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cl.prototype.create)}}class Cl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?l0(l,i):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new wi(o,h,i)}}function l0(n,e){return n.replace(u0,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const u0=/\{\$([^}]+)}/g;function c0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function _c(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(yy(l)&&yy(c)){if(!_c(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function yy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function tl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function nl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function d0(n,e){const t=new h0(n,e);return t.subscribe.bind(t)}class h0{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");f0(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=jh),o.error===void 0&&(o.error=jh),o.complete===void 0&&(o.complete=jh);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f0(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function jh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(n){return n&&n._delegate?n._delegate:n}class Zs{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new YS;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(g0(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:m0(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function m0(n){return n===Hs?void 0:n}function g0(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new p0(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const _0={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},v0=Be.INFO,E0={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},w0=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=E0[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vf{constructor(e){this.name=e,this._logLevel=v0,this._logHandler=w0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const T0=(n,e)=>e.some(t=>n instanceof t);let _y,vy;function I0(){return _y||(_y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function S0(){return vy||(vy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lv=new WeakMap,ef=new WeakMap,uv=new WeakMap,zh=new WeakMap,bf=new WeakMap;function R0(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(os(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&lv.set(t,n)}).catch(()=>{}),bf.set(e,n),e}function A0(n){if(ef.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});ef.set(n,e)}let tf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ef.get(n);if(e==="objectStoreNames")return n.objectStoreNames||uv.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return os(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function C0(n){tf=n(tf)}function P0(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Bh(this),e,...t);return uv.set(i,e.sort?e.sort():[e]),os(i)}:S0().includes(n)?function(...e){return n.apply(Bh(this),e),os(lv.get(this))}:function(...e){return os(n.apply(Bh(this),e))}}function k0(n){return typeof n=="function"?P0(n):(n instanceof IDBTransaction&&A0(n),T0(n,I0())?new Proxy(n,tf):n)}function os(n){if(n instanceof IDBRequest)return R0(n);if(zh.has(n))return zh.get(n);const e=k0(n);return e!==n&&(zh.set(n,e),bf.set(e,n)),e}const Bh=n=>bf.get(n);function x0(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),h=os(c);return i&&c.addEventListener("upgradeneeded",p=>{i(os(c.result),p.oldVersion,p.newVersion,os(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),h}const N0=["get","getKey","getAll","getAllKeys","count"],D0=["put","add","delete","clear"],$h=new Map;function Ey(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if($h.get(e))return $h.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=D0.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||N0.includes(t)))return;const l=async function(c,...h){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(h.shift())),(await Promise.all([y[t](...h),o&&p.done]))[0]};return $h.set(e,l),l}C0(n=>({...n,get:(e,t,i)=>Ey(e,t)||n.get(e,t,i),has:(e,t)=>!!Ey(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(O0(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function O0(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nf="@firebase/app",wy="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new Vf("@firebase/app"),V0="@firebase/app-compat",b0="@firebase/analytics-compat",M0="@firebase/analytics",F0="@firebase/app-check-compat",U0="@firebase/app-check",j0="@firebase/auth",z0="@firebase/auth-compat",B0="@firebase/database",$0="@firebase/data-connect",H0="@firebase/database-compat",W0="@firebase/functions",q0="@firebase/functions-compat",K0="@firebase/installations",G0="@firebase/installations-compat",Q0="@firebase/messaging",Y0="@firebase/messaging-compat",X0="@firebase/performance",J0="@firebase/performance-compat",Z0="@firebase/remote-config",eR="@firebase/remote-config-compat",tR="@firebase/storage",nR="@firebase/storage-compat",rR="@firebase/firestore",iR="@firebase/vertexai",sR="@firebase/firestore-compat",oR="firebase",aR="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="[DEFAULT]",lR={[nf]:"fire-core",[V0]:"fire-core-compat",[M0]:"fire-analytics",[b0]:"fire-analytics-compat",[U0]:"fire-app-check",[F0]:"fire-app-check-compat",[j0]:"fire-auth",[z0]:"fire-auth-compat",[B0]:"fire-rtdb",[$0]:"fire-data-connect",[H0]:"fire-rtdb-compat",[W0]:"fire-fn",[q0]:"fire-fn-compat",[K0]:"fire-iid",[G0]:"fire-iid-compat",[Q0]:"fire-fcm",[Y0]:"fire-fcm-compat",[X0]:"fire-perf",[J0]:"fire-perf-compat",[Z0]:"fire-rc",[eR]:"fire-rc-compat",[tR]:"fire-gcs",[nR]:"fire-gcs-compat",[rR]:"fire-fst",[sR]:"fire-fst-compat",[iR]:"fire-vertex","fire-js":"fire-js",[oR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=new Map,uR=new Map,sf=new Map;function Ty(n,e){try{n.container.addComponent(e)}catch(t){yi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ea(n){const e=n.name;if(sf.has(e))return yi.debug(`There were multiple attempts to register component ${e}.`),!1;sf.set(e,n);for(const t of vc.values())Ty(t,n);for(const t of uR.values())Ty(t,n);return!0}function Mf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function hi(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new Cl("app","Firebase",cR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=aR;function cv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:rf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw as.create("bad-app-name",{appName:String(o)});if(t||(t=ov()),!t)throw as.create("no-options");const l=vc.get(o);if(l){if(_c(t,l.options)&&_c(i,l.config))return l;throw as.create("duplicate-app",{appName:o})}const c=new y0(o);for(const p of sf.values())c.addComponent(p);const h=new dR(t,i,c);return vc.set(o,h),h}function dv(n=rf){const e=vc.get(n);if(!e&&n===rf&&ov())return cv();if(!e)throw as.create("no-app",{appName:n});return e}function ls(n,e,t){var i;let o=(i=lR[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const h=[`Unable to register library "${o}" with version "${e}":`];l&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yi.warn(h.join(" "));return}ea(new Zs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="firebase-heartbeat-database",fR=1,fl="firebase-heartbeat-store";let Hh=null;function hv(){return Hh||(Hh=x0(hR,fR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(fl)}catch(t){console.warn(t)}}}}).catch(n=>{throw as.create("idb-open",{originalErrorMessage:n.message})})),Hh}async function pR(n){try{const t=(await hv()).transaction(fl),i=await t.objectStore(fl).get(fv(n));return await t.done,i}catch(e){if(e instanceof wi)yi.warn(e.message);else{const t=as.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yi.warn(t.message)}}}async function Iy(n,e){try{const i=(await hv()).transaction(fl,"readwrite");await i.objectStore(fl).put(e,fv(n)),await i.done}catch(t){if(t instanceof wi)yi.warn(t.message);else{const i=as.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});yi.warn(i.message)}}}function fv(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=1024,gR=30*24*60*60*1e3;class yR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new vR(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Sy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=gR}),this._storage.overwrite(this._heartbeatsCache))}catch(i){yi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Sy(),{heartbeatsToSend:i,unsentEntries:o}=_R(this._heartbeatsCache.heartbeats),l=yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return yi.warn(t),""}}}function Sy(){return new Date().toISOString().substring(0,10)}function _R(n,e=mR){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),Ry(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Ry(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class vR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s0()?o0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await pR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Iy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Iy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Ry(n){return yc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(n){ea(new Zs("platform-logger",e=>new L0(e),"PRIVATE")),ea(new Zs("heartbeat",e=>new yR(e),"PRIVATE")),ls(nf,wy,n),ls(nf,wy,"esm2017"),ls("fire-js","")}ER("");var wR="firebase",TR="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ls(wR,TR,"app");var Ay=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ys,pv;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,S){function R(){}R.prototype=S.prototype,k.D=S.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(x,L,F){for(var P=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)P[dt-2]=arguments[dt];return S.prototype[L].apply(x,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,S,R){R||(R=0);var x=Array(16);if(typeof S=="string")for(var L=0;16>L;++L)x[L]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(L=0;16>L;++L)x[L]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=k.g[0],R=k.g[1],L=k.g[2];var F=k.g[3],P=S+(F^R&(L^F))+x[0]+3614090360&4294967295;S=R+(P<<7&4294967295|P>>>25),P=F+(L^S&(R^L))+x[1]+3905402710&4294967295,F=S+(P<<12&4294967295|P>>>20),P=L+(R^F&(S^R))+x[2]+606105819&4294967295,L=F+(P<<17&4294967295|P>>>15),P=R+(S^L&(F^S))+x[3]+3250441966&4294967295,R=L+(P<<22&4294967295|P>>>10),P=S+(F^R&(L^F))+x[4]+4118548399&4294967295,S=R+(P<<7&4294967295|P>>>25),P=F+(L^S&(R^L))+x[5]+1200080426&4294967295,F=S+(P<<12&4294967295|P>>>20),P=L+(R^F&(S^R))+x[6]+2821735955&4294967295,L=F+(P<<17&4294967295|P>>>15),P=R+(S^L&(F^S))+x[7]+4249261313&4294967295,R=L+(P<<22&4294967295|P>>>10),P=S+(F^R&(L^F))+x[8]+1770035416&4294967295,S=R+(P<<7&4294967295|P>>>25),P=F+(L^S&(R^L))+x[9]+2336552879&4294967295,F=S+(P<<12&4294967295|P>>>20),P=L+(R^F&(S^R))+x[10]+4294925233&4294967295,L=F+(P<<17&4294967295|P>>>15),P=R+(S^L&(F^S))+x[11]+2304563134&4294967295,R=L+(P<<22&4294967295|P>>>10),P=S+(F^R&(L^F))+x[12]+1804603682&4294967295,S=R+(P<<7&4294967295|P>>>25),P=F+(L^S&(R^L))+x[13]+4254626195&4294967295,F=S+(P<<12&4294967295|P>>>20),P=L+(R^F&(S^R))+x[14]+2792965006&4294967295,L=F+(P<<17&4294967295|P>>>15),P=R+(S^L&(F^S))+x[15]+1236535329&4294967295,R=L+(P<<22&4294967295|P>>>10),P=S+(L^F&(R^L))+x[1]+4129170786&4294967295,S=R+(P<<5&4294967295|P>>>27),P=F+(R^L&(S^R))+x[6]+3225465664&4294967295,F=S+(P<<9&4294967295|P>>>23),P=L+(S^R&(F^S))+x[11]+643717713&4294967295,L=F+(P<<14&4294967295|P>>>18),P=R+(F^S&(L^F))+x[0]+3921069994&4294967295,R=L+(P<<20&4294967295|P>>>12),P=S+(L^F&(R^L))+x[5]+3593408605&4294967295,S=R+(P<<5&4294967295|P>>>27),P=F+(R^L&(S^R))+x[10]+38016083&4294967295,F=S+(P<<9&4294967295|P>>>23),P=L+(S^R&(F^S))+x[15]+3634488961&4294967295,L=F+(P<<14&4294967295|P>>>18),P=R+(F^S&(L^F))+x[4]+3889429448&4294967295,R=L+(P<<20&4294967295|P>>>12),P=S+(L^F&(R^L))+x[9]+568446438&4294967295,S=R+(P<<5&4294967295|P>>>27),P=F+(R^L&(S^R))+x[14]+3275163606&4294967295,F=S+(P<<9&4294967295|P>>>23),P=L+(S^R&(F^S))+x[3]+4107603335&4294967295,L=F+(P<<14&4294967295|P>>>18),P=R+(F^S&(L^F))+x[8]+1163531501&4294967295,R=L+(P<<20&4294967295|P>>>12),P=S+(L^F&(R^L))+x[13]+2850285829&4294967295,S=R+(P<<5&4294967295|P>>>27),P=F+(R^L&(S^R))+x[2]+4243563512&4294967295,F=S+(P<<9&4294967295|P>>>23),P=L+(S^R&(F^S))+x[7]+1735328473&4294967295,L=F+(P<<14&4294967295|P>>>18),P=R+(F^S&(L^F))+x[12]+2368359562&4294967295,R=L+(P<<20&4294967295|P>>>12),P=S+(R^L^F)+x[5]+4294588738&4294967295,S=R+(P<<4&4294967295|P>>>28),P=F+(S^R^L)+x[8]+2272392833&4294967295,F=S+(P<<11&4294967295|P>>>21),P=L+(F^S^R)+x[11]+1839030562&4294967295,L=F+(P<<16&4294967295|P>>>16),P=R+(L^F^S)+x[14]+4259657740&4294967295,R=L+(P<<23&4294967295|P>>>9),P=S+(R^L^F)+x[1]+2763975236&4294967295,S=R+(P<<4&4294967295|P>>>28),P=F+(S^R^L)+x[4]+1272893353&4294967295,F=S+(P<<11&4294967295|P>>>21),P=L+(F^S^R)+x[7]+4139469664&4294967295,L=F+(P<<16&4294967295|P>>>16),P=R+(L^F^S)+x[10]+3200236656&4294967295,R=L+(P<<23&4294967295|P>>>9),P=S+(R^L^F)+x[13]+681279174&4294967295,S=R+(P<<4&4294967295|P>>>28),P=F+(S^R^L)+x[0]+3936430074&4294967295,F=S+(P<<11&4294967295|P>>>21),P=L+(F^S^R)+x[3]+3572445317&4294967295,L=F+(P<<16&4294967295|P>>>16),P=R+(L^F^S)+x[6]+76029189&4294967295,R=L+(P<<23&4294967295|P>>>9),P=S+(R^L^F)+x[9]+3654602809&4294967295,S=R+(P<<4&4294967295|P>>>28),P=F+(S^R^L)+x[12]+3873151461&4294967295,F=S+(P<<11&4294967295|P>>>21),P=L+(F^S^R)+x[15]+530742520&4294967295,L=F+(P<<16&4294967295|P>>>16),P=R+(L^F^S)+x[2]+3299628645&4294967295,R=L+(P<<23&4294967295|P>>>9),P=S+(L^(R|~F))+x[0]+4096336452&4294967295,S=R+(P<<6&4294967295|P>>>26),P=F+(R^(S|~L))+x[7]+1126891415&4294967295,F=S+(P<<10&4294967295|P>>>22),P=L+(S^(F|~R))+x[14]+2878612391&4294967295,L=F+(P<<15&4294967295|P>>>17),P=R+(F^(L|~S))+x[5]+4237533241&4294967295,R=L+(P<<21&4294967295|P>>>11),P=S+(L^(R|~F))+x[12]+1700485571&4294967295,S=R+(P<<6&4294967295|P>>>26),P=F+(R^(S|~L))+x[3]+2399980690&4294967295,F=S+(P<<10&4294967295|P>>>22),P=L+(S^(F|~R))+x[10]+4293915773&4294967295,L=F+(P<<15&4294967295|P>>>17),P=R+(F^(L|~S))+x[1]+2240044497&4294967295,R=L+(P<<21&4294967295|P>>>11),P=S+(L^(R|~F))+x[8]+1873313359&4294967295,S=R+(P<<6&4294967295|P>>>26),P=F+(R^(S|~L))+x[15]+4264355552&4294967295,F=S+(P<<10&4294967295|P>>>22),P=L+(S^(F|~R))+x[6]+2734768916&4294967295,L=F+(P<<15&4294967295|P>>>17),P=R+(F^(L|~S))+x[13]+1309151649&4294967295,R=L+(P<<21&4294967295|P>>>11),P=S+(L^(R|~F))+x[4]+4149444226&4294967295,S=R+(P<<6&4294967295|P>>>26),P=F+(R^(S|~L))+x[11]+3174756917&4294967295,F=S+(P<<10&4294967295|P>>>22),P=L+(S^(F|~R))+x[2]+718787259&4294967295,L=F+(P<<15&4294967295|P>>>17),P=R+(F^(L|~S))+x[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(L+(P<<21&4294967295|P>>>11))&4294967295,k.g[2]=k.g[2]+L&4294967295,k.g[3]=k.g[3]+F&4294967295}i.prototype.u=function(k,S){S===void 0&&(S=k.length);for(var R=S-this.blockSize,x=this.B,L=this.h,F=0;F<S;){if(L==0)for(;F<=R;)o(this,k,F),F+=this.blockSize;if(typeof k=="string"){for(;F<S;)if(x[L++]=k.charCodeAt(F++),L==this.blockSize){o(this,x),L=0;break}}else for(;F<S;)if(x[L++]=k[F++],L==this.blockSize){o(this,x),L=0;break}}this.h=L,this.o+=S},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;var R=8*this.o;for(S=k.length-8;S<k.length;++S)k[S]=R&255,R/=256;for(this.u(k),k=Array(16),S=R=0;4>S;++S)for(var x=0;32>x;x+=8)k[R++]=this.g[S]>>>x&255;return k};function l(k,S){var R=h;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=S(k)}function c(k,S){this.h=S;for(var R=[],x=!0,L=k.length-1;0<=L;L--){var F=k[L]|0;x&&F==S||(R[L]=F,x=!1)}this.g=R}var h={};function p(k){return-128<=k&&128>k?l(k,function(S){return new c([S|0],0>S?-1:0)}):new c([k|0],0>k?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return T;if(0>k)return U(y(-k));for(var S=[],R=1,x=0;k>=R;x++)S[x]=k/R|0,R*=4294967296;return new c(S,0)}function v(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return U(v(k.substring(1),S));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(S,8)),x=T,L=0;L<k.length;L+=8){var F=Math.min(8,k.length-L),P=parseInt(k.substring(L,L+F),S);8>F?(F=y(Math.pow(S,F)),x=x.j(F).add(y(P))):(x=x.j(R),x=x.add(y(P)))}return x}var T=p(0),I=p(1),C=p(16777216);n=c.prototype,n.m=function(){if($(this))return-U(this).m();for(var k=0,S=1,R=0;R<this.g.length;R++){var x=this.i(R);k+=(0<=x?x:4294967296+x)*S,S*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(V(this))return"0";if($(this))return"-"+U(this).toString(k);for(var S=y(Math.pow(k,6)),R=this,x="";;){var L=he(R,S).g;R=H(R,L.j(S));var F=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=L,V(R))return F+x;for(;6>F.length;)F="0"+F;x=F+x}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function V(k){if(k.h!=0)return!1;for(var S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function $(k){return k.h==-1}n.l=function(k){return k=H(this,k),$(k)?-1:V(k)?0:1};function U(k){for(var S=k.g.length,R=[],x=0;x<S;x++)R[x]=~k.g[x];return new c(R,~k.h).add(I)}n.abs=function(){return $(this)?U(this):this},n.add=function(k){for(var S=Math.max(this.g.length,k.g.length),R=[],x=0,L=0;L<=S;L++){var F=x+(this.i(L)&65535)+(k.i(L)&65535),P=(F>>>16)+(this.i(L)>>>16)+(k.i(L)>>>16);x=P>>>16,F&=65535,P&=65535,R[L]=P<<16|F}return new c(R,R[R.length-1]&-2147483648?-1:0)};function H(k,S){return k.add(U(S))}n.j=function(k){if(V(this)||V(k))return T;if($(this))return $(k)?U(this).j(U(k)):U(U(this).j(k));if($(k))return U(this.j(U(k)));if(0>this.l(C)&&0>k.l(C))return y(this.m()*k.m());for(var S=this.g.length+k.g.length,R=[],x=0;x<2*S;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var L=0;L<k.g.length;L++){var F=this.i(x)>>>16,P=this.i(x)&65535,dt=k.i(L)>>>16,Ge=k.i(L)&65535;R[2*x+2*L]+=P*Ge,ie(R,2*x+2*L),R[2*x+2*L+1]+=F*Ge,ie(R,2*x+2*L+1),R[2*x+2*L+1]+=P*dt,ie(R,2*x+2*L+1),R[2*x+2*L+2]+=F*dt,ie(R,2*x+2*L+2)}for(x=0;x<S;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=S;x<2*S;x++)R[x]=0;return new c(R,0)};function ie(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function ne(k,S){this.g=k,this.h=S}function he(k,S){if(V(S))throw Error("division by zero");if(V(k))return new ne(T,T);if($(k))return S=he(U(k),S),new ne(U(S.g),U(S.h));if($(S))return S=he(k,U(S)),new ne(U(S.g),S.h);if(30<k.g.length){if($(k)||$(S))throw Error("slowDivide_ only works with positive integers.");for(var R=I,x=S;0>=x.l(k);)R=j(R),x=j(x);var L=ce(R,1),F=ce(x,1);for(x=ce(x,2),R=ce(R,2);!V(x);){var P=F.add(x);0>=P.l(k)&&(L=L.add(R),F=P),x=ce(x,1),R=ce(R,1)}return S=H(k,L.j(S)),new ne(L,S)}for(L=T;0<=k.l(S);){for(R=Math.max(1,Math.floor(k.m()/S.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),F=y(R),P=F.j(S);$(P)||0<P.l(k);)R-=x,F=y(R),P=F.j(S);V(F)&&(F=I),L=L.add(F),k=H(k,P)}return new ne(L,k)}n.A=function(k){return he(this,k).h},n.and=function(k){for(var S=Math.max(this.g.length,k.g.length),R=[],x=0;x<S;x++)R[x]=this.i(x)&k.i(x);return new c(R,this.h&k.h)},n.or=function(k){for(var S=Math.max(this.g.length,k.g.length),R=[],x=0;x<S;x++)R[x]=this.i(x)|k.i(x);return new c(R,this.h|k.h)},n.xor=function(k){for(var S=Math.max(this.g.length,k.g.length),R=[],x=0;x<S;x++)R[x]=this.i(x)^k.i(x);return new c(R,this.h^k.h)};function j(k){for(var S=k.g.length+1,R=[],x=0;x<S;x++)R[x]=k.i(x)<<1|k.i(x-1)>>>31;return new c(R,k.h)}function ce(k,S){var R=S>>5;S%=32;for(var x=k.g.length-R,L=[],F=0;F<x;F++)L[F]=0<S?k.i(F+R)>>>S|k.i(F+R+1)<<32-S:k.i(F+R);return new c(L,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,pv=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=v,Ys=c}).apply(typeof Ay<"u"?Ay:typeof self<"u"?self:typeof window<"u"?window:{});var Ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mv,rl,gv,nc,of,yv,_v,vv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ku=="object"&&Ku];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var _=i;u=u.split(".");for(var w=0;w<u.length-1;w++){var z=u[w];if(!(z in _))break e;_=_[z]}u=u[u.length-1],w=_[u],m=m(w),m!=w&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var _=0,w=!1,z={next:function(){if(!w&&_<u.length){var Q=_++;return{value:m(Q,u[Q]),done:!1}}return w=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function T(u,m,_){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,w),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function I(u,m,_){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,I.apply(null,arguments)}function C(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function V(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(w,z,Q){for(var ue=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)ue[ut-2]=arguments[ut];return m.prototype[z].apply(w,ue)}}function $(u){const m=u.length;if(0<m){const _=Array(m);for(let w=0;w<m;w++)_[w]=u[w];return _}return[]}function U(u,m){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(p(w)){const z=u.length||0,Q=w.length||0;u.length=z+Q;for(let ue=0;ue<Q;ue++)u[z+ue]=w[ue]}else u.push(w)}}class H{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ie(u){return/^[\s\xa0]*$/.test(u)}function ne(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function he(u){return he[" "](u),u}he[" "]=function(){};var j=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function ce(u,m,_){for(const w in u)m.call(_,u[w],w,u)}function k(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function S(u){const m={};for(const _ in u)m[_]=u[_];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,m){let _,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(_ in w)u[_]=w[_];for(let Q=0;Q<R.length;Q++)_=R[Q],Object.prototype.hasOwnProperty.call(w,_)&&(u[_]=w[_])}}function L(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function F(u){h.setTimeout(()=>{throw u},0)}function P(){var u=Ie;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class dt{constructor(){this.h=this.g=null}add(m,_){const w=Ge.get();w.set(m,_),this.h?this.h.next=w:this.g=w,this.h=w}}var Ge=new H(()=>new Ct,u=>u.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Qe,oe=!1,Ie=new dt,de=()=>{const u=h.Promise.resolve(void 0);Qe=()=>{u.then(b)}};var b=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(_){F(_)}var m=Ge;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}oe=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};h.addEventListener("test",_,m),h.removeEventListener("test",_,m)}catch{}return u}();function Oe(u,m){if(we.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(j){e:{try{he(m.nodeName);var z=!0;break e}catch{}z=!1}z||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ze[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Oe.aa.h.call(this)}}V(Oe,we);var ze={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ze="closure_listenable_"+(1e6*Math.random()|0),et=0;function Fe(u,m,_,w,z){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!w,this.ha=z,this.key=++et,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Bn(u){this.src=u,this.g={},this.h=0}Bn.prototype.add=function(u,m,_,w,z){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var ue=nn(u,m,w,z);return-1<ue?(m=u[ue],_||(m.fa=!1)):(m=new Fe(m,this.src,Q,!!w,z),m.fa=_,u.push(m)),m};function Ti(u,m){var _=m.type;if(_ in u.g){var w=u.g[_],z=Array.prototype.indexOf.call(w,m,void 0),Q;(Q=0<=z)&&Array.prototype.splice.call(w,z,1),Q&&(ft(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function nn(u,m,_,w){for(var z=0;z<u.length;++z){var Q=u[z];if(!Q.da&&Q.listener==m&&Q.capture==!!_&&Q.ha==w)return z}return-1}var Kr="closure_lm_"+(1e6*Math.random()|0),Ii={};function Si(u,m,_,w,z){if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)Si(u,m[Q],_,w,z);return null}return _=wn(_),u&&u[Ze]?u.K(m,_,y(w)?!!w.capture:!1,z):Ts(u,m,_,!1,w,z)}function Ts(u,m,_,w,z,Q){if(!m)throw Error("Invalid event type");var ue=y(z)?!!z.capture:!!z,ut=Gr(u);if(ut||(u[Kr]=ut=new Bn(u)),_=ut.add(m,_,w,ue,Q),_.proxy)return _;if(w=lo(),_.proxy=w,w.src=u,w.listener=_,u.addEventListener)be||(z=ue),z===void 0&&(z=!1),u.addEventListener(m.toString(),w,z);else if(u.attachEvent)u.attachEvent(Wt(m.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function lo(){function u(_){return m.call(u.src,u.listener,_)}const m=tr;return u}function Ri(u,m,_,w,z){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)Ri(u,m[Q],_,w,z);else w=y(w)?!!w.capture:!!w,_=wn(_),u&&u[Ze]?(u=u.i,m=String(m).toString(),m in u.g&&(Q=u.g[m],_=nn(Q,_,w,z),-1<_&&(ft(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Gr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=nn(m,_,w,z)),(_=-1<u?m[u]:null)&&er(_))}function er(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ze])Ti(m.i,u);else{var _=u.type,w=u.proxy;m.removeEventListener?m.removeEventListener(_,w,u.capture):m.detachEvent?m.detachEvent(Wt(_),w):m.addListener&&m.removeListener&&m.removeListener(w),(_=Gr(m))?(Ti(_,u),_.h==0&&(_.src=null,m[Kr]=null)):ft(u)}}}function Wt(u){return u in Ii?Ii[u]:Ii[u]="on"+u}function tr(u,m){if(u.da)u=!0;else{m=new Oe(m,this);var _=u.listener,w=u.ha||u.src;u.fa&&er(u),u=_.call(w,m)}return u}function Gr(u){return u=u[Kr],u instanceof Bn?u:null}var Ar="__closure_events_fn_"+(1e9*Math.random()>>>0);function wn(u){return typeof u=="function"?u:(u[Ar]||(u[Ar]=function(m){return u.handleEvent(m)}),u[Ar])}function lt(){Y.call(this),this.i=new Bn(this),this.M=this,this.F=null}V(lt,Y),lt.prototype[Ze]=!0,lt.prototype.removeEventListener=function(u,m,_,w){Ri(this,u,m,_,w)};function St(u,m){var _,w=u.F;if(w)for(_=[];w;w=w.F)_.push(w);if(u=u.M,w=m.type||m,typeof m=="string")m=new we(m,u);else if(m instanceof we)m.target=m.target||u;else{var z=m;m=new we(w,u),x(m,z)}if(z=!0,_)for(var Q=_.length-1;0<=Q;Q--){var ue=m.g=_[Q];z=Ln(ue,w,!0,m)&&z}if(ue=m.g=u,z=Ln(ue,w,!0,m)&&z,z=Ln(ue,w,!1,m)&&z,_)for(Q=0;Q<_.length;Q++)ue=m.g=_[Q],z=Ln(ue,w,!1,m)&&z}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],w=0;w<_.length;w++)ft(_[w]);delete u.g[m],u.h--}}this.F=null},lt.prototype.K=function(u,m,_,w){return this.i.add(String(u),m,!1,_,w)},lt.prototype.L=function(u,m,_,w){return this.i.add(String(u),m,!0,_,w)};function Ln(u,m,_,w){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,Q=0;Q<m.length;++Q){var ue=m[Q];if(ue&&!ue.da&&ue.capture==_){var ut=ue.listener,Ot=ue.ha||ue.src;ue.fa&&Ti(u.i,ue),z=ut.call(Ot,w)!==!1&&z}}return z&&!w.defaultPrevented}function Is(u,m,_){if(typeof u=="function")_&&(u=I(u,_));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:h.setTimeout(u,m||0)}function qt(u){u.g=Is(()=>{u.g=null,u.i&&(u.i=!1,qt(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Cr extends Y{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:qt(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(u){Y.call(this),this.h=u,this.g={}}V(Pr,Y);var Ai=[];function Ss(u){ce(u.g,function(m,_){this.g.hasOwnProperty(_)&&er(m)},u),u.g={}}Pr.prototype.N=function(){Pr.aa.N.call(this),Ss(this)},Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ci=h.JSON.stringify,kr=h.JSON.parse,Pi=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function nr(){}nr.prototype.h=null;function ki(u){return u.h||(u.h=u.i())}function Qr(){}var Tn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function On(){we.call(this,"d")}V(On,we);function rr(){we.call(this,"c")}V(rr,we);var mn={},Rs=null;function Yr(){return Rs=Rs||new lt}mn.La="serverreachability";function D(u){we.call(this,mn.La,u)}V(D,we);function M(u){const m=Yr();St(m,new D(m))}mn.STAT_EVENT="statevent";function G(u,m){we.call(this,mn.STAT_EVENT,u),this.stat=m}V(G,we);function X(u){const m=Yr();St(m,new G(m,u))}mn.Ma="timingevent";function fe(u,m){we.call(this,mn.Ma,u),this.size=m}V(fe,we);function _e(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},m)}function Ce(){this.g=!0}Ce.prototype.xa=function(){this.g=!1};function pe(u,m,_,w,z,Q){u.info(function(){if(u.g)if(Q)for(var ue="",ut=Q.split("&"),Ot=0;Ot<ut.length;Ot++){var Xe=ut[Ot].split("=");if(1<Xe.length){var Ut=Xe[0];Xe=Xe[1];var xt=Ut.split("_");ue=2<=xt.length&&xt[1]=="type"?ue+(Ut+"="+Xe+"&"):ue+(Ut+"=redacted&")}}else ue=null;else ue=Q;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+m+`
`+_+`
`+ue})}function Ee(u,m,_,w,z,Q,ue){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+m+`
`+_+`
`+Q+" "+ue})}function ae(u,m,_,w){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ue(u,_)+(w?" "+w:"")})}function xe(u,m){u.info(function(){return"TIMEOUT: "+m})}Ce.prototype.info=function(){};function Ue(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var w=_[u];if(!(2>w.length)){var z=w[1];if(Array.isArray(z)&&!(1>z.length)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ue=1;ue<z.length;ue++)z[ue]=""}}}}return Ci(_)}catch{return m}}var it={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Rt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},We;function tt(){}V(tt,nr),tt.prototype.g=function(){return new XMLHttpRequest},tt.prototype.i=function(){return{}},We=new tt;function st(u,m,_,w){this.j=u,this.i=m,this.l=_,this.R=w||1,this.U=new Pr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ir}function ir(){this.i=null,this.g="",this.h=!1}var sr={},rn={};function Kt(u,m,_){u.L=1,u.v=Li(Vn(m)),u.m=_,u.P=!0,Xr(u,null)}function Xr(u,m){u.F=Date.now(),ot(u),u.A=Vn(u.v);var _=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),Vi(_.i,"t",w),u.C=0,_=u.j.J,u.h=new ir,u.g=Ql(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Cr(I(u.Y,u,u.g),u.O)),m=u.U,_=u.g,w=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(Ai[0]=z.toString()),z=Ai);for(var Q=0;Q<z.length;Q++){var ue=Si(_,z[Q],w||m.handleEvent,!1,m.h||m);if(!ue)break;m.g[ue.key]=ue}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),M(),pe(u.i,u.u,u.A,u.l,u.R,u.m)}st.prototype.ca=function(u){u=u.target;const m=this.M;m&&Rn(u)==3?m.j():this.Y(u)},st.prototype.Y=function(u){try{if(u==this.g)e:{const xt=Rn(this.g);var m=this.g.Ba();const Hn=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||Ta(this.g)))){this.J||xt!=4||m==7||(m==8||0>=Hn?M(3):M(2)),Ye(this);var _=this.g.Z();this.X=_;t:if(xr(this)){var w=Ta(this.g);u="";var z=w.length,Q=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gt(this),pt(this);var ue="";break t}this.h.i=new h.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(w[m],{stream:!(Q&&m==z-1)});w.length=0,this.h.g+=u,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=_==200,Ee(this.i,this.u,this.A,this.l,this.R,xt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ut,Ot=this.g;if((ut=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ie(ut)){var Xe=ut;break t}}Xe=null}if(_=Xe)ae(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ar(this,_);else{this.o=!1,this.s=3,X(12),Gt(this),pt(this);break e}}if(this.P){_=!0;let Mn;for(;!this.J&&this.C<ue.length;)if(Mn=or(this,ue),Mn==rn){xt==4&&(this.s=4,X(14),_=!1),ae(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==sr){this.s=4,X(15),ae(this.i,this.l,ue,"[Invalid Chunk]"),_=!1;break}else ae(this.i,this.l,Mn,null),ar(this,Mn);if(xr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||ue.length!=0||this.h.h||(this.s=1,X(16),_=!1),this.o=this.o&&_,!_)ae(this.i,this.l,ue,"[Invalid Chunked Response]"),Gt(this),pt(this);else if(0<ue.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Sa(Ut),Ut.M=!0,X(11))}}else ae(this.i,this.l,ue,null),ar(this,ue);xt==4&&Gt(this),this.o&&!this.J&&(xt==4?wo(this.j,this):(this.o=!1,ot(this)))}else go(this.g),_==400&&0<ue.indexOf("Unknown SID")?(this.s=3,X(12)):(this.s=0,X(13)),Gt(this),pt(this)}}}catch{}finally{}};function xr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function or(u,m){var _=u.C,w=m.indexOf(`
`,_);return w==-1?rn:(_=Number(m.substring(_,w)),isNaN(_)?sr:(w+=1,w+_>m.length?rn:(m=m.slice(w,w+_),u.C=w+_,m)))}st.prototype.cancel=function(){this.J=!0,Gt(this)};function ot(u){u.S=Date.now()+u.I,Jr(u,u.I)}function Jr(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=_e(I(u.ba,u),m)}function Ye(u){u.B&&(h.clearTimeout(u.B),u.B=null)}st.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(xe(this.i,this.A),this.L!=2&&(M(),X(17)),Gt(this),this.s=2,pt(this)):Jr(this,this.S-u)};function pt(u){u.j.G==0||u.J||wo(u.j,u)}function Gt(u){Ye(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ss(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ar(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||gn(_.h,u))){if(!u.K&&gn(_.h,u)&&_.G==3){try{var w=_.Da.g.parse(m)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Eo(_),hr(_);else break e;vo(_),X(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=_e(I(_.Za,_),6e3));if(1>=uo(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ri(_,11)}else if((u.K||_.g==u)&&Eo(_),!ie(m))for(z=_.Da.g.parse(m),m=0;m<z.length;m++){let Xe=z[m];if(_.T=Xe[0],Xe=Xe[1],_.G==2)if(Xe[0]=="c"){_.K=Xe[1],_.ia=Xe[2];const Ut=Xe[3];Ut!=null&&(_.la=Ut,_.j.info("VER="+_.la));const xt=Xe[4];xt!=null&&(_.Aa=xt,_.j.info("SVER="+_.Aa));const Hn=Xe[5];Hn!=null&&typeof Hn=="number"&&0<Hn&&(w=1.5*Hn,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Mn=u.g;if(Mn){const Ns=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ns){var Q=w.h;Q.g||Ns.indexOf("spdy")==-1&&Ns.indexOf("quic")==-1&&Ns.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(_a(Q,Q.h),Q.h=null))}if(w.D){const Io=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Io&&(w.ya=Io,ct(w.I,w.D,Io))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var ue=u;if(w.qa=Gl(w,w.J?w.ia:null,w.W),ue.K){bl(w.h,ue);var ut=ue,Ot=w.L;Ot&&(ut.I=Ot),ut.B&&(Ye(ut),ot(ut)),w.g=ue}else xs(w);0<_.i.length&&Or(_)}else Xe[0]!="stop"&&Xe[0]!="close"||ri(_,7);else _.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?ri(_,7):Yt(_):Xe[0]!="noop"&&_.l&&_.l.ta(Xe),_.v=0)}}M(4)}catch{}}var mt=class{constructor(u,m){this.g=u,this.map=m}};function In(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function uo(u){return u.h?1:u.g?u.g.size:0}function gn(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function _a(u,m){u.g?u.g.add(m):u.h=m}function bl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}In.prototype.cancel=function(){if(this.i=Ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ml(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return $(u.i)}function co(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,w=0;w<_;w++)m.push(u[w]);return m}m=[],_=0;for(w in u)m[_++]=u[w];return m}function ho(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const w in u)m[_++]=w;return m}}}function xi(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=ho(u),w=co(u),z=w.length,Q=0;Q<z;Q++)m.call(void 0,w[Q],_&&_[Q],u)}var As=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function od(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var w=u[_].indexOf("="),z=null;if(0<=w){var Q=u[_].substring(0,w);z=u[_].substring(w+1)}else Q=u[_];m(Q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Zr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Zr){this.h=u.h,Cs(this,u.j),this.o=u.o,this.g=u.g,Ni(this,u.s),this.l=u.l;var m=u.i,_=new Nr;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Di(this,_),this.m=u.m}else u&&(m=String(u).match(As))?(this.h=!1,Cs(this,m[1]||"",!0),this.o=qe(m[2]||""),this.g=qe(m[3]||"",!0),Ni(this,m[4]),this.l=qe(m[5]||"",!0),Di(this,m[6]||"",!0),this.m=qe(m[7]||"")):(this.h=!1,this.i=new Nr(null,this.h))}Zr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Oi(m,fo,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Oi(m,fo,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Oi(_,_.charAt(0)=="/"?jl:Ul,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Oi(_,va)),u.join("")};function Vn(u){return new Zr(u)}function Cs(u,m,_){u.j=_?qe(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ni(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Di(u,m,_){m instanceof Nr?(u.i=m,Dr(u.i,u.h)):(_||(m=Oi(m,zl)),u.i=new Nr(m,u.h))}function ct(u,m,_){u.i.set(m,_)}function Li(u){return ct(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function qe(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Oi(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Fl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Fl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var fo=/[#\/\?@]/g,Ul=/[#\?:]/g,jl=/[#\?]/g,zl=/[#\?@]/g,va=/#/g;function Nr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Qt(u){u.g||(u.g=new Map,u.h=0,u.i&&od(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}n=Nr.prototype,n.add=function(u,m){Qt(this),this.i=null,u=$n(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function lr(u,m){Qt(u),m=$n(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ur(u,m){return Qt(u),m=$n(u,m),u.g.has(m)}n.forEach=function(u,m){Qt(this),this.g.forEach(function(_,w){_.forEach(function(z){u.call(m,z,w,this)},this)},this)},n.na=function(){Qt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let w=0;w<m.length;w++){const z=u[w];for(let Q=0;Q<z.length;Q++)_.push(m[w])}return _},n.V=function(u){Qt(this);let m=[];if(typeof u=="string")ur(this,u)&&(m=m.concat(this.g.get($n(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},n.set=function(u,m){return Qt(this),this.i=null,u=$n(this,u),ur(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Vi(u,m,_){lr(u,m),0<_.length&&(u.i=null,u.g.set($n(u,m),$(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var w=m[_];const Q=encodeURIComponent(String(w)),ue=this.V(w);for(w=0;w<ue.length;w++){var z=Q;ue[w]!==""&&(z+="="+encodeURIComponent(String(ue[w]))),u.push(z)}}return this.i=u.join("&")};function $n(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Dr(u,m){m&&!u.j&&(Qt(u),u.i=null,u.g.forEach(function(_,w){var z=w.toLowerCase();w!=z&&(lr(this,w),Vi(this,z,_))},u)),u.j=m}function ad(u,m){const _=new Ce;if(h.Image){const w=new Image;w.onload=C(Sn,_,"TestLoadImage: loaded",!0,m,w),w.onerror=C(Sn,_,"TestLoadImage: error",!1,m,w),w.onabort=C(Sn,_,"TestLoadImage: abort",!1,m,w),w.ontimeout=C(Sn,_,"TestLoadImage: timeout",!1,m,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else m(!1)}function Bl(u,m){const _=new Ce,w=new AbortController,z=setTimeout(()=>{w.abort(),Sn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:w.signal}).then(Q=>{clearTimeout(z),Q.ok?Sn(_,"TestPingServer: ok",!0,m):Sn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),Sn(_,"TestPingServer: error",!1,m)})}function Sn(u,m,_,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(_)}catch{}}function ld(){this.g=new Pi}function $l(u,m,_){const w=_||"";try{xi(u,function(z,Q){let ue=z;y(z)&&(ue=Ci(z)),m.push(w+Q+"="+encodeURIComponent(ue))})}catch(z){throw m.push(w+"type="+encodeURIComponent("_badmap")),z}}function ei(u){this.l=u.Ub||null,this.j=u.eb||!1}V(ei,nr),ei.prototype.g=function(){return new Ps(this.l,this.j)},ei.prototype.i=function(u){return function(){return u}}({});function Ps(u,m){lt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Ps,lt),n=Ps.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,dr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||h).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,dr(this)),this.g&&(this.readyState=3,dr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?cr(this):dr(this),this.readyState==3&&Hl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,cr(this))},n.Qa=function(u){this.g&&(this.response=u,cr(this))},n.ga=function(){this.g&&cr(this)};function cr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,dr(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function dr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ti(u){let m="";return ce(u,function(_,w){m+=w,m+=":",m+=_,m+=`\r
`}),m}function bi(u,m,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=ti(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):ct(u,m,_))}function vt(u){lt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(vt,lt);var ud=/^https?$/i,Ea=["POST","PUT"];n=vt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():We.g(),this.v=this.o?ki(this.o):ki(We),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Q){ks(this,Q);return}if(u=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)_.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Q of w.keys())_.set(Q,w.get(Q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ea,m,void 0))||w||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ue]of _)this.g.setRequestHeader(Q,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mo(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){ks(this,Q)}};function ks(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,po(u),bn(u)}function po(u){u.A||(u.A=!0,St(u,"complete"),St(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,St(this,"complete"),St(this,"abort"),bn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bn(this,!0)),vt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?wa(this):this.bb())},n.bb=function(){wa(this)};function wa(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Rn(u)!=4||u.Z()!=2)){if(u.u&&Rn(u)==4)Is(u.Ea,0,u);else if(St(u,"readystatechange"),Rn(u)==4){u.h=!1;try{const ue=u.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var w;if(w=ue===0){var z=String(u.D).match(As)[1]||null;!z&&h.self&&h.self.location&&(z=h.self.location.protocol.slice(0,-1)),w=!ud.test(z?z.toLowerCase():"")}_=w}if(_)St(u,"complete"),St(u,"success");else{u.m=6;try{var Q=2<Rn(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",po(u)}}finally{bn(u)}}}}function bn(u,m){if(u.g){mo(u);const _=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||St(u,"ready");try{_.onreadystatechange=w}catch{}}}function mo(u){u.I&&(h.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Rn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),kr(m)}};function Ta(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function go(u){const m={};u=(u.g&&2<=Rn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(ie(u[w]))continue;var _=L(u[w]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=m[z]||[];m[z]=Q,Q.push(_)}k(m,function(w){return w.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lr(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Ia(u){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Lr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Lr("baseRetryDelayMs",5e3,u),this.cb=Lr("retryDelaySeedMs",1e4,u),this.Wa=Lr("forwardChannelMaxRetries",2,u),this.wa=Lr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new In(u&&u.concurrentRequestLimit),this.Da=new ld,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ia.prototype,n.la=8,n.G=1,n.connect=function(u,m,_,w){X(0),this.W=u,this.H=m||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=Gl(this,null,this.W),Or(this)};function Yt(u){if(yo(u),u.G==3){var m=u.U++,_=Vn(u.I);if(ct(_,"SID",u.K),ct(_,"RID",m),ct(_,"TYPE","terminate"),ni(u,_),m=new st(u,u.j,m),m.L=2,m.v=Li(Vn(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=m.v,_=!0),_||(m.g=Ql(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ot(m)}Kl(u)}function hr(u){u.g&&(Sa(u),u.g.cancel(),u.g=null)}function yo(u){hr(u),u.u&&(h.clearTimeout(u.u),u.u=null),Eo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function Or(u){if(!sn(u.h)&&!u.s){u.s=!0;var m=u.Ga;Qe||de(),oe||(Qe(),oe=!0),Ie.add(m,u),u.B=0}}function cd(u,m){return uo(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=_e(I(u.Ga,u,m),ql(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new st(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=S(Q),x(Q,this.S)):Q=this.S),this.m!==null||this.O||(z.H=Q,Q=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(m+=w,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=Mi(this,z,m),_=Vn(this.I),ct(_,"RID",u),ct(_,"CVER",22),this.D&&ct(_,"X-HTTP-Session-Id",this.D),ni(this,_),Q&&(this.O?m="headers="+encodeURIComponent(String(ti(Q)))+"&"+m:this.m&&bi(_,this.m,Q)),_a(this.h,z),this.Ua&&ct(_,"TYPE","init"),this.P?(ct(_,"$req",m),ct(_,"SID","null"),z.T=!0,Kt(z,_,null)):Kt(z,_,m),this.G=2}}else this.G==3&&(u?_o(this,u):this.i.length==0||sn(this.h)||_o(this))};function _o(u,m){var _;m?_=m.l:_=u.U++;const w=Vn(u.I);ct(w,"SID",u.K),ct(w,"RID",_),ct(w,"AID",u.T),ni(u,w),u.m&&u.o&&bi(w,u.m,u.o),_=new st(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Mi(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),_a(u.h,_),Kt(_,w,m)}function ni(u,m){u.H&&ce(u.H,function(_,w){ct(m,w,_)}),u.l&&xi({},function(_,w){ct(m,w,_)})}function Mi(u,m,_){_=Math.min(u.i.length,_);var w=u.l?I(u.l.Na,u.l,u):null;e:{var z=u.i;let Q=-1;for(;;){const ue=["count="+_];Q==-1?0<_?(Q=z[0].g,ue.push("ofs="+Q)):Q=0:ue.push("ofs="+Q);let ut=!0;for(let Ot=0;Ot<_;Ot++){let Xe=z[Ot].g;const Ut=z[Ot].map;if(Xe-=Q,0>Xe)Q=Math.max(0,z[Ot].g-100),ut=!1;else try{$l(Ut,ue,"req"+Xe+"_")}catch{w&&w(Ut)}}if(ut){w=ue.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,w}function xs(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Qe||de(),oe||(Qe(),oe=!0),Ie.add(m,u),u.v=0}}function vo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=_e(I(u.Fa,u),ql(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Wl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=_e(I(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,X(10),hr(this),Wl(this))};function Sa(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function Wl(u){u.g=new st(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Vn(u.qa);ct(m,"RID","rpc"),ct(m,"SID",u.K),ct(m,"AID",u.T),ct(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&ct(m,"TO",u.ja),ct(m,"TYPE","xmlhttp"),ni(u,m),u.m&&u.o&&bi(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Li(Vn(m)),_.m=null,_.P=!0,Xr(_,u)}n.Za=function(){this.C!=null&&(this.C=null,hr(this),vo(this),X(19))};function Eo(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function wo(u,m){var _=null;if(u.g==m){Eo(u),Sa(u),u.g=null;var w=2}else if(gn(u.h,m))_=m.D,bl(u.h,m),w=1;else return;if(u.G!=0){if(m.o)if(w==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;w=Yr(),St(w,new fe(w,_)),Or(u)}else xs(u);else if(z=m.s,z==3||z==0&&0<m.X||!(w==1&&cd(u,m)||w==2&&vo(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),z){case 1:ri(u,5);break;case 4:ri(u,10);break;case 3:ri(u,6);break;default:ri(u,2)}}}function ql(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function ri(u,m){if(u.j.info("Error code "+m),m==2){var _=I(u.fb,u),w=u.Xa;const z=!w;w=new Zr(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Cs(w,"https"),Li(w),z?ad(w.toString(),_):Bl(w.toString(),_)}else X(2);u.G=0,u.l&&u.l.sa(m),Kl(u),yo(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),X(2)):(this.j.info("Failed to ping google.com"),X(1))};function Kl(u){if(u.G=0,u.ka=[],u.l){const m=Ml(u.h);(m.length!=0||u.i.length!=0)&&(U(u.ka,m),U(u.ka,u.i),u.h.i.length=0,$(u.i),u.i.length=0),u.l.ra()}}function Gl(u,m,_){var w=_ instanceof Zr?Vn(_):new Zr(_);if(w.g!="")m&&(w.g=m+"."+w.g),Ni(w,w.s);else{var z=h.location;w=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var Q=new Zr(null);w&&Cs(Q,w),m&&(Q.g=m),z&&Ni(Q,z),_&&(Q.l=_),w=Q}return _=u.D,m=u.ya,_&&m&&ct(w,_,m),ct(w,"VER",u.la),ni(u,w),w}function Ql(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new vt(new ei({eb:_})):new vt(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ra(){}n=Ra.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function To(){}To.prototype.g=function(u,m){return new yn(u,m)};function yn(u,m){lt.call(this),this.g=new Ia(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ie(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ie(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vr(this)}V(yn,lt),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Yt(this.g)},yn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Ci(u),u=_);m.i.push(new mt(m.Ya++,u)),m.G==3&&Or(m)},yn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,yn.aa.N.call(this)};function Yl(u){On.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}V(Yl,On);function Xl(){rr.call(this),this.status=1}V(Xl,rr);function Vr(u){this.g=u}V(Vr,Ra),Vr.prototype.ua=function(){St(this.g,"a")},Vr.prototype.ta=function(u){St(this.g,new Yl(u))},Vr.prototype.sa=function(u){St(this.g,new Xl)},Vr.prototype.ra=function(){St(this.g,"b")},To.prototype.createWebChannel=To.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,vv=function(){return new To},_v=function(){return Yr()},yv=mn,of={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},it.NO_ERROR=0,it.TIMEOUT=8,it.HTTP_ERROR=6,nc=it,Rt.COMPLETE="complete",gv=Rt,Qr.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",lt.prototype.listen=lt.prototype.K,rl=Qr,vt.prototype.listenOnce=vt.prototype.L,vt.prototype.getLastError=vt.prototype.Ka,vt.prototype.getLastErrorCode=vt.prototype.Ba,vt.prototype.getStatus=vt.prototype.Z,vt.prototype.getResponseJson=vt.prototype.Oa,vt.prototype.getResponseText=vt.prototype.oa,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Ha,mv=vt}).apply(typeof Ku<"u"?Ku:typeof self<"u"?self:typeof window<"u"?window:{});const Cy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let da="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=new Vf("@firebase/firestore");function Wo(){return eo.logLevel}function ge(n,...e){if(eo.logLevel<=Be.DEBUG){const t=e.map(Ff);eo.debug(`Firestore (${da}): ${n}`,...t)}}function _i(n,...e){if(eo.logLevel<=Be.ERROR){const t=e.map(Ff);eo.error(`Firestore (${da}): ${n}`,...t)}}function ta(n,...e){if(eo.logLevel<=Be.WARN){const t=e.map(Ff);eo.warn(`Firestore (${da}): ${n}`,...t)}}function Ff(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(n="Unexpected state"){const e=`FIRESTORE (${da}) INTERNAL ASSERTION FAILED: `+n;throw _i(e),new Error(e)}function at(n,e){n||Le()}function Me(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends wi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(dn.UNAUTHENTICATED))}shutdown(){}}class SR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class RR{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){at(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new gi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new gi,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},h=p=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new gi)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(at(typeof i.accessToken=="string"),new Ev(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string"),new dn(e)}}class AR{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class CR{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new AR(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){at(this.o===void 0);const i=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(at(typeof t.token=="string"),this.R=t.token,new PR(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=xR(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function Ke(n,e){return n<e?-1:n>e?1:0}function na(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Mt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ye(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new Mt(0,0))}static max(){return new Ve(new Mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,t,i){t===void 0?t=0:t>e.length&&Le(),i===void 0?i=e.length-t:i>e.length-t&&Le(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return pl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof pl?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=e.get(o),c=t.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class _t extends pl{construct(e,t,i){return new _t(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ye(Z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new _t(t)}static emptyPath(){return new _t([])}}const NR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends pl{construct(e,t,i){return new en(e,t,i)}static isValidIdentifier(e){return NR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new en(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new ye(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new ye(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(i+=h,o++):(l(),o++)}if(l(),c)throw new ye(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(_t.fromString(e))}static fromName(e){return new Ae(_t.fromString(e).popFirst(5))}static empty(){return new Ae(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return _t.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new _t(e.slice()))}}function DR(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ve.fromTimestamp(i===1e9?new Mt(t+1,0):new Mt(t,i));return new hs(o,Ae.empty(),e)}function LR(n){return new hs(n.readTime,n.key,-1)}class hs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new hs(Ve.min(),Ae.empty(),-1)}static max(){return new hs(Ve.max(),Ae.empty(),-1)}}function OR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(n.documentKey,e.documentKey),t!==0?t:Ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ha(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==VR)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):J.reject(t)}static resolve(e){return new J((t,i)=>{t(e)})}static reject(e){return new J((t,i)=>{i(e)})}static waitFor(e){return new J((t,i)=>{let o=0,l=0,c=!1;e.forEach(h=>{++o,h.next(()=>{++l,c&&l===o&&t()},p=>i(p))}),c=!0,l===o&&t()})}static or(e){let t=J.resolve(!1);for(const i of e)t=t.next(o=>o?J.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new J((i,o)=>{const l=e.length,c=new Array(l);let h=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(v=>{c[y]=v,++h,h===l&&i(c)},v=>o(v))}})}static doWhile(e,t){return new J((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function MR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function fa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}zc.oe=-1;function Bc(n){return n==null}function Ec(n){return n===0&&1/n==-1/0}function FR(n){return typeof n=="number"&&Number.isInteger(n)&&!Ec(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Py(e)),e=jR(n.get(t),e);return Py(e)}function jR(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function Py(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ro(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Tv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new It(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gu(this.root,e,this.comparator,!0)}}class Gu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Zt.RED,this.left=o??Zt.EMPTY,this.right=l??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Zt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Le();const e=this.left.check();if(e!==this.right.check())throw Le();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Le()}get value(){throw Le()}get color(){throw Le()}get left(){throw Le()}get right(){throw Le()}copy(e,t,i,o,l){return this}insert(e,t,i){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xy(this.data.getIterator())}getIteratorFrom(e){return new xy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ft(this.comparator);return t.data=e,t}}class xy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Er([])}unionWith(e){let t=new Ft(en.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Er(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return na(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Iv("Invalid base64 string: "+l):l}}(e);return new tn(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const zR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(n){if(at(!!n),typeof n=="string"){let e=0;const t=zR.exec(n);if(at(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:kt(n.seconds),nanos:kt(n.nanos)}}function kt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ps(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function $c(n){const e=n.mapValue.fields.__previous_value__;return Uf(e)?$c(e):e}function ml(n){const e=fs(n.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,t,i,o,l,c,h,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=y}}class gl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new gl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ms(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Uf(n)?4:HR(n)?9007199254740991:$R(n)?10:11:Le()}function Wr(n,e){if(n===e)return!0;const t=ms(n);if(t!==ms(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ml(n).isEqual(ml(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=fs(o.timestampValue),h=fs(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return ps(o.bytesValue).isEqual(ps(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return kt(o.geoPointValue.latitude)===kt(l.geoPointValue.latitude)&&kt(o.geoPointValue.longitude)===kt(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return kt(o.integerValue)===kt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=kt(o.doubleValue),h=kt(l.doubleValue);return c===h?Ec(c)===Ec(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return na(n.arrayValue.values||[],e.arrayValue.values||[],Wr);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},h=l.mapValue.fields||{};if(ky(c)!==ky(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(h[p]===void 0||!Wr(c[p],h[p])))return!1;return!0}(n,e);default:return Le()}}function yl(n,e){return(n.values||[]).find(t=>Wr(t,e))!==void 0}function ra(n,e){if(n===e)return 0;const t=ms(n),i=ms(e);if(t!==i)return Ke(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ke(n.booleanValue,e.booleanValue);case 2:return function(l,c){const h=kt(l.integerValue||l.doubleValue),p=kt(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(n,e);case 3:return Ny(n.timestampValue,e.timestampValue);case 4:return Ny(ml(n),ml(e));case 5:return Ke(n.stringValue,e.stringValue);case 6:return function(l,c){const h=ps(l),p=ps(c);return h.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const h=l.split("/"),p=c.split("/");for(let y=0;y<h.length&&y<p.length;y++){const v=Ke(h[y],p[y]);if(v!==0)return v}return Ke(h.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const h=Ke(kt(l.latitude),kt(c.latitude));return h!==0?h:Ke(kt(l.longitude),kt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Dy(n.arrayValue,e.arrayValue);case 10:return function(l,c){var h,p,y,v;const T=l.fields||{},I=c.fields||{},C=(h=T.value)===null||h===void 0?void 0:h.arrayValue,V=(p=I.value)===null||p===void 0?void 0:p.arrayValue,$=Ke(((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0,((v=V==null?void 0:V.values)===null||v===void 0?void 0:v.length)||0);return $!==0?$:Dy(C,V)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Qu.mapValue&&c===Qu.mapValue)return 0;if(l===Qu.mapValue)return 1;if(c===Qu.mapValue)return-1;const h=l.fields||{},p=Object.keys(h),y=c.fields||{},v=Object.keys(y);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const I=Ke(p[T],v[T]);if(I!==0)return I;const C=ra(h[p[T]],y[v[T]]);if(C!==0)return C}return Ke(p.length,v.length)}(n.mapValue,e.mapValue);default:throw Le()}}function Ny(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ke(n,e);const t=fs(n),i=fs(e),o=Ke(t.seconds,i.seconds);return o!==0?o:Ke(t.nanos,i.nanos)}function Dy(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=ra(t[o],i[o]);if(l)return l}return Ke(t.length,i.length)}function ia(n){return af(n)}function af(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=fs(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ps(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ae.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=af(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${af(t.fields[c])}`;return o+"}"}(n.mapValue):Le()}function rc(n){switch(ms(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$c(n);return e?16+rc(e):16;case 5:return 2*n.stringValue.length;case 6:return ps(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+rc(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return ro(i.fields,(l,c)=>{o+=l.length+rc(c)}),o}(n.mapValue);default:throw Le()}}function Ly(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function lf(n){return!!n&&"integerValue"in n}function jf(n){return!!n&&"arrayValue"in n}function Oy(n){return!!n&&"nullValue"in n}function Vy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ic(n){return!!n&&"mapValue"in n}function $R(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function al(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ro(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=al(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=al(n.arrayValue.values[t]);return e}return Object.assign({},n)}function HR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ic(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=al(t)}setAll(e){let t=en.emptyPath(),i={},o=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=h.popLast()}c?i[h.lastSegment()]=al(c):o.push(h.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());ic(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];ic(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){ro(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new Jn(al(this.value))}}function Sv(n){const e=[];return ro(n.fields,(t,i)=>{const o=new en([t]);if(ic(i)){const l=Sv(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new Er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,t,i,o,l,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new hn(e,0,Ve.min(),Ve.min(),Ve.min(),Jn.empty(),0)}static newFoundDocument(e,t,i,o){return new hn(e,1,t,Ve.min(),i,o,0)}static newNoDocument(e,t){return new hn(e,2,t,Ve.min(),Ve.min(),Jn.empty(),0)}static newUnknownDocument(e,t){return new hn(e,3,t,Ve.min(),Ve.min(),Jn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,t){this.position=e,this.inclusive=t}}function by(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=Ae.comparator(Ae.fromName(c.referenceValue),t.key):i=ra(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function My(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Wr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,t="asc"){this.field=e,this.dir=t}}function WR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{}class Lt extends Rv{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new KR(e,t,i):t==="array-contains"?new YR(e,i):t==="in"?new XR(e,i):t==="not-in"?new JR(e,i):t==="array-contains-any"?new ZR(e,i):new Lt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new GR(e,i):new QR(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ra(t,this.value)):t!==null&&ms(this.value)===ms(t)&&this.matchesComparison(ra(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends Rv{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Ir(e,t)}matches(e){return Av(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Av(n){return n.op==="and"}function Cv(n){return qR(n)&&Av(n)}function qR(n){for(const e of n.filters)if(e instanceof Ir)return!1;return!0}function uf(n){if(n instanceof Lt)return n.field.canonicalString()+n.op.toString()+ia(n.value);if(Cv(n))return n.filters.map(e=>uf(e)).join(",");{const e=n.filters.map(t=>uf(t)).join(",");return`${n.op}(${e})`}}function Pv(n,e){return n instanceof Lt?function(i,o){return o instanceof Lt&&i.op===o.op&&i.field.isEqual(o.field)&&Wr(i.value,o.value)}(n,e):n instanceof Ir?function(i,o){return o instanceof Ir&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,c,h)=>l&&Pv(c,o.filters[h]),!0):!1}(n,e):void Le()}function kv(n){return n instanceof Lt?function(t){return`${t.field.canonicalString()} ${t.op} ${ia(t.value)}`}(n):n instanceof Ir?function(t){return t.op.toString()+" {"+t.getFilters().map(kv).join(" ,")+"}"}(n):"Filter"}class KR extends Lt{constructor(e,t,i){super(e,t,i),this.key=Ae.fromName(i.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class GR extends Lt{constructor(e,t){super(e,"in",t),this.keys=xv("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class QR extends Lt{constructor(e,t){super(e,"not-in",t),this.keys=xv("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function xv(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ae.fromName(i.referenceValue))}class YR extends Lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jf(t)&&yl(t.arrayValue,this.value)}}class XR extends Lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&yl(this.value.arrayValue,t)}}class JR extends Lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!yl(this.value.arrayValue,t)}}class ZR extends Lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>yl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,t=null,i=[],o=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=h,this.ue=null}}function Fy(n,e=null,t=[],i=[],o=null,l=null,c=null){return new eA(n,e,t,i,o,l,c)}function zf(n){const e=Me(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>uf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Bc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ia(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ia(i)).join(",")),e.ue=t}return e.ue}function Bf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!WR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Pv(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!My(n.startAt,e.startAt)&&My(n.endAt,e.endAt)}function cf(n){return Ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,t=null,i=[],o=[],l=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function tA(n,e,t,i,o,l,c,h){return new pa(n,e,t,i,o,l,c,h)}function Hc(n){return new pa(n)}function Uy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Nv(n){return n.collectionGroup!==null}function ll(n){const e=Me(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Ft(en.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(h=h.add(y.field))})}),h})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new _l(l,i))}),t.has(en.keyField().canonicalString())||e.ce.push(new _l(en.keyField(),i))}return e.ce}function zr(n){const e=Me(n);return e.le||(e.le=nA(e,ll(n))),e.le}function nA(n,e){if(n.limitType==="F")return Fy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new _l(o.field,l)});const t=n.endAt?new wc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new wc(n.startAt.position,n.startAt.inclusive):null;return Fy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function df(n,e){const t=n.filters.concat([e]);return new pa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function hf(n,e,t){return new pa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wc(n,e){return Bf(zr(n),zr(e))&&n.limitType===e.limitType}function Dv(n){return`${zf(zr(n))}|lt:${n.limitType}`}function qo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>kv(o)).join(", ")}]`),Bc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>ia(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>ia(o)).join(",")),`Target(${i})`}(zr(n))}; limitType=${n.limitType})`}function qc(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ae.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of ll(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,h,p){const y=by(c,h,p);return c.inclusive?y<=0:y<0}(i.startAt,ll(i),o)||i.endAt&&!function(c,h,p){const y=by(c,h,p);return c.inclusive?y>=0:y>0}(i.endAt,ll(i),o))}(n,e)}function rA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Lv(n){return(e,t)=>{let i=!1;for(const o of ll(n)){const l=iA(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function iA(n,e,t){const i=n.field.isKeyField()?Ae.comparator(e.key,t.key):function(l,c,h){const p=c.data.field(l),y=h.data.field(l);return p!==null&&y!==null?ra(p,y):Le()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ro(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return Tv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=new It(Ae.comparator);function vi(){return sA}const Ov=new It(Ae.comparator);function il(...n){let e=Ov;for(const t of n)e=e.insert(t.key,t);return e}function Vv(n){let e=Ov;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ks(){return ul()}function bv(){return ul()}function ul(){return new io(n=>n.toString(),(n,e)=>n.isEqual(e))}const oA=new It(Ae.comparator),aA=new Ft(Ae.comparator);function He(...n){let e=aA;for(const t of n)e=e.add(t);return e}const lA=new Ft(Ke);function uA(){return lA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ec(e)?"-0":e}}function Mv(n){return{integerValue:""+n}}function cA(n,e){return FR(e)?Mv(e):$f(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(){this._=void 0}}function dA(n,e,t){return n instanceof Tc?function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Uf(l)&&(l=$c(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}}(t,e):n instanceof vl?Uv(n,e):n instanceof El?jv(n,e):function(o,l){const c=Fv(o,l),h=jy(c)+jy(o.Pe);return lf(c)&&lf(o.Pe)?Mv(h):$f(o.serializer,h)}(n,e)}function hA(n,e,t){return n instanceof vl?Uv(n,e):n instanceof El?jv(n,e):t}function Fv(n,e){return n instanceof Ic?function(i){return lf(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Tc extends Kc{}class vl extends Kc{constructor(e){super(),this.elements=e}}function Uv(n,e){const t=zv(e);for(const i of n.elements)t.some(o=>Wr(o,i))||t.push(i);return{arrayValue:{values:t}}}class El extends Kc{constructor(e){super(),this.elements=e}}function jv(n,e){let t=zv(e);for(const i of n.elements)t=t.filter(o=>!Wr(o,i));return{arrayValue:{values:t}}}class Ic extends Kc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function jy(n){return kt(n.integerValue||n.doubleValue)}function zv(n){return jf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function fA(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof vl&&o instanceof vl||i instanceof El&&o instanceof El?na(i.elements,o.elements,Wr):i instanceof Ic&&o instanceof Ic?Wr(i.Pe,o.Pe):i instanceof Tc&&o instanceof Tc}(n.transform,e.transform)}class pA{constructor(e,t){this.version=e,this.transformResults=t}}class wr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Gc{}function Bv(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Hf(n.key,wr.none()):new kl(n.key,n.data,wr.none());{const t=n.data,i=Jn.empty();let o=new Ft(en.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new so(n.key,i,new Er(o.toArray()),wr.none())}}function mA(n,e,t){n instanceof kl?function(o,l,c){const h=o.value.clone(),p=By(o.fieldTransforms,l,c.transformResults);h.setAll(p),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof so?function(o,l,c){if(!sc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const h=By(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll($v(o)),p.setAll(h),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function cl(n,e,t,i){return n instanceof kl?function(l,c,h,p){if(!sc(l.precondition,c))return h;const y=l.value.clone(),v=$y(l.fieldTransforms,p,c);return y.setAll(v),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof so?function(l,c,h,p){if(!sc(l.precondition,c))return h;const y=$y(l.fieldTransforms,p,c),v=c.data;return v.setAll($v(l)),v.setAll(y),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(l,c,h){return sc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,e,t)}function gA(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=Fv(i.transform,o||null);l!=null&&(t===null&&(t=Jn.empty()),t.set(i.field,l))}return t||null}function zy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&na(i,o,(l,c)=>fA(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class kl extends Gc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class so extends Gc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function $v(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function By(n,e,t){const i=new Map;at(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,h=e.data.field(l.field);i.set(l.field,hA(c,h,t[o]))}return i}function $y(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,dA(l,c,e))}return i}class Hf extends Gc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yA extends Gc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&mA(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=cl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=cl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=bv();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=t.has(o.key)?null:h;const p=Bv(c,h);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ve.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),He())}isEqual(e){return this.batchId===e.batchId&&na(this.mutations,e.mutations,(t,i)=>zy(t,i))&&na(this.baseMutations,e.baseMutations,(t,i)=>zy(t,i))}}class Wf{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){at(e.mutations.length===i.length);let o=function(){return oA}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new Wf(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,Je;function wA(n){switch(n){default:return Le();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function Hv(n){if(n===void 0)return _i("GRPC error has no .code"),Z.UNKNOWN;switch(n){case Dt.OK:return Z.OK;case Dt.CANCELLED:return Z.CANCELLED;case Dt.UNKNOWN:return Z.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return Z.INTERNAL;case Dt.UNAVAILABLE:return Z.UNAVAILABLE;case Dt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Dt.NOT_FOUND:return Z.NOT_FOUND;case Dt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Dt.ABORTED:return Z.ABORTED;case Dt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Dt.DATA_LOSS:return Z.DATA_LOSS;default:return Le()}}(Je=Dt||(Dt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=new Ys([4294967295,4294967295],0);function Hy(n){const e=TA().encode(n),t=new pv;return t.update(e),new Uint8Array(t.digest())}function Wy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ys([t,i],0),new Ys([o,l],0)]}class qf{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new sl(`Invalid padding: ${t}`);if(i<0)throw new sl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new sl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new sl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Ys.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(Ys.fromNumber(i)));return o.compare(IA)===1&&(o=new Ys([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Hy(e),[i,o]=Wy(t);for(let l=0;l<this.hashCount;l++){const c=this.Ee(i,o,l);if(!this.de(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new qf(l,o,t);return i.forEach(h=>c.insert(h)),c}insert(e){if(this.Te===0)return;const t=Hy(e),[i,o]=Wy(t);for(let l=0;l<this.hashCount;l++){const c=this.Ee(i,o,l);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,xl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Qc(Ve.min(),o,new It(Ke),vi(),He())}}class xl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new xl(i,t,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class Wv{constructor(e,t){this.targetId=e,this.me=t}}class qv{constructor(e,t,i=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class qy{constructor(){this.fe=0,this.ge=Ky(),this.pe=tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=He(),t=He(),i=He();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Le()}}),new xl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Ky()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,at(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class SA{constructor(e){this.Le=e,this.Be=new Map,this.ke=vi(),this.qe=Yu(),this.Qe=Yu(),this.Ke=new It(Ke)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Le()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(cf(l))if(i===0){const c=new Ae(l.path);this.We(t,c,hn.newNoDocument(c,Ve.min()))}else at(i===1);else{const c=this.Ze(t);if(c!==i){const h=this.Xe(e),p=h?this.et(h,e,c):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,h;try{c=ps(i).toUint8Array()}catch(p){if(p instanceof Iv)return ta("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new qf(c,o,l)}catch(p){return ta(p instanceof sl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.Te===0?null:h}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const c=this.Le.nt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,c)=>{const h=this.Ye(c);if(h){if(l.current&&cf(h.target)){const p=new Ae(h.target.path);this.st(p).has(c)||this.ot(c,p)||this.We(c,p,hn.newNoDocument(p,e))}l.be&&(t.set(c,l.ve()),l.Ce())}});let i=He();this.Qe.forEach((l,c)=>{let h=!0;c.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(l))}),this.ke.forEach((l,c)=>c.setReadTime(e));const o=new Qc(e,t,this.Ke,this.ke,i);return this.ke=vi(),this.qe=Yu(),this.Qe=Yu(),this.Ke=new It(Ke),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new qy,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Ft(Ke),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ft(Ke),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new qy),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Yu(){return new It(Ae.comparator)}function Ky(){return new It(Ae.comparator)}const RA={asc:"ASCENDING",desc:"DESCENDING"},AA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CA={and:"AND",or:"OR"};class PA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ff(n,e){return n.useProto3Json||Bc(e)?e:{value:e}}function Sc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kv(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function kA(n,e){return Sc(n,e.toTimestamp())}function Br(n){return at(!!n),Ve.fromTimestamp(function(t){const i=fs(t);return new Mt(i.seconds,i.nanos)}(n))}function Kf(n,e){return pf(n,e).canonicalString()}function pf(n,e){const t=function(o){return new _t(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Gv(n){const e=_t.fromString(n);return at(Zv(e)),e}function mf(n,e){return Kf(n.databaseId,e.path)}function Wh(n,e){const t=Gv(e);if(t.get(1)!==n.databaseId.projectId)throw new ye(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ye(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ae(Yv(t))}function Qv(n,e){return Kf(n.databaseId,e)}function xA(n){const e=Gv(n);return e.length===4?_t.emptyPath():Yv(e)}function gf(n){return new _t(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Yv(n){return at(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Gy(n,e,t){return{name:mf(n,e),fields:t.value.mapValue.fields}}function NA(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Le()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,v){return y.useProto3Json?(at(v===void 0||typeof v=="string"),tn.fromBase64String(v||"")):(at(v===void 0||v instanceof Buffer||v instanceof Uint8Array),tn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(y){const v=y.code===void 0?Z.UNKNOWN:Hv(y.code);return new ye(v,y.message||"")}(c);t=new qv(i,o,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Wh(n,i.document.name),l=Br(i.document.updateTime),c=i.document.createTime?Br(i.document.createTime):Ve.min(),h=new Jn({mapValue:{fields:i.document.fields}}),p=hn.newFoundDocument(o,l,c,h),y=i.targetIds||[],v=i.removedTargetIds||[];t=new oc(y,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Wh(n,i.document),l=i.readTime?Br(i.readTime):Ve.min(),c=hn.newNoDocument(o,l),h=i.removedTargetIds||[];t=new oc([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Wh(n,i.document),l=i.removedTargetIds||[];t=new oc([],l,o,null)}else{if(!("filter"in e))return Le();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new EA(o,l),h=i.targetId;t=new Wv(h,c)}}return t}function DA(n,e){let t;if(e instanceof kl)t={update:Gy(n,e.key,e.value)};else if(e instanceof Hf)t={delete:mf(n,e.key)};else if(e instanceof so)t={update:Gy(n,e.key,e.data),updateMask:zA(e.fieldMask)};else{if(!(e instanceof yA))return Le();t={verify:mf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const h=c.transform;if(h instanceof Tc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof vl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof El)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Ic)return{fieldPath:c.field.canonicalString(),increment:h.Pe};throw Le()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:kA(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Le()}(n,e.precondition)),t}function LA(n,e){return n&&n.length>0?(at(e!==void 0),n.map(t=>function(o,l){let c=o.updateTime?Br(o.updateTime):Br(l);return c.isEqual(Ve.min())&&(c=Br(l)),new pA(c,o.transformResults||[])}(t,e))):[]}function OA(n,e){return{documents:[Qv(n,e.path)]}}function VA(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Qv(n,o);const l=function(y){if(y.length!==0)return Jv(Ir.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(y){if(y.length!==0)return y.map(v=>function(I){return{field:Ko(I.field),direction:FA(I.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=ff(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function bA(n){let e=xA(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){at(i===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(T){const I=Xv(T);return I instanceof Ir&&Cv(I)?I.getFilters():[I]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(I=>function(V){return new _l(Go(V.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(I))}(t.orderBy));let h=null;t.limit&&(h=function(T){let I;return I=typeof T=="object"?T.value:T,Bc(I)?null:I}(t.limit));let p=null;t.startAt&&(p=function(T){const I=!!T.before,C=T.values||[];return new wc(C,I)}(t.startAt));let y=null;return t.endAt&&(y=function(T){const I=!T.before,C=T.values||[];return new wc(C,I)}(t.endAt)),tA(e,o,c,l,h,"F",p,y)}function MA(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Xv(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Go(t.unaryFilter.field);return Lt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Go(t.unaryFilter.field);return Lt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Go(t.unaryFilter.field);return Lt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Go(t.unaryFilter.field);return Lt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Le()}}(n):n.fieldFilter!==void 0?function(t){return Lt.create(Go(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Le()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ir.create(t.compositeFilter.filters.map(i=>Xv(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Le()}}(t.compositeFilter.op))}(n):Le()}function FA(n){return RA[n]}function UA(n){return AA[n]}function jA(n){return CA[n]}function Ko(n){return{fieldPath:n.canonicalString()}}function Go(n){return en.fromServerFormat(n.fieldPath)}function Jv(n){return n instanceof Lt?function(t){if(t.op==="=="){if(Vy(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NAN"}};if(Oy(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Vy(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NOT_NAN"}};if(Oy(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ko(t.field),op:UA(t.op),value:t.value}}}(n):n instanceof Ir?function(t){const i=t.getFilters().map(o=>Jv(o));return i.length===1?i[0]:{compositeFilter:{op:jA(t.op),filters:i}}}(n):Le()}function zA(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Zv(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,t,i,o,l=Ve.min(),c=Ve.min(),h=tn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.ht=e}}function $A(n){const e=bA({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?hf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(){this.ln=new WA}addToCollectionParentIndex(e,t){return this.ln.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(hs.min())}updateCollectionGroup(e,t,i){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class WA{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Ft(_t.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Ft(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(41943040,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new sa(0)}static Qn(){return new sa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy([n,e],[t,i]){const o=Ke(n,t);return o===0?Ke(e,i):o}class qA{constructor(e){this.Gn=e,this.buffer=new Ft(Yy),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Yy(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class KA{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){fa(t)?ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await ha(t)}await this.Yn(3e5)})}}class GA{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return J.resolve(zc.oe);const i=new qA(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Qy)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qy):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,l,c,h,p,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(i=T,h=Date.now(),this.removeTargets(e,i,t))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(y=Date.now(),Wo()<=Be.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(h-c)+`ms
	Removed ${l} targets in `+(p-h)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-v}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function QA(n,e){return new GA(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(){this.changes=new io(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?J.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&cl(i.mutation,o,Er.empty(),Mt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,He()).next(()=>i))}getLocalViewOfDocuments(e,t,i=He()){const o=Ks();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let c=il();return l.forEach((h,p)=>{c=c.insert(h,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Ks();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,He()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,o){let l=vi();const c=ul(),h=function(){return ul()}();return t.forEach((p,y)=>{const v=i.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof so)?l=l.insert(y.key,y):v!==void 0?(c.set(y.key,v.mutation.getFieldMask()),cl(v.mutation,y,v.mutation.getFieldMask(),Mt.now())):c.set(y.key,Er.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,v)=>c.set(y,v)),t.forEach((y,v)=>{var T;return h.set(y,new XA(v,(T=c.get(y))!==null&&T!==void 0?T:null))}),h))}recalculateAndSaveOverlays(e,t){const i=ul();let o=new It((c,h)=>c-h),l=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let v=i.get(p)||Er.empty();v=h.applyToLocalView(y,v),i.set(p,v);const T=(o.get(h.batchId)||He()).add(p);o=o.insert(h.batchId,T)})}).next(()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),y=p.key,v=p.value,T=bv();v.forEach(I=>{if(!l.has(I)){const C=Bv(t.get(I),i.get(I));C!==null&&T.set(I,C),l=l.add(I)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,T))}return J.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return Ae.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Nv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):J.resolve(Ks());let h=-1,p=l;return c.next(y=>J.forEach(y,(v,T)=>(h<T.largestBatchId&&(h=T.largestBatchId),l.get(v)?J.resolve():this.remoteDocumentCache.getEntry(e,v).next(I=>{p=p.insert(v,I)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,He())).next(v=>({batchId:h,changes:Vv(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next(i=>{let o=il();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=il();return this.indexManager.getCollectionParents(e,l).next(h=>J.forEach(h,p=>{const y=function(T,I){return new pa(I,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(v=>{v.forEach((T,I)=>{c=c.insert(T,I)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(c=>{l.forEach((p,y)=>{const v=y.getKey();c.get(v)===null&&(c=c.insert(v,hn.newInvalidDocument(v)))});let h=il();return c.forEach((p,y)=>{const v=l.get(p);v!==void 0&&cl(v.mutation,y,Er.empty(),Mt.now()),qc(t,y)&&(h=h.insert(p,y))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return J.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Br(o.createTime)}}(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:$A(o.bundledQuery),readTime:Br(o.readTime)}}(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.overlays=new It(Ae.comparator),this.Er=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ks();return J.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Tt(e,t,l)}),J.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(i)),J.resolve()}getOverlaysForCollection(e,t,i){const o=Ks(),l=t.length+1,c=new Ae(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new It((y,v)=>y-v);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let v=l.get(y.largestBatchId);v===null&&(v=Ks(),l=l.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const h=Ks(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,v)=>h.set(y,v)),!(h.size()>=o)););return J.resolve(h)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new vA(t,i));let l=this.Er.get(t);l===void 0&&(l=He(),this.Er.set(t,l)),this.Er.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(){this.dr=new Ft($t.Ar),this.Rr=new Ft($t.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new $t(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new $t(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new Ae(new _t([])),i=new $t(t,e),o=new $t(t,e+1),l=[];return this.Rr.forEachInRange([i,o],c=>{this.gr(c),l.push(c.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Ae(new _t([])),i=new $t(t,e),o=new $t(t,e+1);let l=He();return this.Rr.forEachInRange([i,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new $t(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class $t{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Ae.comparator(e.key,t.key)||Ke(e.br,t.br)}static Vr(e,t){return Ke(e.br,t.br)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Ft($t.Ar)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new _A(l,t,i,o);this.mutationQueue.push(c);for(const h of o)this.vr=this.vr.add(new $t(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return J.resolve(c)}lookupMutationBatch(e,t){return J.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),l=o<0?0:o;return J.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new $t(t,0),o=new $t(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([i,o],c=>{const h=this.Cr(c.br);l.push(h)}),J.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ft(Ke);return t.forEach(o=>{const l=new $t(o,0),c=new $t(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,c],h=>{i=i.add(h.br)})}),J.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;Ae.isDocumentKey(l)||(l=l.child(""));const c=new $t(new Ae(l),0);let h=new Ft(Ke);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(h=h.add(p.br)),!0)},c),J.resolve(this.Mr(h))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){at(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return J.forEach(t.mutations,o=>{const l=new $t(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new $t(t,0),o=this.vr.firstAfterOrEqual(i);return J.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.Nr=e,this.docs=function(){return new It(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return J.resolve(i?i.document.mutableCopy():hn.newInvalidDocument(t))}getEntries(e,t){let i=vi();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():hn.newInvalidDocument(o))}),J.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=vi();const c=t.path,h=new Ae(c.child("")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:y,value:{document:v}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||OR(LR(v),i)<=0||(o.has(v.key)||qc(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return J.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Le()}Lr(e,t){return J.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new iC(this)}getSize(e){return J.resolve(this.size)}}class iC extends YA{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),J.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.persistence=e,this.Br=new io(t=>zf(t),Bf),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.kr=0,this.qr=new Gf,this.targetCount=0,this.Qr=sa.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),J.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new sa(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.Un(t),J.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Br.forEach((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Br.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),J.waitFor(l).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return J.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),J.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),J.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return J.resolve(i)}containsKey(e,t){return J.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,t){this.Kr={},this.overlays={},this.$r=new zc(0),this.Ur=!1,this.Ur=!0,this.Wr=new tC,this.referenceDelegate=e(this),this.Gr=new sC(this),this.indexManager=new HA,this.remoteDocumentCache=function(o){return new rC(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new BA(t),this.jr=new ZA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new eC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new nC(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){ge("MemoryPersistence","Starting transaction:",e);const o=new oC(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return J.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class oC extends bR{constructor(e){super(),this.currentSequenceNumber=e}}class Qf{constructor(e){this.persistence=e,this.Zr=new Gf,this.Xr=null}static ei(e){return new Qf(e)}get ti(){if(this.Xr)return this.Xr;throw Le()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),J.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),J.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ti,i=>{const o=Ae.fromPath(i);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Ve.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return J.or([()=>J.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Rc{constructor(e,t){this.persistence=e,this.ri=new io(i=>UR(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=QA(this,t)}static ei(e,t){return new Rc(e,t)}Hr(){}Jr(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return J.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(l=>l?J.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,c=>this.ir(e,c,t).next(h=>{h||(i++,l.removeEntry(c,Ve.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),J.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),J.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=rc(e.data.value)),t}ir(e,t,i){return J.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return J.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=He(),o=He();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Yf(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return i0()?8:MR(fn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Xi(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.es(e,t,o,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new aC;return this.ts(e,t,c).next(h=>{if(l.result=h,this.Hi)return this.ns(e,t,c,h.size)})}).next(()=>l.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(Wo()<=Be.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",qo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),J.resolve()):(Wo()<=Be.DEBUG&&ge("QueryEngine","Query:",qo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(Wo()<=Be.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",qo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zr(t))):J.resolve())}Xi(e,t){if(Uy(t))return J.resolve(null);let i=zr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=hf(t,null,"F"),i=zr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=He(...l);return this.Zi.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.rs(t,h);return this.ss(t,y,c,p.readTime)?this.Xi(e,hf(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,i,o){return Uy(t)||o.isEqual(Ve.min())?J.resolve(null):this.Zi.getDocuments(e,i).next(l=>{const c=this.rs(t,l);return this.ss(t,c,i,o)?J.resolve(null):(Wo()<=Be.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qo(t)),this.os(e,c,t,DR(o,-1)).next(h=>h))})}rs(e,t){let i=new Ft(Lv(e));return t.forEach((o,l)=>{qc(e,l)&&(i=i.add(l))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,i){return Wo()<=Be.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",qo(t)),this.Zi.getDocumentsMatchingQuery(e,t,hs.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new It(Ke),this.cs=new io(l=>zf(l),Bf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JA(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function cC(n,e,t,i){return new uC(n,e,t,i)}async function tE(n,e){const t=Me(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],h=[];let p=He();for(const y of o){c.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}for(const y of l){h.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Ts:y,removedBatchIds:c,addedBatchIds:h}))})})}function dC(n,e){const t=Me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(h,p,y,v){const T=y.batch,I=T.keys();let C=J.resolve();return I.forEach(V=>{C=C.next(()=>v.getEntry(p,V)).next($=>{const U=y.docVersions.get(V);at(U!==null),$.version.compareTo(U)<0&&(T.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),v.addEntry($)))})}),C.next(()=>h.mutationQueue.removeMutationBatch(p,T))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let p=He();for(let y=0;y<h.mutationResults.length;++y)h.mutationResults[y].transformResults.length>0&&(p=p.add(h.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function nE(n){const e=Me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function hC(n,e){const t=Me(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const h=[];e.targetChanges.forEach((v,T)=>{const I=o.get(T);if(!I)return;h.push(t.Gr.removeMatchingKeys(l,v.removedDocuments,T).next(()=>t.Gr.addMatchingKeys(l,v.addedDocuments,T)));let C=I.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?C=C.withResumeToken(tn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,i)),o=o.insert(T,C),function($,U,H){return $.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(I,C,v)&&h.push(t.Gr.updateTargetData(l,C))});let p=vi(),y=He();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),h.push(fC(l,c,e.documentUpdates).next(v=>{p=v.Is,y=v.Es})),!i.isEqual(Ve.min())){const v=t.Gr.getLastRemoteSnapshotVersion(l).next(T=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,i));h.push(v)}return J.waitFor(h).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.us=o,l))}function fC(n,e,t){let i=He(),o=He();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=vi();return t.forEach((h,p)=>{const y=l.get(h);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(h)),p.isNoDocument()&&p.version.isEqual(Ve.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):ge("LocalStore","Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",p.version)}),{Is:c,Es:o}})}function pC(n,e){const t=Me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function mC(n,e){const t=Me(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(l=>l?(o=l,J.resolve(o)):t.Gr.allocateTargetId(i).next(c=>(o=new ss(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function yf(n,e,t){const i=Me(n),o=i.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!fa(c))throw c;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function Xy(n,e,t){const i=Me(n);let o=Ve.min(),l=He();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,y,v){const T=Me(p),I=T.cs.get(v);return I!==void 0?J.resolve(T.us.get(I)):T.Gr.getTargetData(y,v)}(i,c,zr(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,h.targetId).next(p=>{l=p})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,t?o:Ve.min(),t?l:He())).next(h=>(gC(i,rA(e),h),{documents:h,ds:l})))}function gC(n,e,t){let i=n.ls.get(e)||Ve.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ls.set(e,i)}class Jy{constructor(){this.activeTargetIds=uA()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yC{constructor(){this._o=new Jy,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Jy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu=null;function qh(){return Xu===null?Xu=function(){return 268435456+Math.round(2147483648*Math.random())}():Xu++,"0x"+Xu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class wC extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,i,o,l,c){const h=qh(),p=this.No(t,i.toUriEncodedString());ge("RestConnection",`Sending RPC '${t}' ${h}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,l,c),this.Bo(t,p,y,o).then(v=>(ge("RestConnection",`Received RPC '${t}' ${h}: `,v),v),v=>{throw ta("RestConnection",`RPC '${t}' ${h} failed with error: `,v,"url: ",p,"request:",o),v})}ko(t,i,o,l,c,h){return this.Oo(t,i,o,l,c)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+da}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),o&&o.headers.forEach((l,c)=>t[c]=l)}No(t,i){const o=vC[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const l=qh();return new Promise((c,h)=>{const p=new mv;p.setWithCredentials(!0),p.listenOnce(gv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case nc.NO_ERROR:const v=p.getResponseJson();ge(cn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case nc.TIMEOUT:ge(cn,`RPC '${e}' ${l} timed out`),h(new ye(Z.DEADLINE_EXCEEDED,"Request time out"));break;case nc.HTTP_ERROR:const T=p.getStatus();if(ge(cn,`RPC '${e}' ${l} failed with status:`,T,"response text:",p.getResponseText()),T>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const C=I==null?void 0:I.error;if(C&&C.status&&C.message){const V=function(U){const H=U.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(H)>=0?H:Z.UNKNOWN}(C.status);h(new ye(V,C.message))}else h(new ye(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new ye(Z.UNAVAILABLE,"Connection failed."));break;default:Le()}}finally{ge(cn,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);ge(cn,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,i,15)})}qo(e,t,i){const o=qh(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=vv(),h=_v(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");ge(cn,`Creating RPC '${e}' stream ${o}: ${v}`,p);const T=c.createWebChannel(v,p);let I=!1,C=!1;const V=new EC({Eo:U=>{C?ge(cn,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(I||(ge(cn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),I=!0),ge(cn,`RPC '${e}' stream ${o} sending:`,U),T.send(U))},Ao:()=>T.close()}),$=(U,H,ie)=>{U.listen(H,ne=>{try{ie(ne)}catch(he){setTimeout(()=>{throw he},0)}})};return $(T,rl.EventType.OPEN,()=>{C||(ge(cn,`RPC '${e}' stream ${o} transport opened.`),V.So())}),$(T,rl.EventType.CLOSE,()=>{C||(C=!0,ge(cn,`RPC '${e}' stream ${o} transport closed`),V.Do())}),$(T,rl.EventType.ERROR,U=>{C||(C=!0,ta(cn,`RPC '${e}' stream ${o} transport errored:`,U),V.Do(new ye(Z.UNAVAILABLE,"The operation could not be completed")))}),$(T,rl.EventType.MESSAGE,U=>{var H;if(!C){const ie=U.data[0];at(!!ie);const ne=ie,he=(ne==null?void 0:ne.error)||((H=ne[0])===null||H===void 0?void 0:H.error);if(he){ge(cn,`RPC '${e}' stream ${o} received error:`,he);const j=he.status;let ce=function(R){const x=Dt[R];if(x!==void 0)return Hv(x)}(j),k=he.message;ce===void 0&&(ce=Z.INTERNAL,k="Unknown error status: "+j+" with message "+he.message),C=!0,V.Do(new ye(ce,k)),T.close()}else ge(cn,`RPC '${e}' stream ${o} received:`,ie),V.vo(ie)}}),$(h,yv.STAT_EVENT,U=>{U.stat===of.PROXY?ge(cn,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===of.NOPROXY&&ge(cn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.bo()},0),V}}function Kh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(n){return new PA(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,t,i=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,t,i,o,l,c,h,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new rE(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(_i(t.toString()),_i("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new ye(Z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TC extends iE{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=NA(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ve.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ve.min():c.readTime?Br(c.readTime):Ve.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=gf(this.serializer),t.addTarget=function(l,c){let h;const p=c.target;if(h=cf(p)?{documents:OA(l,p)}:{query:VA(l,p).ct},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=Kv(l,c.resumeToken);const y=ff(l,c.expectedCount);y!==null&&(h.expectedCount=y)}else if(c.snapshotVersion.compareTo(Ve.min())>0){h.readTime=Sc(l,c.snapshotVersion.toTimestamp());const y=ff(l,c.expectedCount);y!==null&&(h.expectedCount=y)}return h}(this.serializer,e);const i=MA(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=gf(this.serializer),t.removeTarget=e,this.c_(t)}}class IC extends iE{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return at(!!e.streamToken),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){at(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=LA(e.writeResults,e.commitTime),i=Br(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=gf(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>DA(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new ye(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Oo(e,pf(t,i),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(Z.UNKNOWN,l.toString())})}ko(e,t,i,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.ko(e,pf(t,i),o,c,h,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(Z.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class RC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(_i(t),this.C_=!1):ge("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{oo(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Me(p);y.k_.add(4),await Nl(y),y.K_.set("Unknown"),y.k_.delete(4),await Xc(y)}(this))})}),this.K_=new RC(i,o)}}async function Xc(n){if(oo(n))for(const e of n.q_)await e(!0)}async function Nl(n){for(const e of n.q_)await e(!1)}function sE(n,e){const t=Me(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),ep(t)?Zf(t):ma(t).s_()&&Jf(t,e))}function Xf(n,e){const t=Me(n),i=ma(t);t.B_.delete(e),i.s_()&&oE(t,e),t.B_.size===0&&(i.s_()?i.a_():oo(t)&&t.K_.set("Unknown"))}function Jf(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ma(n).V_(e)}function oE(n,e){n.U_.xe(e),ma(n).m_(e)}function Zf(n){n.U_=new SA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),ma(n).start(),n.K_.F_()}function ep(n){return oo(n)&&!ma(n).i_()&&n.B_.size>0}function oo(n){return Me(n).k_.size===0}function aE(n){n.U_=void 0}async function CC(n){n.K_.set("Online")}async function PC(n){n.B_.forEach((e,t)=>{Jf(n,e)})}async function kC(n,e){aE(n),ep(n)?(n.K_.O_(e),Zf(n)):n.K_.set("Unknown")}async function xC(n,e,t){if(n.K_.set("Online"),e instanceof qv&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const h of l.targetIds)o.B_.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.B_.delete(h),o.U_.removeTarget(h))}(n,e)}catch(i){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Ac(n,i)}else if(e instanceof oc?n.U_.$e(e):e instanceof Wv?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ve.min()))try{const i=await nE(n.localStore);t.compareTo(i)>=0&&await function(l,c){const h=l.U_.it(c);return h.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.B_.get(y);v&&l.B_.set(y,v.withResumeToken(p.resumeToken,c))}}),h.targetMismatches.forEach((p,y)=>{const v=l.B_.get(p);if(!v)return;l.B_.set(p,v.withResumeToken(tn.EMPTY_BYTE_STRING,v.snapshotVersion)),oE(l,p);const T=new ss(v.target,p,y,v.sequenceNumber);Jf(l,T)}),l.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){ge("RemoteStore","Failed to raise snapshot:",i),await Ac(n,i)}}async function Ac(n,e,t){if(!fa(e))throw e;n.k_.add(1),await Nl(n),n.K_.set("Offline"),t||(t=()=>nE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Xc(n)})}function lE(n,e){return e().catch(t=>Ac(n,t,e))}async function Jc(n){const e=Me(n),t=gs(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;NC(e);)try{const o=await pC(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,DC(e,o)}catch(o){await Ac(e,o)}uE(e)&&cE(e)}function NC(n){return oo(n)&&n.L_.length<10}function DC(n,e){n.L_.push(e);const t=gs(n);t.s_()&&t.f_&&t.g_(e.mutations)}function uE(n){return oo(n)&&!gs(n).i_()&&n.L_.length>0}function cE(n){gs(n).start()}async function LC(n){gs(n).w_()}async function OC(n){const e=gs(n);for(const t of n.L_)e.g_(t.mutations)}async function VC(n,e,t){const i=n.L_.shift(),o=Wf.from(i,e,t);await lE(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Jc(n)}async function bC(n,e){e&&gs(n).f_&&await async function(i,o){if(function(c){return wA(c)&&c!==Z.ABORTED}(o.code)){const l=i.L_.shift();gs(i).__(),await lE(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Jc(i)}}(n,e),uE(n)&&cE(n)}async function e_(n,e){const t=Me(n);t.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const i=oo(t);t.k_.add(3),await Nl(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Xc(t)}async function MC(n,e){const t=Me(n);e?(t.k_.delete(2),await Xc(t)):e||(t.k_.add(2),await Nl(t),t.K_.set("Unknown"))}function ma(n){return n.W_||(n.W_=function(t,i,o){const l=Me(t);return l.b_(),new TC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:CC.bind(null,n),mo:PC.bind(null,n),po:kC.bind(null,n),R_:xC.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),ep(n)?Zf(n):n.K_.set("Unknown")):(await n.W_.stop(),aE(n))})),n.W_}function gs(n){return n.G_||(n.G_=function(t,i,o){const l=Me(t);return l.b_(),new IC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:LC.bind(null,n),po:bC.bind(null,n),p_:OC.bind(null,n),y_:VC.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Jc(n)):(await n.G_.stop(),n.L_.length>0&&(ge("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,h=new tp(e,t,c,o,l);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function np(n,e){if(_i("AsyncQueue",`${e}: ${n}`),fa(n))return new ye(Z.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{static emptySet(e){return new Yo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ae.comparator(t.key,i.key):(t,i)=>Ae.comparator(t.key,i.key),this.keyedMap=il(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Yo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(){this.z_=new It(Ae.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Le():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class oa{constructor(e,t,i,o,l,c,h,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new oa(e,t,Yo.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class UC{constructor(){this.queries=n_(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Me(t),l=o.queries;o.queries=n_(),l.forEach((c,h)=>{for(const p of h.J_)p.onError(i)})})(this,new ye(Z.ABORTED,"Firestore shutting down"))}}function n_(){return new io(n=>Dv(n),Wc)}async function rp(n,e){const t=Me(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(i=2):(l=new FC,i=e.Z_()?0:1);try{switch(i){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const h=np(c,`Initialization of query '${qo(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&sp(t)}async function ip(n,e){const t=Me(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.J_.indexOf(e);c>=0&&(l.J_.splice(c,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function jC(n,e){const t=Me(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const h of c.J_)h.ta(o)&&(i=!0);c.H_=o}}i&&sp(t)}function zC(n,e,t){const i=Me(n),o=i.queries.get(e);if(o)for(const l of o.J_)l.onError(t);i.queries.delete(e)}function sp(n){n.X_.forEach(e=>{e.next()})}var _f,r_;(r_=_f||(_f={})).na="default",r_.Cache="cache";class op{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new oa(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=oa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==_f.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e){this.key=e}}class hE{constructor(e){this.key=e}}class BC{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=He(),this.mutatedKeys=He(),this.Va=Lv(e),this.ma=new Yo(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new t_,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,h=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,T)=>{const I=o.get(v),C=qc(this.query,T)?T:null,V=!!I&&this.mutatedKeys.has(I.key),$=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let U=!1;I&&C?I.data.isEqual(C.data)?V!==$&&(i.track({type:3,doc:C}),U=!0):this.ya(I,C)||(i.track({type:2,doc:C}),U=!0,(p&&this.Va(C,p)>0||y&&this.Va(C,y)<0)&&(h=!0)):!I&&C?(i.track({type:0,doc:C}),U=!0):I&&!C&&(i.track({type:1,doc:I}),U=!0,(p||y)&&(h=!0)),U&&(C?(c=c.add(C),l=$?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{ma:c,pa:i,ss:h,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((v,T)=>function(C,V){const $=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le()}};return $(C)-$(V)}(v.type,T.type)||this.Va(v.doc,T.doc)),this.wa(i),o=o!=null&&o;const h=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,c.length!==0||y?{snapshot:new oa(this.query,e.ma,l,c,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:h}:{ba:h}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new t_,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=He(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new hE(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new dE(i))}),t}va(e){this.da=e.ds,this.Ra=He();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return oa.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class $C{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class HC{constructor(e){this.key=e,this.Fa=!1}}class WC{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new io(h=>Dv(h),Wc),this.Oa=new Map,this.Na=new Set,this.La=new It(Ae.comparator),this.Ba=new Map,this.ka=new Gf,this.qa={},this.Qa=new Map,this.Ka=sa.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function qC(n,e,t=!0){const i=_E(n);let o;const l=i.xa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await fE(i,e,t,!0),o}async function KC(n,e){const t=_E(n);await fE(t,e,!0,!1)}async function fE(n,e,t,i){const o=await mC(n.localStore,zr(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let h;return i&&(h=await GC(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&sE(n.remoteStore,o),h}async function GC(n,e,t,i,o){n.Ua=(T,I,C)=>async function($,U,H,ie){let ne=U.view.ga(H);ne.ss&&(ne=await Xy($.localStore,U.query,!1).then(({documents:k})=>U.view.ga(k,ne)));const he=ie&&ie.targetChanges.get(U.targetId),j=ie&&ie.targetMismatches.get(U.targetId)!=null,ce=U.view.applyChanges(ne,$.isPrimaryClient,he,j);return s_($,U.targetId,ce.ba),ce.snapshot}(n,T,I,C);const l=await Xy(n.localStore,e,!0),c=new BC(e,l.ds),h=c.ga(l.documents),p=xl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(h,n.isPrimaryClient,p);s_(n,t,y.ba);const v=new $C(e,t,c);return n.xa.set(e,v),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function QC(n,e,t){const i=Me(n),o=i.xa.get(e),l=i.Oa.get(o.targetId);if(l.length>1)return i.Oa.set(o.targetId,l.filter(c=>!Wc(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await yf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Xf(i.remoteStore,o.targetId),vf(i,o.targetId)}).catch(ha)):(vf(i,o.targetId),await yf(i.localStore,o.targetId,!0))}async function YC(n,e){const t=Me(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Xf(t.remoteStore,i.targetId))}async function XC(n,e,t){const i=iP(n);try{const o=await function(c,h){const p=Me(c),y=Mt.now(),v=h.reduce((C,V)=>C.add(V.key),He());let T,I;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let V=vi(),$=He();return p.hs.getEntries(C,v).next(U=>{V=U,V.forEach((H,ie)=>{ie.isValidDocument()||($=$.add(H))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,V)).next(U=>{T=U;const H=[];for(const ie of h){const ne=gA(ie,T.get(ie.key).overlayedDocument);ne!=null&&H.push(new so(ie.key,ne,Sv(ne.value.mapValue),wr.exists(!0)))}return p.mutationQueue.addMutationBatch(C,y,H,h)}).next(U=>{I=U;const H=U.applyToLocalDocumentSet(T,$);return p.documentOverlayCache.saveOverlays(C,U.batchId,H)})}).then(()=>({batchId:I.batchId,changes:Vv(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,h,p){let y=c.qa[c.currentUser.toKey()];y||(y=new It(Ke)),y=y.insert(h,p),c.qa[c.currentUser.toKey()]=y}(i,o.batchId,t),await Dl(i,o.changes),await Jc(i.remoteStore)}catch(o){const l=np(o,"Failed to persist write");t.reject(l)}}async function pE(n,e){const t=Me(n);try{const i=await hC(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Ba.get(l);c&&(at(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Fa=!0:o.modifiedDocuments.size>0?at(c.Fa):o.removedDocuments.size>0&&(at(c.Fa),c.Fa=!1))}),await Dl(t,i,e)}catch(i){await ha(i)}}function i_(n,e,t){const i=Me(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((l,c)=>{const h=c.view.ea(e);h.snapshot&&o.push(h.snapshot)}),function(c,h){const p=Me(c);p.onlineState=h;let y=!1;p.queries.forEach((v,T)=>{for(const I of T.J_)I.ea(h)&&(y=!0)}),y&&sp(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function JC(n,e,t){const i=Me(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),l=o&&o.key;if(l){let c=new It(Ae.comparator);c=c.insert(l,hn.newNoDocument(l,Ve.min()));const h=He().add(l),p=new Qc(Ve.min(),new Map,new It(Ke),c,h);await pE(i,p),i.La=i.La.remove(l),i.Ba.delete(e),ap(i)}else await yf(i.localStore,e,!1).then(()=>vf(i,e,t)).catch(ha)}async function ZC(n,e){const t=Me(n),i=e.batch.batchId;try{const o=await dC(t.localStore,e);gE(t,i,null),mE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Dl(t,o)}catch(o){await ha(o)}}async function eP(n,e,t){const i=Me(n);try{const o=await function(c,h){const p=Me(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let v;return p.mutationQueue.lookupMutationBatch(y,h).next(T=>(at(T!==null),v=T.keys(),p.mutationQueue.removeMutationBatch(y,T))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,v,h)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v)).next(()=>p.localDocuments.getDocuments(y,v))})}(i.localStore,e);gE(i,e,t),mE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Dl(i,o)}catch(o){await ha(o)}}function mE(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function gE(n,e,t){const i=Me(n);let o=i.qa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function vf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||yE(n,i)})}function yE(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Xf(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),ap(n))}function s_(n,e,t){for(const i of t)i instanceof dE?(n.ka.addReference(i.key,e),tP(n,i)):i instanceof hE?(ge("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||yE(n,i.key)):Le()}function tP(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(ge("SyncEngine","New document in limbo: "+t),n.Na.add(i),ap(n))}function ap(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Ae(_t.fromString(e)),i=n.Ka.next();n.Ba.set(i,new HC(t)),n.La=n.La.insert(t,i),sE(n.remoteStore,new ss(zr(Hc(t.path)),i,"TargetPurposeLimboResolution",zc.oe))}}async function Dl(n,e,t){const i=Me(n),o=[],l=[],c=[];i.xa.isEmpty()||(i.xa.forEach((h,p)=>{c.push(i.Ua(p,e,t).then(y=>{var v;if((y||t)&&i.isPrimaryClient){const T=y?!y.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Yf.zi(p.targetId,y);l.push(T)}}))}),await Promise.all(c),i.Ma.R_(o),await async function(p,y){const v=Me(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>J.forEach(y,I=>J.forEach(I.Wi,C=>v.persistence.referenceDelegate.addReference(T,I.targetId,C)).next(()=>J.forEach(I.Gi,C=>v.persistence.referenceDelegate.removeReference(T,I.targetId,C)))))}catch(T){if(!fa(T))throw T;ge("LocalStore","Failed to update sequence numbers: "+T)}for(const T of y){const I=T.targetId;if(!T.fromCache){const C=v.us.get(I),V=C.snapshotVersion,$=C.withLastLimboFreeSnapshotVersion(V);v.us=v.us.insert(I,$)}}}(i.localStore,l))}async function nP(n,e){const t=Me(n);if(!t.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const i=await tE(t.localStore,e);t.currentUser=e,function(l,c){l.Qa.forEach(h=>{h.forEach(p=>{p.reject(new ye(Z.CANCELLED,c))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Dl(t,i.Ts)}}function rP(n,e){const t=Me(n),i=t.Ba.get(e);if(i&&i.Fa)return He().add(i.key);{let o=He();const l=t.Oa.get(e);if(!l)return o;for(const c of l){const h=t.xa.get(c);o=o.unionWith(h.view.fa)}return o}}function _E(n){const e=Me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=pE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JC.bind(null,e),e.Ma.R_=jC.bind(null,e.eventManager),e.Ma.Wa=zC.bind(null,e.eventManager),e}function iP(n){const e=Me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eP.bind(null,e),e}class Cc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return cC(this.persistence,new lC,e.initialUser,this.serializer)}ja(e){return new eE(Qf.ei,this.serializer)}za(e){return new yC}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cc.provider={build:()=>new Cc};class sP extends Cc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){at(this.persistence.referenceDelegate instanceof Rc);const i=this.persistence.referenceDelegate.garbageCollector;return new KA(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new eE(i=>Rc.ei(i,t),this.serializer)}}class Ef{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>i_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=nP.bind(null,this.syncEngine),await MC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new UC}()}createDatastore(e){const t=Yc(e.databaseInfo.databaseId),i=function(l){return new wC(l)}(e.databaseInfo);return function(l,c,h,p){return new SC(l,c,h,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,c,h){return new AC(i,o,l,c,h)}(this.localStore,this.datastore,e.asyncQueue,t=>i_(this.syncEngine,t,0),function(){return Zy.p()?new Zy:new _C}())}createSyncEngine(e,t){return function(o,l,c,h,p,y,v){const T=new WC(o,l,c,h,p,y);return v&&(T.$a=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Me(o);ge("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await Nl(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ef.provider={build:()=>new Ef};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):_i("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=dn.UNAUTHENTICATED,this.clientId=wv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{ge("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ge("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=np(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Gh(n,e){n.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await tE(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function o_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await aP(n);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>e_(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>e_(e.remoteStore,o)),n._onlineComponents=e}async function aP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gh(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ta("Error using user provided cache. Falling back to memory cache: "+t),await Gh(n,new Cc)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await Gh(n,new sP(void 0));return n._offlineComponents}async function vE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await o_(n,n._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await o_(n,new Ef))),n._onlineComponents}function lP(n){return vE(n).then(e=>e.syncEngine)}async function Pc(n){const e=await vE(n),t=e.eventManager;return t.onListen=qC.bind(null,e.syncEngine),t.onUnlisten=QC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=KC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=YC.bind(null,e.syncEngine),t}function uP(n,e,t={}){const i=new gi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,h,p,y){const v=new lp({next:I=>{v.eu(),c.enqueueAndForget(()=>ip(l,T));const C=I.docs.has(h);!C&&I.fromCache?y.reject(new ye(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&I.fromCache&&p&&p.source==="server"?y.reject(new ye(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),T=new op(Hc(h.path),v,{includeMetadataChanges:!0,ua:!0});return rp(l,T)}(await Pc(n),n.asyncQueue,e,t,i)),i.promise}function cP(n,e,t={}){const i=new gi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,h,p,y){const v=new lp({next:I=>{v.eu(),c.enqueueAndForget(()=>ip(l,T)),I.fromCache&&p.source==="server"?y.reject(new ye(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),T=new op(h,v,{includeMetadataChanges:!0,ua:!0});return rp(l,T)}(await Pc(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(n,e,t){if(!t)throw new ye(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function dP(n,e,t,i){if(e===!0&&i===!0)throw new ye(Z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function l_(n){if(!Ae.isDocumentKey(n))throw new ye(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function u_(n){if(Ae.isDocumentKey(n))throw new ye(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Zc(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Le()}function Zn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ye(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Zc(n);throw new ye(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EE((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ye(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ye(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ye(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ed{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c_(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new IR;switch(i.type){case"firstParty":return new CR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ye(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=a_.get(t);i&&(ge("ComponentProvider","Removing Datastore"),a_.delete(t),i.terminate())}(this),Promise.resolve()}}function hP(n,e,t,i={}){var o;const l=(n=Zn(n,ed))._getSettings(),c=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&ta("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),i.mockUserToken){let h,p;if(typeof i.mockUserToken=="string")h=i.mockUserToken,p=dn.MOCK_USER;else{h=XS(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new ye(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new dn(y)}n._authCredentials=new SR(new Ev(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Es(this.firestore,e,this._query)}}class En{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}}class us extends Es{constructor(e,t,i){super(e,t,Hc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new Ae(e))}withConverter(e){return new us(this.firestore,e,this._path)}}function wf(n,e,...t){if(n=pn(n),wE("collection","path",e),n instanceof ed){const i=_t.fromString(e,...t);return u_(i),new us(n,null,i)}{if(!(n instanceof En||n instanceof us))throw new ye(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(_t.fromString(e,...t));return u_(i),new us(n.firestore,null,i)}}function wl(n,e,...t){if(n=pn(n),arguments.length===1&&(e=wv.newId()),wE("doc","path",e),n instanceof ed){const i=_t.fromString(e,...t);return l_(i),new En(n,null,new Ae(i))}{if(!(n instanceof En||n instanceof us))throw new ye(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(_t.fromString(e,...t));return l_(i),new En(n.firestore,n instanceof us?n.converter:null,new Ae(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new rE(this,"async_queue_retry"),this.fu=()=>{const i=Kh();i&&ge("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=Kh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Kh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new gi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!fa(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h}(i);throw _i("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=tp.createAndSchedule(this,e,t,i,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&Le()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function h_(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of i)if(l in o&&typeof o[l]=="function")return!0;return!1}(n,["next","error","complete"])}class ys extends ed{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new d_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new d_(e),this._firestoreClient=void 0,await e}}}function fP(n,e){const t=typeof n=="object"?n:dv(),i=typeof n=="string"?n:"(default)",o=Mf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=QS("firestore");l&&hP(o,...l)}return o}function td(n){if(n._terminated)throw new ye(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||pP(n),n._firestoreClient}function pP(n){var e,t,i;const o=n._freezeSettings(),l=function(h,p,y,v){return new BR(h,p,y,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,EE(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new oP(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new aa(tn.fromBase64String(e))}catch(t){throw new ye(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new aa(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=/^__.*__$/;class gP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new so(e,this.data,this.fieldMask,t,this.fieldTransforms):new kl(e,this.data,t,this.fieldTransforms)}}function IE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le()}}class hp{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new hp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return kc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(IE(this.Mu)&&mP.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class yP{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Yc(e)}$u(e,t,i,o=!1){return new hp({Mu:e,methodName:t,Ku:i,path:en.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fp(n){const e=n._freezeSettings(),t=Yc(n._databaseId);return new yP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function SE(n,e,t,i,o,l={}){const c=n.$u(l.merge||l.mergeFields?2:0,e,t,o);CE("Data must be an object, but it was:",c,i);const h=RE(i,c);let p,y;if(l.merge)p=new Er(c.fieldMask),y=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const T of l.mergeFields){const I=vP(e,T,t);if(!c.contains(I))throw new ye(Z.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);wP(v,I)||v.push(I)}p=new Er(v),y=c.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,y=c.fieldTransforms;return new gP(new Jn(h),p,y)}function _P(n,e,t,i=!1){return pp(t,n.$u(i?4:3,e))}function pp(n,e){if(AE(n=pn(n)))return CE("Unsupported field value:",e,n),RE(n,e);if(n instanceof TE)return function(i,o){if(!IE(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const l=[];let c=0;for(const h of i){let p=pp(h,o.ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=pn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return cA(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Mt.fromDate(i);return{timestampValue:Sc(o.serializer,l)}}if(i instanceof Mt){const l=new Mt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Sc(o.serializer,l)}}if(i instanceof cp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof aa)return{bytesValue:Kv(o.serializer,i._byteString)};if(i instanceof En){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Kf(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof dp)return function(c,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw h.qu("VectorValues must only contain numeric values.");return $f(h.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${Zc(i)}`)}(n,e)}function RE(n,e){const t={};return Tv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ro(n,(i,o)=>{const l=pp(o,e.Ou(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function AE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Mt||n instanceof cp||n instanceof aa||n instanceof En||n instanceof TE||n instanceof dp)}function CE(n,e,t){if(!AE(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Zc(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function vP(n,e,t){if((e=pn(e))instanceof up)return e._internalPath;if(typeof e=="string")return PE(n,e);throw kc("Field path arguments must be of type string or ",n,!1,void 0,t)}const EP=new RegExp("[~\\*/\\[\\]]");function PE(n,e,t){if(e.search(EP)>=0)throw kc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new up(...e.split("."))._internalPath}catch{throw kc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kc(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new ye(Z.INVALID_ARGUMENT,h+n+p)}function wP(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class TP extends kE{data(){return super.data()}}function mp(n,e){return typeof e=="string"?PE(n,e):e instanceof up?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ye(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gp{}class NE extends gp{}function DE(n,e,...t){let i=[];e instanceof gp&&i.push(e),i=i.concat(t),function(l){const c=l.filter(p=>p instanceof _p).length,h=l.filter(p=>p instanceof yp).length;if(c>1||c>0&&h>0)throw new ye(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class yp extends NE{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new yp(e,t,i)}_apply(e){const t=this._parse(e);return OE(e._query,t),new Es(e.firestore,e.converter,df(e._query,t))}_parse(e){const t=fp(e.firestore);return function(l,c,h,p,y,v,T){let I;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ye(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){p_(T,v);const C=[];for(const V of T)C.push(f_(p,l,V));I={arrayValue:{values:C}}}else I=f_(p,l,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||p_(T,v),I=_P(h,c,T,v==="in"||v==="not-in");return Lt.create(y,v,I)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class _p extends gp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new _p(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Ir.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let c=o;const h=l.getFlattenedFilters();for(const p of h)OE(c,p),c=df(c,p)}(e._query,t),new Es(e.firestore,e.converter,df(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vp extends NE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new vp(e,t)}_apply(e){const t=function(o,l,c){if(o.startAt!==null)throw new ye(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ye(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _l(l,c)}(e._query,this._field,this._direction);return new Es(e.firestore,e.converter,function(o,l){const c=o.explicitOrderBy.concat([l]);return new pa(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function LE(n,e="asc"){const t=e,i=mp("orderBy",n);return vp._create(i,t)}function f_(n,e,t){if(typeof(t=pn(t))=="string"){if(t==="")throw new ye(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nv(e)&&t.indexOf("/")!==-1)throw new ye(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(_t.fromString(t));if(!Ae.isDocumentKey(i))throw new ye(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ly(n,new Ae(i))}if(t instanceof En)return Ly(n,t._key);throw new ye(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zc(t)}.`)}function p_(n,e){if(!Array.isArray(n)||n.length===0)throw new ye(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OE(n,e){const t=function(o,l){for(const c of o)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ye(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class IP{convertValue(e,t="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Le()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ro(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>kt(c.doubleValue));return new dp(l)}convertGeoPoint(e){return new cp(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=$c(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ml(e));default:return null}}convertTimestamp(e){const t=fs(e);return new Mt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=_t.fromString(e);at(Zv(i));const o=new gl(i.get(1),i.get(3)),l=new Ae(i.popFirst(5));return o.isEqual(t)||_i(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bE extends kE{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(mp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class ac extends bE{data(e={}){return super.data(e)}}class ME{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ol(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new ac(this._firestore,this._userDataWriter,i.key,i,new ol(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(h=>{const p=new ac(o._firestore,o._userDataWriter,h.doc.key,h.doc,new ol(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const p=new ac(o._firestore,o._userDataWriter,h.doc.key,h.doc,new ol(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return h.type!==0&&(y=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),v=c.indexOf(h.doc.key)),{type:SP(h.type),doc:p,oldIndex:y,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function SP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(n){n=Zn(n,En);const e=Zn(n.firestore,ys);return uP(td(e),n._key).then(t=>UE(e,n,t))}class Ep extends IP{constructor(e){super(),this.firestore=e}convertBytes(e){return new aa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,t)}}function RP(n){n=Zn(n,Es);const e=Zn(n.firestore,ys),t=td(e),i=new Ep(e);return xE(n._query),cP(t,n._query).then(o=>new ME(e,i,n,o))}function AP(n,e,t){n=Zn(n,En);const i=Zn(n.firestore,ys),o=VE(n.converter,e);return wp(i,[SE(fp(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,wr.none())])}function CP(n){return wp(Zn(n.firestore,ys),[new Hf(n._key,wr.none())])}function PP(n,e){const t=Zn(n.firestore,ys),i=wl(n),o=VE(n.converter,e);return wp(t,[SE(fp(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,wr.exists(!1))]).then(()=>i)}function kP(n,...e){var t,i,o;n=pn(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||h_(e[c])||(l=e[c],c++);const h={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(h_(e[c])){const T=e[c];e[c]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[c+1]=(i=T.error)===null||i===void 0?void 0:i.bind(T),e[c+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let p,y,v;if(n instanceof En)y=Zn(n.firestore,ys),v=Hc(n._key.path),p={next:T=>{e[c]&&e[c](UE(y,n,T))},error:e[c+1],complete:e[c+2]};else{const T=Zn(n,Es);y=Zn(T.firestore,ys),v=T._query;const I=new Ep(y);p={next:C=>{e[c]&&e[c](new ME(y,I,T,C))},error:e[c+1],complete:e[c+2]},xE(n._query)}return function(I,C,V,$){const U=new lp($),H=new op(C,U,V);return I.asyncQueue.enqueueAndForget(async()=>rp(await Pc(I),H)),()=>{U.eu(),I.asyncQueue.enqueueAndForget(async()=>ip(await Pc(I),H))}}(td(y),v,h,p)}function wp(n,e){return function(i,o){const l=new gi;return i.asyncQueue.enqueueAndForget(async()=>XC(await lP(i),o,l)),l.promise}(td(n),e)}function UE(n,e,t){const i=t.docs.get(e._key),o=new Ep(n);return new bE(n,o,e._key,i,new ol(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){da=o})(ca),ea(new Zs("firestore",(i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),h=new ys(new RR(i.getProvider("auth-internal")),new kR(i.getProvider("app-check-internal")),function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ye(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gl(y.options.projectId,v)}(c,o),c);return l=Object.assign({useFetchStreams:t},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),ls(Cy,"4.7.5",e),ls(Cy,"4.7.5","esm2017")})();function Tp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function jE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xP=jE,zE=new Cl("auth","Firebase",jE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new Vf("@firebase/auth");function NP(n,...e){xc.logLevel<=Be.WARN&&xc.warn(`Auth (${ca}): ${n}`,...e)}function lc(n,...e){xc.logLevel<=Be.ERROR&&xc.error(`Auth (${ca}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(n,...e){throw Ip(n,...e)}function $r(n,...e){return Ip(n,...e)}function BE(n,e,t){const i=Object.assign(Object.assign({},xP()),{[e]:t});return new Cl("auth","Firebase",i).create(e,{appName:n.name})}function cs(n){return BE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ip(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return zE.create(n,...e)}function Ne(n,e,...t){if(!n)throw Ip(e,...t)}function fi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw lc(e),new Error(e)}function Ei(n,e){n||fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function DP(){return m_()==="http:"||m_()==="https:"}function m_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DP()||t0()||"connection"in navigator)?navigator.onLine:!0}function OP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ei(t>e,"Short delay should be less than long delay!"),this.isMobile=JS()||n0()}get(){return LP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(n,e){Ei(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=new Ll(3e4,6e4);function ao(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ws(n,e,t,i,o={}){return HE(n,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const h=Pl(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},l);return e0()||(y.referrerPolicy="no-referrer"),$E.fetch()(WE(n,n.config.apiHost,t,h),y)})}async function HE(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},VP),e);try{const o=new FP(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Ju(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[p,y]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ju(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Ju(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Ju(n,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw BE(n,v,y);Sr(n,v)}}catch(o){if(o instanceof wi)throw o;Sr(n,"network-request-failed",{message:String(o)})}}async function nd(n,e,t,i,o={}){const l=await ws(n,e,t,i,o);return"mfaPendingCredential"in l&&Sr(n,"multi-factor-auth-required",{_serverResponse:l}),l}function WE(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Sp(n.config,o):`${n.config.apiScheme}://${o}`}function MP(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i($r(this.auth,"network-request-failed")),bP.get())})}}function Ju(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=$r(n,e,i);return o.customData._tokenResponse=t,o}function g_(n){return n!==void 0&&n.enterprise!==void 0}class UP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return MP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jP(n,e){return ws(n,"GET","/v2/recaptchaConfig",ao(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP(n,e){return ws(n,"POST","/v1/accounts:delete",e)}async function qE(n,e){return ws(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BP(n,e=!1){const t=pn(n),i=await t.getIdToken(e),o=Rp(i);Ne(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:dl(Qh(o.auth_time)),issuedAtTime:dl(Qh(o.iat)),expirationTime:dl(Qh(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Qh(n){return Number(n)*1e3}function Rp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return lc("JWT malformed, contained fewer than 3 sections"),null;try{const o=iv(t);return o?JSON.parse(o):(lc("Failed to decode base64 JWT payload"),null)}catch(o){return lc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function y_(n){const e=Rp(n);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof wi&&$P(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function $P({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=dl(this.lastLoginAt),this.creationTime=dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Tl(n,qE(t,{idToken:i}));Ne(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?KE(l.providerUserInfo):[],h=qP(n.providerData,c),p=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(h!=null&&h.length),v=p?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new If(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,T)}async function WP(n){const e=pn(n);await Nc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qP(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function KE(n){return n.map(e=>{var{providerId:t}=e,i=Tp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KP(n,e){const t=await HE(n,{},async()=>{const i=Pl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=WE(n,o,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",$E.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function GP(n,e){return ws(n,"POST","/v2/accounts:revokeToken",ao(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):y_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=y_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await KP(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,c=new Xo;return i&&(Ne(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Ne(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Ne(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xo,this.toJSON())}_performRefresh(){return fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(n,e){Ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class pi{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=Tp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new If(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Tl(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return BP(this,e)}reload(){return WP(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new pi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Nc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hi(this.auth.app))return Promise.reject(cs(this.auth));const e=await this.getIdToken();return await Tl(this,zP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,c,h,p,y,v;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,I=(o=t.email)!==null&&o!==void 0?o:void 0,C=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,V=(c=t.photoURL)!==null&&c!==void 0?c:void 0,$=(h=t.tenantId)!==null&&h!==void 0?h:void 0,U=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,H=(y=t.createdAt)!==null&&y!==void 0?y:void 0,ie=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:ne,emailVerified:he,isAnonymous:j,providerData:ce,stsTokenManager:k}=t;Ne(ne&&k,e,"internal-error");const S=Xo.fromJSON(this.name,k);Ne(typeof ne=="string",e,"internal-error"),Ji(T,e.name),Ji(I,e.name),Ne(typeof he=="boolean",e,"internal-error"),Ne(typeof j=="boolean",e,"internal-error"),Ji(C,e.name),Ji(V,e.name),Ji($,e.name),Ji(U,e.name),Ji(H,e.name),Ji(ie,e.name);const R=new pi({uid:ne,auth:e,email:I,emailVerified:he,displayName:T,isAnonymous:j,photoURL:V,phoneNumber:C,tenantId:$,stsTokenManager:S,createdAt:H,lastLoginAt:ie});return ce&&Array.isArray(ce)&&(R.providerData=ce.map(x=>Object.assign({},x))),U&&(R._redirectEventId=U),R}static async _fromIdTokenResponse(e,t,i=!1){const o=new Xo;o.updateFromServerResponse(t);const l=new pi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Nc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ne(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?KE(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),h=new Xo;h.updateFromIdToken(i);const p=new pi({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new If(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __=new Map;function mi(n){Ei(n instanceof Function,"Expected a class definition");let e=__.get(n);return e?(Ei(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,__.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}GE.type="NONE";const v_=GE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(n,e,t){return`firebase:${n}:${e}:${t}`}class Jo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=uc(this.userKey,o.apiKey,l),this.fullPersistenceKey=uc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?pi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Jo(mi(v_),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||mi(v_);const c=uc(i,e.config.apiKey,e.name);let h=null;for(const y of t)try{const v=await y._get(c);if(v){const T=pi._fromJSON(e,v);y!==l&&(h=T),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Jo(l,e,i):(l=p[0],h&&await l._set(c,h.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(c)}catch{}})),new Jo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ew(e))return"Blackberry";if(tw(e))return"Webos";if(YE(e))return"Safari";if((e.includes("chrome/")||XE(e))&&!e.includes("edge/"))return"Chrome";if(ZE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function QE(n=fn()){return/firefox\//i.test(n)}function YE(n=fn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XE(n=fn()){return/crios\//i.test(n)}function JE(n=fn()){return/iemobile/i.test(n)}function ZE(n=fn()){return/android/i.test(n)}function ew(n=fn()){return/blackberry/i.test(n)}function tw(n=fn()){return/webos/i.test(n)}function Ap(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function QP(n=fn()){var e;return Ap(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YP(){return r0()&&document.documentMode===10}function nw(n=fn()){return Ap(n)||ZE(n)||tw(n)||ew(n)||/windows phone/i.test(n)||JE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(n,e=[]){let t;switch(n){case"Browser":t=E_(fn());break;case"Worker":t=`${E_(fn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ca}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,h)=>{try{const p=e(l);c(p)}catch(p){h(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JP(n,e={}){return ws(n,"GET","/v2/passwordPolicy",ao(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=6;class e1{constructor(e){var t,i,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:ZP,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,c,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w_(this),this.idTokenSubscription=new w_(this),this.beforeStateQueue=new XP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=mi(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Jo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await qE(this,{idToken:e}),i=await pi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(hi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Nc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hi(this.app))return Promise.reject(cs(this));const t=e?pn(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hi(this.app)?Promise.reject(cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hi(this.app)?Promise.reject(cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JP(this),t=new e1(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Cl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await GP(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&mi(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await Jo.create(this,[mi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&NP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ga(n){return pn(n)}class w_{constructor(e){this.auth=e,this.observer=null,this.addObserver=d0(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function n1(n){rd=n}function iw(n){return rd.loadJS(n)}function r1(){return rd.recaptchaEnterpriseScript}function i1(){return rd.gapiScript}function s1(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class o1{constructor(){this.enterprise=new a1}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class a1{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const l1="recaptcha-enterprise",sw="NO_RECAPTCHA";class u1{constructor(e){this.type=l1,this.auth=ga(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,h)=>{jP(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const y=new UP(p);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,c(y.siteKey)}}).catch(p=>{h(p)})})}function o(l,c,h){const p=window.grecaptcha;g_(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(y=>{c(y)}).catch(()=>{c(sw)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new o1().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(h=>{if(!t&&g_(window.grecaptcha))o(h,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=r1();p.length!==0&&(p+=h),iw(p).then(()=>{o(h,l,c)}).catch(y=>{c(y)})}}).catch(h=>{c(h)})})}}async function T_(n,e,t,i=!1,o=!1){const l=new u1(n);let c;if(o)c=sw;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,y=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function I_(n,e,t,i,o){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await T_(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await T_(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(n,e){const t=Mf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(_c(l,e??{}))return o;Sr(o,"already-initialized")}return t.initialize({options:e})}function d1(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(mi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function h1(n,e,t){const i=ga(n);Ne(i._canInitEmulator,i,"emulator-config-failed"),Ne(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=ow(e),{host:c,port:h}=f1(e),p=h===null?"":`:${h}`;i.config.emulator={url:`${l}//${c}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),p1()}function ow(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function f1(n){const e=ow(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:S_(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:S_(c)}}}function S_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function p1(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fi("not implemented")}_getIdTokenResponse(e){return fi("not implemented")}_linkToIdToken(e,t){return fi("not implemented")}_getReauthenticationResolver(e){return fi("not implemented")}}async function m1(n,e){return ws(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(n,e){return nd(n,"POST","/v1/accounts:signInWithPassword",ao(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y1(n,e){return nd(n,"POST","/v1/accounts:signInWithEmailLink",ao(n,e))}async function _1(n,e){return nd(n,"POST","/v1/accounts:signInWithEmailLink",ao(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends Cp{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Il(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Il(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I_(e,t,"signInWithPassword",g1);case"emailLink":return y1(e,{email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I_(e,i,"signUpPassword",m1);case"emailLink":return _1(e,{idToken:t,email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(n,e){return nd(n,"POST","/v1/accounts:signInWithIdp",ao(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="http://localhost";class to extends Cp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new to(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Sr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=Tp(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new to(i,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Zo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Zo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Zo(e,t)}buildRequest(){const e={requestUri:v1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Pl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function w1(n){const e=tl(nl(n)).link,t=e?tl(nl(e)).deep_link_id:null,i=tl(nl(n)).deep_link_id;return(i?tl(nl(i)).link:null)||i||t||e||n}class Pp{constructor(e){var t,i,o,l,c,h;const p=tl(nl(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(i=p.oobCode)!==null&&i!==void 0?i:null,T=E1((o=p.mode)!==null&&o!==void 0?o:null);Ne(y&&v&&T,"argument-error"),this.apiKey=y,this.operation=T,this.code=v,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(h=p.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=w1(e);try{return new Pp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){this.providerId=ya.PROVIDER_ID}static credential(e,t){return Il._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Pp.parseLink(t);return Ne(i,"argument-error"),Il._fromEmailAndCode(e,i.code,i.tenantId)}}ya.PROVIDER_ID="password";ya.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ya.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends aw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Ol{constructor(){super("facebook.com")}static credential(e){return to._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Ol{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return to._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ns.credential(t,i)}catch{return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com";ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Ol{constructor(){super("github.com")}static credential(e){return to._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.GITHUB_SIGN_IN_METHOD="github.com";rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Ol{constructor(){super("twitter.com")}static credential(e,t){return to._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return is.credential(t,i)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await pi._fromIdTokenResponse(e,i,o),c=R_(i);return new la({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=R_(i);return new la({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function R_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends wi{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Dc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Dc(e,t,i,o)}}function lw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Dc._fromErrorAndOperation(n,l,e,i):l})}async function T1(n,e,t=!1){const i=await Tl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return la._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I1(n,e,t=!1){const{auth:i}=n;if(hi(i.app))return Promise.reject(cs(i));const o="reauthenticate";try{const l=await Tl(n,lw(i,o,e,n),t);Ne(l.idToken,i,"internal-error");const c=Rp(l.idToken);Ne(c,i,"internal-error");const{sub:h}=c;return Ne(n.uid===h,i,"user-mismatch"),la._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Sr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uw(n,e,t=!1){if(hi(n.app))return Promise.reject(cs(n));const i="signIn",o=await lw(n,i,e),l=await la._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}async function S1(n,e){return uw(ga(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R1(n){const e=ga(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function A1(n,e,t){return hi(n.app)?Promise.reject(cs(n)):S1(pn(n),ya.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&R1(n),i})}function C1(n,e,t,i){return pn(n).onIdTokenChanged(e,t,i)}function P1(n,e,t){return pn(n).beforeAuthStateChanged(e,t)}function k1(n,e,t,i){return pn(n).onAuthStateChanged(e,t,i)}function x1(n){return pn(n).signOut()}const Lc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Lc,"1"),this.storage.removeItem(Lc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=1e3,D1=10;class dw extends cw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);YP()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,D1):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},N1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}dw.type="LOCAL";const L1=dw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw extends cw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}hw.type="SESSION";const fw=hw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new id(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(c).map(async y=>y(t.origin,l)),p=await O1(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}id.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((h,p)=>{const y=kp("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(T){const I=T;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(I.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return window}function b1(n){Hr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(){return typeof Hr().WorkerGlobalScope<"u"&&typeof Hr().importScripts=="function"}async function M1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F1(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function U1(){return pw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="firebaseLocalStorageDb",j1=1,Oc="firebaseLocalStorage",gw="fbase_key";class Vl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function sd(n,e){return n.transaction([Oc],e?"readwrite":"readonly").objectStore(Oc)}function z1(){const n=indexedDB.deleteDatabase(mw);return new Vl(n).toPromise()}function Sf(){const n=indexedDB.open(mw,j1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Oc,{keyPath:gw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Oc)?e(i):(i.close(),await z1(),e(await Sf()))})})}async function A_(n,e,t){const i=sd(n,!0).put({[gw]:e,value:t});return new Vl(i).toPromise()}async function B1(n,e){const t=sd(n,!1).get(e),i=await new Vl(t).toPromise();return i===void 0?null:i.value}function C_(n,e){const t=sd(n,!0).delete(e);return new Vl(t).toPromise()}const $1=800,H1=3;class yw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>H1)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=id._getInstance(U1()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await M1(),!this.activeServiceWorker)return;this.sender=new V1(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||F1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sf();return await A_(e,Lc,"1"),await C_(e,Lc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>A_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>B1(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>C_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=sd(o,!1).getAll();return new Vl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yw.type="LOCAL";const W1=yw;new Ll(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(n,e){return e?mi(e):(Ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp extends Cp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function K1(n){return uw(n.auth,new xp(n),n.bypassAuthState)}function G1(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),I1(t,new xp(n),n.bypassAuthState)}async function Q1(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),T1(t,new xp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return K1;case"linkViaPopup":case"linkViaRedirect":return Q1;case"reauthViaPopup":case"reauthViaRedirect":return G1;default:Sr(this.auth,"internal-error")}}resolve(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=new Ll(2e3,1e4);class Qo extends _w{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,Qo.currentPopupAction&&Qo.currentPopupAction.cancel(),Qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Ei(this.filter.length===1,"Popup operations only handle one event");const e=kp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject($r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Y1.get())};e()}}Qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="pendingRedirect",cc=new Map;class J1 extends _w{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=cc.get(this.auth._key());if(!e){try{const i=await Z1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}cc.set(this.auth._key(),e)}return this.bypassAuthState||cc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Z1(n,e){const t=nk(e),i=tk(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function ek(n,e){cc.set(n._key(),e)}function tk(n){return mi(n._redirectPersistence)}function nk(n){return uc(X1,n.config.apiKey,n.name)}async function rk(n,e,t=!1){if(hi(n.app))return Promise.reject(cs(n));const i=ga(n),o=q1(i,e),c=await new J1(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=10*60*1e3;class sk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ok(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!vw(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError($r(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ik&&this.cachedEventUids.clear(),this.cachedEventUids.has(P_(e))}saveEventToCache(e){this.cachedEventUids.add(P_(e)),this.lastProcessedEventTime=Date.now()}}function P_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function vw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ok(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(n,e={}){return ws(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uk=/^https?/;async function ck(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ak(n);for(const t of e)try{if(dk(t))return}catch{}Sr(n,"unauthorized-domain")}function dk(n){const e=Tf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!uk.test(t))return!1;if(lk.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=new Ll(3e4,6e4);function k_(){const n=Hr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function fk(n){return new Promise((e,t)=>{var i,o,l;function c(){k_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{k_(),t($r(n,"network-request-failed"))},timeout:hk.get()})}if(!((o=(i=Hr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Hr().gapi)===null||l===void 0)&&l.load)c();else{const h=s1("iframefcb");return Hr()[h]=()=>{gapi.load?c():t($r(n,"network-request-failed"))},iw(`${i1()}?onload=${h}`).catch(p=>t(p))}}).catch(e=>{throw dc=null,e})}let dc=null;function pk(n){return dc=dc||fk(n),dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=new Ll(5e3,15e3),gk="__/auth/iframe",yk="emulator/auth/iframe",_k={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ek(n){const e=n.config;Ne(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Sp(e,yk):`https://${n.config.authDomain}/${gk}`,i={apiKey:e.apiKey,appName:n.name,v:ca},o=vk.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Pl(i).slice(1)}`}async function wk(n){const e=await pk(n),t=Hr().gapi;return Ne(t,n,"internal-error"),e.open({where:document.body,url:Ek(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_k,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const c=$r(n,"network-request-failed"),h=Hr().setTimeout(()=>{l(c)},mk.get());function p(){Hr().clearTimeout(h),o(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ik=500,Sk=600,Rk="_blank",Ak="http://localhost";class x_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ck(n,e,t,i=Ik,o=Sk){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const p=Object.assign(Object.assign({},Tk),{width:i.toString(),height:o.toString(),top:l,left:c}),y=fn().toLowerCase();t&&(h=XE(y)?Rk:t),QE(y)&&(e=e||Ak,p.scrollbars="yes");const v=Object.entries(p).reduce((I,[C,V])=>`${I}${C}=${V},`,"");if(QP(y)&&h!=="_self")return Pk(e||"",h),new x_(null);const T=window.open(e||"",h,v);Ne(T,n,"popup-blocked");try{T.focus()}catch{}return new x_(T)}function Pk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk="__/auth/handler",xk="emulator/auth/handler",Nk=encodeURIComponent("fac");async function N_(n,e,t,i,o,l){Ne(n.config.authDomain,n,"auth-domain-config-required"),Ne(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ca,eventId:o};if(e instanceof aw){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",c0(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(e instanceof Ol){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const p=await n._getAppCheckToken(),y=p?`#${Nk}=${encodeURIComponent(p)}`:"";return`${Dk(n)}?${Pl(h).slice(1)}${y}`}function Dk({config:n}){return n.emulator?Sp(n,xk):`https://${n.authDomain}/${kk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh="webStorageSupport";class Lk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fw,this._completeRedirectFn=rk,this._overrideRedirectResult=ek}async _openPopup(e,t,i,o){var l;Ei((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await N_(e,t,i,Tf(),o);return Ck(e,c,kp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await N_(e,t,i,Tf(),o);return b1(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Ei(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await wk(e),i=new sk(e);return t.register("authEvent",o=>(Ne(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Yh,{type:Yh},o=>{var l;const c=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Yh];c!==void 0&&t(!!c),Sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ck(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return nw()||YE()||Ap()}}const Ok=Lk;var D_="@firebase/auth",L_="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Mk(n){ea(new Zs("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Ne(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rw(n)},y=new t1(i,o,l,p);return d1(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ea(new Zs("auth-internal",e=>{const t=ga(e.getProvider("auth").getImmediate());return(i=>new Vk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ls(D_,L_,bk(n)),ls(D_,L_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=5*60,Uk=av("authIdTokenMaxAge")||Fk;let O_=null;const jk=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Uk)return;const o=t==null?void 0:t.token;O_!==o&&(O_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function zk(n=dv()){const e=Mf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=c1(n,{popupRedirectResolver:Ok,persistence:[W1,L1,fw]}),i=av("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=jk(l.toString());P1(t,c,()=>c(t.currentUser)),C1(t,h=>c(h))}}const o=sv("auth");return o&&h1(t,`http://${o}`),t}function Bk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}n1({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=$r("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",Bk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Mk("Browser");const $k={apiKey:"AIzaSyCQSaWSs8RCBeyTNBzr9qKpIYuqRRJ8gRI",authDomain:"reactlinks-a58f4.firebaseapp.com",projectId:"reactlinks-a58f4",storageBucket:"reactlinks-a58f4.firebasestorage.app",messagingSenderId:"311751504491",appId:"1:311751504491:web:6a3ca8cfaf47b6c3d9372e"},Ew=cv($k),Np=zk(Ew),Xs=fP(Ew);function Hk(){const[n,e]=q.useState([]),[t,i]=q.useState();return q.useEffect(()=>{function o(){const l=wf(Xs,"links"),c=DE(l,LE("created","asc"));RP(c).then(h=>{let p=[];h.forEach(y=>{p.push({id:y.id,name:y.data().name,url:y.data().url,bg:y.data().bg,color:y.data().color})}),e(p)})}o()},[]),q.useEffect(()=>{function o(){const l=wl(Xs,"social","link");FE(l).then(c=>{var h,p,y;c.data()!==void 0&&i({facebook:(h=c.data())==null?void 0:h.facebook,instagram:(p=c.data())==null?void 0:p.instagram,youtube:(y=c.data())==null?void 0:y.youtube})})}o()},[]),le.jsxs("div",{className:"flex flex-col w-full py-4 items-center justify-center",children:[le.jsx("h1",{className:"md:text-4xl text-3xl font-bold text-white mt-20",children:"Maria Elena"}),le.jsx("span",{className:"text-gray-50 mb-5 mt-3",children:"Veja meus links"}),le.jsxs("main",{className:"flex flex-col w-11/12 max-w-xl text-center",children:[n.map(o=>le.jsx("section",{style:{backgroundColor:o.bg},className:"bg-white mb-4 w-full py-2  rounded-lg select-none transition-transform hover:scale-105 cursor-pointer",children:le.jsx("a",{href:o.url,target:"_blank",children:le.jsx("p",{className:"text-base md:text-lg",style:{color:o.color},children:o.name})})},o.id)),t&&Object.keys(t).length>0&&le.jsxs("footer",{className:"flex justify-center gap-3 my-4",children:[le.jsx(Uh,{url:t==null?void 0:t.facebook,children:le.jsx(US,{size:35,color:"#FFF"})}),le.jsx(Uh,{url:t==null?void 0:t.instagram,children:le.jsx(jS,{size:35,color:"#FFF"})}),le.jsx(Uh,{url:t==null?void 0:t.youtube,children:le.jsx(zS,{size:35,color:"#FFF"})})]})]})]})}function Wk(n){return Al({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 13v-2H7V8l-5 4 5 4v-3z"},child:[]},{tag:"path",attr:{d:"M20 3h-9c-1.103 0-2 .897-2 2v4h2V5h9v14h-9v-4H9v4c0 1.103.897 2 2 2h9c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2z"},child:[]}]})(n)}var qk=b_();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kk(n){return q.createElement(qI,{flushSync:qk.flushSync,...n})}function ww(){async function n(){await x1(Np)}return le.jsx("header",{className:"w-full max-w-2xl mt-4 px-1",children:le.jsx("nav",{className:"w-full bg-white h-12 flex items-center justify-between rounded-md px-3",children:le.jsxs("div",{className:"flex gap-4 font-medium",children:[le.jsx(Qs,{to:"/",children:"Home"}),le.jsx(Qs,{to:"/admin",children:"Links"}),le.jsx(Qs,{to:"/admin/social",children:"Redes Sociais"}),le.jsx("button",{onClick:n,children:le.jsx(Wk,{size:28,color:"#db2629"})})]})})})}function Js(n){return le.jsx("input",{className:"border-0 h-9 rounded-md outline-none px-2 mb-3",...n})}function Gk(n){return Al({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]}]})(n)}function Qk(){const[n,e]=q.useState(""),[t,i]=q.useState(""),[o,l]=q.useState("#f1f1f1"),[c,h]=q.useState("#121212"),[p,y]=q.useState([]);q.useEffect(()=>{const I=wf(Xs,"links"),C=DE(I,LE("created","asc")),V=kP(C,$=>{let U=[];$.forEach(H=>{U.push({id:H.id,name:H.data().name,url:H.data().url,bg:H.data().bg,color:H.data().color})}),y(U)});return()=>{V()}},[]);async function v(I){I.preventDefault(),(n===""||t==="")&&alert("Preencha os campos"),PP(wf(Xs,"links"),{name:n,url:t,bg:c,color:o,created:new Date}).then(()=>{e(""),i(""),console.log("Cadastrado com sucesso!")}).catch(C=>{console.log("Erro ao cadastrar no banco"+C)})}async function T(I){const C=wl(Xs,"links",I);await CP(C)}return le.jsxs("div",{className:"flex items-center flex-col min-h-screen pb-7 px-2",children:[le.jsx(ww,{}),le.jsxs("form",{className:"flex flex-col mt-8 mb-3 w-full max-w-xl",onSubmit:v,children:[le.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Nome do link"}),le.jsx(Js,{placeholder:"digite o nome do link...",value:n,onChange:I=>e(I.target.value)}),le.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Url do link"}),le.jsx(Js,{type:"url",placeholder:"digite a link...",value:t,onChange:I=>i(I.target.value)}),le.jsxs("section",{className:"flex my-4 gap-5",children:[le.jsxs("div",{className:"flex gap-4",children:[le.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Cor do link"}),le.jsx("input",{type:"color",value:o,onChange:I=>l(I.target.value)})]}),le.jsxs("div",{className:"flex gap-4",children:[le.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Fundo do link"}),le.jsx("input",{type:"color",value:c,onChange:I=>h(I.target.value)})]})]}),n!==""&&le.jsxs("div",{className:"flex items-center justify-start flex-col mb-7 p-1 border-gray-100/25 border rounded-md",children:[le.jsx("label",{className:"text-white font-medium mt-2 mb-3",children:"Veja como está ficando:"}),le.jsx("article",{className:"w-11/12 max-w-lg flex flex-col items-center justify-between bg-zinc-900 rounded px-1 py-3",style:{marginBottom:8,marginTop:8,backgroundColor:c},children:le.jsx("p",{className:"font-medium",style:{color:o},children:n})})]}),le.jsx("button",{type:"submit",className:"mb-7 bg-blue-600 h-9 rounded-md text-white font-medium gap-4 flex justify-center items-center",children:"Cadastrar"})]}),le.jsx("h2",{className:"font-bold text-white mb-4 text-2xl",children:"Meus links"}),p.map(I=>le.jsxs("article",{className:"flex items-center justify-between w-11/12 max-w-xl rounded py-3 px-2 mb-2 select-none",style:{backgroundColor:I.bg,color:I.color},children:[le.jsx("p",{children:I.name}),le.jsx("div",{children:le.jsx("button",{className:"border border-dashed p-1 rounded bg-slate-700",onClick:()=>T(I.id),children:le.jsx(Gk,{size:18,color:"#fff"})})})]},I.id))]})}function Yk(){const[n,e]=q.useState(""),[t,i]=q.useState(""),o=xf();function l(c){if(c.preventDefault(),n===""||t===""){alert("Preencha todos os campos");return}A1(Np,n,t).then(()=>{console.log("Login realizado com sucesso!"),o("/admin",{replace:!0})}).catch(h=>{console.log("Erro ao fazer login:"),console.log(h)})}return le.jsxs("div",{className:"flex w-full h-screen items-center justify-center flex-col",children:[le.jsx(Qs,{to:"/",children:le.jsxs("h1",{className:"mt-11 text-white mb-7 font-bold text-5xl",children:["Dev",le.jsx("span",{className:"bg-gradient-to-r from-yellow-500 to-orange-400 bg-clip-text text-transparent",children:"Link"})]})}),le.jsxs("form",{onSubmit:l,className:"w-full max-w-xl flex flex-col px-2",children:[le.jsx(Js,{placeholder:"Digite o seu e-mail...",type:"email",value:n,onChange:c=>e(c.target.value)}),le.jsx(Js,{placeholder:"*******",type:"password",value:t,onChange:c=>i(c.target.value)}),le.jsx("button",{type:"submit",className:"h-9 bg-blue-600 rounded border-0 text-lg font-medium text-white",children:"Acessar"})]})]})}function Xk(){const[n,e]=q.useState(""),[t,i]=q.useState(""),[o,l]=q.useState("");q.useEffect(()=>{function h(){const p=wl(Xs,"social","link");FE(p).then(y=>{var v,T,I;y.data()!==void 0&&(e((v=y.data())==null?void 0:v.facebook),i((T=y.data())==null?void 0:T.instagram),l((I=y.data())==null?void 0:I.youtube))})}h()},[]);function c(h){h.preventDefault(),AP(wl(Xs,"social","link"),{facebook:n,instagram:t,youtube:o}).then(()=>{console.log("Cadastrado com sucesso!")}).catch(p=>{console.log("Erro ao Salvar"+p)})}return le.jsxs("div",{className:"flex items-center flex-col min-h-screen pb-7 px-2",children:[le.jsx(ww,{}),le.jsx("h1",{className:"text-white text-2x1 font-medium mt-8 mb-4",children:"Minhas redes sociais"}),le.jsxs("form",{className:"flex flex-col max-w-xl w-full",onSubmit:c,children:[le.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Link do facebook"}),le.jsx(Js,{type:"url",placeholder:"Digite a url do facebook...",value:n,onChange:h=>e(h.target.value)}),le.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Link do instagram"}),le.jsx(Js,{type:"url",placeholder:"Digite a url do instagram...",value:t,onChange:h=>i(h.target.value)}),le.jsx("label",{className:"text-white font-medium mt-2 mb-2",children:"Link do youtube"}),le.jsx(Js,{type:"url",placeholder:"Digite a url do youtube...",value:o,onChange:h=>l(h.target.value)}),le.jsx("button",{type:"submit",className:"text-white bg-blue-100 h-9 rounded-md items-center justify-center flex mb-7 font-medium",children:"Salvar links"})]})]})}function Jk(){return le.jsxs("div",{className:"flex w-full min-h-screen justify-center items-center flex-col text-white",children:[le.jsx("h1",{className:"font-bold  text-6xl",children:"404"}),le.jsx("h1",{className:"font-bold  text-4xl mb-4",children:"Página não encontrada"}),le.jsx("p",{className:"italic text-1xl  mb-4",children:"Você caiu em uma página que não existe!"}),le.jsx(Qs,{to:"/",className:"bg-gray-50/20 py-1 px-4 rounded-md",children:"Voltar para home"})]})}function V_({children:n}){const[e,t]=q.useState(!0),[i,o]=q.useState(!1);return q.useEffect(()=>{const l=k1(Np,c=>{if(c){const h={uid:c==null?void 0:c.uid,email:c==null?void 0:c.email};localStorage.setItem("@reactlinks",JSON.stringify(h)),t(!1),o(!0)}else t(!1),o(!1)});return()=>{l()}},[]),e?le.jsx("div",{}):i?n:le.jsx(QI,{to:"/login"})}const Zk=ES([{path:"/",element:le.jsx(Hk,{})},{path:"/login",element:le.jsx(Yk,{})},{path:"/admin",element:le.jsx(V_,{children:le.jsx(Qk,{})})},{path:"/admin/social",element:le.jsx(V_,{children:le.jsx(Xk,{})})},{path:"*",element:le.jsx(Jk,{})}]);DT.createRoot(document.getElementById("root")).render(le.jsx(q.StrictMode,{children:le.jsx(Kk,{router:Zk})}));
